{"version":3,"sources":["../node_modules/walletlink/dist/index.js","../../../src/internal/Subscriber.ts","../../../src/internal/Observable.ts","../../../src/internal/util/toSubscriber.ts","../../../src/internal/innerSubscribe.ts","../../../src/internal/Subscription.ts","../../../src/internal/Subject.ts","../../../src/internal/scheduler/async.ts","../../../src/internal/util/isArray.ts","../../../src/internal/operators/map.ts","../../../src/internal/observable/empty.ts","../../../src/internal/observable/from.ts","../../../src/internal/util/isScheduler.ts","../../../src/internal/util/identity.ts","../../../src/internal/symbol/observable.ts","../../../src/internal/OuterSubscriber.ts","../../../src/internal/operators/filter.ts","../node_modules/walletlink/dist/util.js","../../src/util.js","../../src/options.js","../../src/create-element.js","../../src/component.js","../../src/create-context.js","../../src/constants.js","../../src/diff/children.js","../../src/diff/props.js","../../src/diff/index.js","../../src/render.js","../../src/clone-element.js","../../src/diff/catch-error.js","../../../src/internal/InnerSubscriber.ts","../../../src/internal/util/subscribeToResult.ts","../../../src/internal/Notification.ts","../../../src/internal/util/ArgumentOutOfRangeError.ts","../../../src/internal/util/EmptyError.ts","../../../src/internal/operators/mergeMap.ts","../../../src/internal/scheduler/AnimationFrameAction.ts","../../../src/internal/scheduler/AnimationFrameScheduler.ts","../../../src/internal/scheduler/animationFrame.ts","../../../src/internal/scheduler/VirtualTimeScheduler.ts","../../../src/internal/util/isObservable.ts","../../../src/internal/observable/bindCallback.ts","../../../src/internal/observable/bindNodeCallback.ts","../../../src/internal/observable/forkJoin.ts","../../../src/internal/observable/fromEvent.ts","../../../src/internal/observable/fromEventPattern.ts","../../../src/internal/observable/generate.ts","../../../src/internal/observable/iif.ts","../../../src/internal/observable/interval.ts","../../../src/internal/observable/never.ts","../../../src/internal/observable/onErrorResumeNext.ts","../../../src/internal/observable/pairs.ts","../../../src/internal/observable/partition.ts","../../../src/internal/observable/range.ts","../../../src/internal/observable/using.ts","../../../src/internal/config.ts","../../../src/internal/util/isFunction.ts","../../../src/internal/util/ObjectUnsubscribedError.ts","../../../src/internal/observable/of.ts","../../../src/internal/observable/fromArray.ts","../../../src/internal/scheduler/AsyncScheduler.ts","../../../src/internal/AsyncSubject.ts","../../../src/internal/symbol/iterator.ts","../../../src/internal/observable/concat.ts","../../../src/internal/operators/audit.ts","../../../src/internal/operators/auditTime.ts","../../../src/internal/operators/buffer.ts","../../../src/internal/operators/bufferCount.ts","../../../src/internal/operators/bufferTime.ts","../../../src/internal/operators/bufferToggle.ts","../../../src/internal/operators/bufferWhen.ts","../../../src/internal/operators/catchError.ts","../../../src/internal/operators/combineAll.ts","../../../src/internal/operators/combineLatest.ts","../../../src/internal/operators/concat.ts","../../../src/internal/operators/concatMap.ts","../../../src/internal/operators/concatMapTo.ts","../../../src/internal/operators/count.ts","../../../src/internal/operators/debounce.ts","../../../src/internal/operators/debounceTime.ts","../../../src/internal/operators/defaultIfEmpty.ts","../../../src/internal/util/isDate.ts","../../../src/internal/operators/delay.ts","../../../src/internal/operators/delayWhen.ts","../../../src/internal/operators/dematerialize.ts","../../../src/internal/operators/distinct.ts","../../../src/internal/operators/distinctUntilChanged.ts","../../../src/internal/operators/distinctUntilKeyChanged.ts","../../../src/internal/operators/throwIfEmpty.ts","../../../src/internal/operators/take.ts","../../../src/internal/operators/elementAt.ts","../../../src/internal/operators/endWith.ts","../../../src/internal/operators/every.ts","../../../src/internal/operators/exhaust.ts","../../../src/internal/operators/exhaustMap.ts","../../../src/internal/operators/expand.ts","../../../src/internal/operators/finalize.ts","../../../src/internal/operators/find.ts","../../../src/internal/operators/findIndex.ts","../../../src/internal/operators/first.ts","../../../src/internal/operators/ignoreElements.ts","../../../src/internal/operators/isEmpty.ts","../../../src/internal/operators/takeLast.ts","../../../src/internal/operators/last.ts","../../../src/internal/operators/mapTo.ts","../../../src/internal/operators/materialize.ts","../../../src/internal/operators/scan.ts","../../../src/internal/operators/reduce.ts","../../../src/internal/operators/max.ts","../../../src/internal/operators/merge.ts","../../../src/internal/operators/mergeMapTo.ts","../../../src/internal/operators/mergeScan.ts","../../../src/internal/operators/min.ts","../../../src/internal/operators/multicast.ts","../../../src/internal/operators/onErrorResumeNext.ts","../../../src/internal/operators/pairwise.ts","../../../src/internal/operators/partition.ts","../../../src/internal/operators/pluck.ts","../../../src/internal/operators/publish.ts","../../../src/internal/operators/publishBehavior.ts","../../../src/internal/operators/publishLast.ts","../../../src/internal/operators/publishReplay.ts","../../../src/internal/operators/race.ts","../../../src/internal/operators/repeat.ts","../../../src/internal/operators/repeatWhen.ts","../../../src/internal/operators/retry.ts","../../../src/internal/operators/retryWhen.ts","../../../src/internal/operators/sample.ts","../../../src/internal/operators/sampleTime.ts","../../../src/internal/operators/sequenceEqual.ts","../../../src/internal/operators/share.ts","../../../src/internal/operators/shareReplay.ts","../../../src/internal/operators/single.ts","../../../src/internal/operators/skip.ts","../../../src/internal/operators/skipLast.ts","../../../src/internal/operators/skipUntil.ts","../../../src/internal/operators/skipWhile.ts","../../../src/internal/operators/startWith.ts","../../../src/internal/observable/SubscribeOnObservable.ts","../../../src/internal/operators/subscribeOn.ts","../../../src/internal/operators/switchMap.ts","../../../src/internal/operators/switchAll.ts","../../../src/internal/operators/switchMapTo.ts","../../../src/internal/operators/takeUntil.ts","../../../src/internal/operators/takeWhile.ts","../../../src/internal/operators/tap.ts","../../../src/internal/operators/throttle.ts","../../../src/internal/operators/throttleTime.ts","../../../src/internal/operators/timeInterval.ts","../../../src/internal/operators/timeoutWith.ts","../../../src/internal/operators/timeout.ts","../../../src/internal/operators/timestamp.ts","../../../src/internal/operators/toArray.ts","../../../src/internal/operators/window.ts","../../../src/internal/operators/windowCount.ts","../../../src/internal/operators/windowTime.ts","../../../src/internal/operators/windowToggle.ts","../../../src/internal/operators/windowWhen.ts","../../../src/internal/operators/withLatestFrom.ts","../../../src/internal/operators/zip.ts","../../../src/internal/operators/zipAll.ts","../../../src/internal/scheduler/AsyncAction.ts","../../../src/internal/scheduler/Action.ts","../../../src/internal/util/pipe.ts","../../../src/internal/operators/refCount.ts","../../../src/internal/operators/groupBy.ts","../../../src/internal/ReplaySubject.ts","../../../src/internal/observable/throwError.ts","../../../src/internal/util/noop.ts","../../../src/internal/observable/combineLatest.ts","../../../src/internal/operators/mergeAll.ts","../../../src/internal/observable/defer.ts","../../../src/internal/util/isNumeric.ts","../../../src/internal/observable/zip.ts","../../src/index.js","../../../src/internal/util/Immediate.ts","../../../src/internal/scheduler/AsapAction.ts","../../../src/internal/scheduler/AsapScheduler.ts","../../../src/internal/scheduler/asap.ts","../../../src/internal/util/subscribeTo.ts","../../../src/internal/util/subscribeToObservable.ts","../../../src/internal/util/subscribeToPromise.ts","../../../src/internal/util/subscribeToIterable.ts","../../../src/internal/scheduler/QueueAction.ts","../../../src/internal/scheduler/QueueScheduler.ts","../../../src/internal/scheduler/queue.ts","../node_modules/walletlink/dist/provider/WalletLinkProvider.js","../../src/index.ts","../../src/classes.ts","../../src/error-constants.ts","../node_modules/walletlink/dist/connection/WalletLinkAnalytics.js","../node_modules/walletlink/dist/init/index.js","../node_modules/walletlink/dist/relay/Session.js","../../../src/internal/util/hostReportError.ts","../../../src/internal/symbol/rxSubscriber.ts","../../../src/internal/util/UnsubscriptionError.ts","../../../src/internal/util/isObject.ts","../../../src/internal/util/canReportError.ts","../../../src/internal/observable/ConnectableObservable.ts","../../../src/internal/BehaviorSubject.ts","../../../src/internal/operators/observeOn.ts","../../../src/internal/scheduled/scheduleArray.ts","../../../src/internal/Scheduler.ts","../../../src/internal/util/TimeoutError.ts","../../../src/internal/operators/concatAll.ts","../../../src/internal/observable/merge.ts","../../../src/internal/observable/race.ts","../../../src/internal/observable/timer.ts","../node_modules/walletlink/dist/types.js","../node_modules/clsx/dist/clsx.m.js","../node_modules/walletlink/dist/relay/RelayMessage.js","../../../src/internal/scheduled/scheduled.ts","../../../src/internal/util/isInteropObservable.ts","../../../src/internal/scheduled/scheduleObservable.ts","../../../src/internal/scheduled/schedulePromise.ts","../../../src/internal/util/isIterable.ts","../../../src/internal/scheduled/scheduleIterable.ts","../../src/utils.ts","../../../src/internal/Observer.ts","../../../src/internal/SubjectSubscription.ts","../../../src/internal/util/subscribeToArray.ts","../../../src/internal/util/isArrayLike.ts","../../../src/internal/util/isPromise.ts","../../../src/internal/util/not.ts","../node_modules/walletlink/dist/relay/WalletLinkRelayAbstract.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/util.js","../node_modules/walletlink/node_modules/pify/index.js","../node_modules/walletlink/dist/WalletLink.js","../node_modules/walletlink/dist/components/QRCode.js","../node_modules/walletlink/dist/components/Spinner.js","../node_modules/walletlink/dist/version.js","../node_modules/walletlink/dist/relay/Web3Method.js","../../src/errors.ts","../node_modules/walletlink/dist/init/events.js","../node_modules/walletlink/dist/init/WalletLinkAnalyticsAbstract.js","../node_modules/js-sha256/src/sha256.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/index.js","../node_modules/walletlink/dist/vendor-js/eth-eip712-util/abi.js","../node_modules/walletlink/dist/provider/FilterPolyfill.js","../node_modules/walletlink/dist/provider/JSONRPC.js","../node_modules/walletlink/dist/provider/SubscriptionManager.js","../node_modules/walletlink/node_modules/eth-block-tracker/src/polling.js","../node_modules/walletlink/node_modules/eth-block-tracker/src/base.js","../node_modules/walletlink/dist/lib/ScopedLocalStorage.js","../node_modules/walletlink/dist/provider/WalletLinkSdkUI.js","../node_modules/walletlink/dist/components/LinkFlow.js","../node_modules/walletlink/dist/components/LinkDialog.js","../node_modules/walletlink/dist/components/LinkDialog-css.js","../node_modules/walletlink/dist/vendor-js/qrcode-svg/index.js","../node_modules/walletlink/dist/components/Spinner-css.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog.js","../node_modules/walletlink/dist/components/icons/globe-icon-svg.js","../node_modules/walletlink/dist/components/icons/link-icon-svg.js","../node_modules/walletlink/dist/components/icons/lock-icon-svg.js","../node_modules/walletlink/dist/components/icons/QRLogo.js","../node_modules/walletlink/dist/components/TryExtensionLinkDialog-css.js","../node_modules/walletlink/dist/components/Snackbar.js","../node_modules/walletlink/dist/components/Snackbar-css.js","../node_modules/walletlink/dist/lib/cssReset.js","../node_modules/walletlink/dist/lib/cssReset-css.js","../node_modules/walletlink/dist/provider/WalletLinkUI.js","../node_modules/walletlink/dist/relay/WalletLinkRelay.js","../node_modules/bind-decorator/index.js","../node_modules/walletlink/dist/connection/WalletLinkConnection.js","../node_modules/walletlink/dist/connection/ClientMessage.js","../node_modules/walletlink/dist/connection/RxWebSocket.js","../node_modules/walletlink/dist/connection/ServerMessage.js","../node_modules/walletlink/dist/relay/aes256gcm.js","../node_modules/walletlink/dist/relay/Web3RequestCanceledMessage.js","../node_modules/walletlink/dist/relay/Web3RequestMessage.js","../node_modules/walletlink/dist/relay/Web3Response.js","../node_modules/walletlink/dist/relay/Web3ResponseMessage.js","../node_modules/walletlink/dist/relay/WalletLinkRelayEventManager.js"],"names":["Object","defineProperty","exports","value","WalletLink","WalletLinkProvider","WalletLinkProvider_1","require","WalletLink_1","WalletLinkProvider_2","enumerable","get","WalletLink_2","default","window","Subscriber","_super","_this","arguments","destination","destinationOrNext","syncErrorThrowable","tslib_1","next","error","complete","subscriber","isStopped","unsubscribe","_next","_error","err","_complete","_parentOrParents","closed","SafeSubscriber","observerOrNext","context","isFunction","emptyObserver","_context","_parentSubscriber","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","syncErrorValue","hostReportError","wrappedComplete","fn","config","prototype","parent","syncErrorThrown","Observable","subscribe","lift","operator","observable","source","sink","nextOrObserver","_subscribe","canReportError","console","forEach","promiseCtor","reject","subscription","operations","length","toPromise","create","getPromiseCtor","SimpleInnerSubscriber","SimpleOuterSubscriber","notifyError","notifyComplete","innerSubscribe","innerSubscriber","result","Subscription","_ctorUnsubscribe","empty","errors","_a","_unsubscribe","_subscriptions","index","parent_1","e","isArray","sub","isObject","UnsubscriptionError","add","teardown","indexOf","subscriptions","subscriptionIndex","flattenUnsubscriptionErrors","SubjectSubscriber","Subject","AnonymousSubject","subject","observers","len","i","copy","hasError","thrownError","asObservable","asyncScheduler","map","project","MapOperator","MapSubscriber","thisArg","count","scheduler","from","input","isScheduler","identity","OuterSubscriber","notifyNext","filter","FilterOperator","predicate","FilterSubscriber","__importDefault","this","mod","__esModule","getFavicon","range","isBigNumber","ensureParsedJSONObject","ensureBN","ensureRegExpString","ensureIntNumber","ensureBuffer","ensureAddressString","ensureEvenLengthHexString","ensureHexString","isHexString","prepend0x","strip0x","has0xPrefix","hexStringFromIntNumber","intNumberFromHexString","bigIntStringFromBN","hexStringFromBuffer","hexStringToUint8Array","uint8ArrayToHex","randomBytesHex","bn_js_1","types_1","INT_STRING_REGEX","HEXADECIMAL_STRING_REGEX","b","toString","padStart","join","str","startsWith","hex","slice","s","toLowerCase","test","includePrefix","HexString","Error","String","h","num","Number","isInteger","IntNumber","toNumber","val","constructor","EUCLID","crypto","getRandomValues","Uint8Array","hexString","match","byte","parseInt","buf","bn","BigIntString","AddressString","Buffer","isBuffer","regExp","RegExp","RegExpString","isBN","JSON","parse","start","stop","Array","_","el","document","querySelector","location","protocol","host","href","getAttribute","options","vnodeId","isValidElement","rerenderQueue","prevDebounce","EMPTY_OBJ","EMPTY_ARR","IS_NON_DIMENSIONAL","assign","obj","props","removeNode","node","parentNode","removeChild","createElement","type","children","key","ref","normalizedProps","call","defaultProps","createVNode","original","vnode","__k","__","__b","__e","__d","__c","__h","__v","createRef","current","Fragment","Component","getDomSibling","childIndex","sibling","updateParentDomPointers","child","base","enqueueRender","c","push","process","debounceRendering","setTimeout","queue","__r","sort","a","some","component","commitQueue","oldVNode","oldDom","parentDom","__P","diff","ownerSVGElement","commitRoot","diffChildren","renderResult","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","childVNode","newDom","firstChildDom","refs","oldChildren","oldChildrenLength","reorderChildren","placeChild","unmount","applyRef","tmp","toChildArray","out","nextDom","sibDom","outer","appendChild","nextSibling","insertBefore","setStyle","style","setProperty","dom","name","oldValue","useCapture","o","cssText","replace","l","addEventListener","eventProxyCapture","eventProxy","removeEventListener","removeAttribute","setAttribute","event","newVNode","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","renderHook","newType","contextType","__E","render","doRender","state","getDerivedStateFromProps","__s","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","_sb","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","root","cb","oldHtml","newHtml","nodeType","localName","createTextNode","createElementNS","is","data","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","diffProps","hydrate","checked","parentVNode","skipRemove","r","componentWillUnmount","replaceNode","firstChild","cloneElement","createContext","defaultValue","contextId","Consumer","contextValue","Provider","subs","ctx","_props","old","splice","errorInfo","ctor","handled","getDerivedStateFromError","setState","componentDidCatch","update","callback","forceUpdate","InnerSubscriber","outerValue","NotificationKind","Notification","kind","observe","observer","of","throwError","ArgumentOutOfRangeErrorImpl","message","EmptyErrorImpl","concurrent","resultSelector","MergeMapOperator","MergeMapSubscriber","innerSubscription","hasCompleted","buffer","AnimationFrameAction","delay","id","cancelAnimationFrame","AnimationFrameScheduler","active","actions","action","animationFrameScheduler","VirtualTimeScheduler","SchedulerAction","maxFrames","frame","VirtualAction","schedule","recycleAsyncId","isObservable","bindCallback","params","callbackFunc","args","AsyncSubject","handler","dispatch","innerArgs","dispatchNext","bindNodeCallback","arg","dispatchError","sources","first_1","pop","forkJoinInternal","values","completed","_loop_1","hasValue","emitted","keys","fromEvent","target","setupSubscription","isEventTarget","sourceObj","isJQueryStyleEventEmitter","isNodeStyleEventEmitter","fromEventPattern","retValue","generate","initialState","initialStateOrOptions","condition","iterate","undefined","conditionResult","trueResult","period","async","counter","never","first","remainder","pairs","partition","using","resource","EMPTY","Promise","_enable_super_gross_mode_that_will_cause_bad_things","ObjectUnsubscribedErrorImpl","fromArray","AsyncScheduler","now","Scheduler","work","getSymbolIterator","Symbol","iterator","audit","AuditOperator","AuditSubscriber","durationSelector","duration","throttled","remove","BufferOperator","closingNotifier","BufferSubscriber","startBufferEvery","BufferCountOperator","bufferSize","BufferCountSubscriber","BufferSkipCountSubscriber","buffers","bufferTime","bufferTimeSpan","bufferCreationInterval","maxBufferSize","BufferTimeOperator","Context","BufferTimeSubscriber","closeState","dispatchBufferClose","contexts","context_1","filledBufferContext","onBufferFull","closeAction","timeSpanOnlyState","openContext","dispatchBufferTimeSpanOnly","prevContext","dispatchBufferCreation","bufferToggle","BufferToggleOperator","BufferToggleSubscriber","openings","closingSelector","context_2","closeBuffer","trySubscribe","subscribeToResult","bufferWhen","BufferWhenOperator","BufferWhenSubscriber","subscribing","closingSubscription","catchError","CatchOperator","selector","CatchSubscriber","err2","combineAll","observables","concatMap","concatMapTo","CountOperator","CountSubscriber","debounce","DebounceOperator","DebounceSubscriber","emitValue","DebounceTimeOperator","DebounceTimeSubscriber","dueTime","clearDebounce","lastValue","debouncedSubscription","DefaultIfEmptyOperator","DefaultIfEmptySubscriber","isDate","DelayOperator","DelaySubscriber","notification","delay_1","DelayMessage","scheduleNotification","errored","delayWhen","subscriptionDelay","SubscriptionDelayObservable","DelayWhenOperator","DelayWhenSubscriber","removeSubscription","innerSub","delayNotifier","tryComplete","subscriptionIdx","notifierSubscription","SubscriptionDelaySubscriber","sourceSubscribed","dematerialize","DeMaterializeOperator","DeMaterializeSubscriber","distinct","DistinctOperator","DistinctSubscriber","keySelector","flushes","_finalizeNext","distinctUntilChanged","DistinctUntilChangedOperator","DistinctUntilChangedSubscriber","compare","distinctUntilKeyChanged","errorFactory","defaultErrorFactory","ThrowIfEmptyOperator","ThrowIfEmptySubscriber","take","TakeOperator","total","TakeSubscriber","elementAt","pipe","v","defaultIfEmpty","every","EveryOperator","EverySubscriber","exhaust","SwitchFirstOperator","SwitchFirstSubscriber","hasSubscription","exhaustMap","ExhaustMapOperator","ExhaustMapSubscriber","ExpandOperator","ExpandSubscriber","finalize","FinallyOperator","FinallySubscriber","find","FindValueOperator","FindValueSubscriber","findIndex","ignoreElements","IgnoreElementsOperator","IgnoreElementsSubscriber","isEmpty","IsEmptyOperator","IsEmptySubscriber","takeLast","TakeLastOperator","TakeLastSubscriber","ring","last","mapTo","MapToOperator","MapToSubscriber","x","materialize","MaterializeOperator","MaterializeSubscriber","scan","hasSeed","ScanOperator","ScanSubscriber","_seed","set","configurable","reduce","max","comparer","y","MergeScanOperator","MergeScanSubscriber","ish","_innerSub","innerValue","min","multicast","subjectFactory","connectable","MulticastOperator","nextSources","OnErrorResumeNextOperator","OnErrorResumeNextSubscriber","subscribeToNextSource","pairwise","PairwiseOperator","PairwiseSubscriber","pair","plucker","p","currentProp","publish","publishBehavior","publishLast","publishReplay","selectorOrScheduler","ReplaySubject","windowTime","RepeatOperator","RepeatSubscriber","repeatWhen","notifier","RepeatWhenOperator","RepeatWhenSubscriber","sourceIsBeingSubscribedTo","_unsubscribeAndRecycle","notifications","retriesSubscription","retries","RetryOperator","RetrySubscriber","retryWhen","RetryWhenOperator","RetryWhenSubscriber","sample","SampleOperator","sampleSubscriber","SampleSubscriber","SampleTimeOperator","SampleTimeSubscriber","dispatchNotification","sequenceEqual","SequenceEqualOperator","compareTo","SequenceEqualSubscriber","_oneComplete","_c","_b","comparator","shift","areEqual","nextB","SequenceEqualCompareToSubscriber","shareSubjectFactory","share","shareReplay","configOrBufferSize","refCount","shareReplayOperator","useRefCount","shareReplayOperation","isComplete","single","SingleOperator","SingleSubscriber","seenValue","skip","SkipOperator","SkipSubscriber","skipLast","SkipLastOperator","SkipLastSubscriber","_skipCount","_count","skipCount","currentIndex","skipUntil","SkipUntilOperator","SkipUntilSubscriber","skipWhile","SkipWhileOperator","SkipWhileSubscriber","skipping","array","SubscribeOnObservable","delayTime","asap","SubscribeOnOperator","switchMap","SwitchMapOperator","SwitchMapSubscriber","switchAll","switchMapTo","innerObservable","takeUntil","TakeUntilOperator","takeUntilSubscriber","TakeUntilSubscriber","inclusive","TakeWhileOperator","TakeWhileSubscriber","nextOrComplete","tap","DoOperator","TapSubscriber","noop","_tapComplete","_tapError","_tapNext","defaultThrottleConfig","leading","trailing","ThrottleOperator","ThrottleSubscriber","send","_hasValue","_sendValue","_throttled","_trailing","throttlingDone","ThrottleTimeOperator","ThrottleTimeSubscriber","_trailingValue","_hasTrailingValue","defer","TimeInterval","TimeoutWithOperator","waitFor","TimeoutWithSubscriber","Timestamp","toArrayReducer","arr","toArray","WindowOperator","windowSubscriber","WindowSubscriber","sourceSubscription","prevWindow","startWindowEvery","WindowCountOperator","WindowCountSubscriber","windows","windowCreationInterval","maxWindowSize","POSITIVE_INFINITY","WindowTimeOperator","CountedSubject","WindowTimeSubscriber","windowTimeSpan","dispatchWindowClose","window_1","window_2","dispatchWindowTimeSpanOnly","dispatchWindowCreation","windowToggle","WindowToggleOperator","WindowToggleSubscriber","context_3","context_4","inner","windowWhen","closingNotification","WithLatestFromOperator","WithLatestFromSubscriber","toRespond","found","zipAll","AsyncAction","setInterval","clearInterval","_execute","errorValue","Action","pipeFromArray","fns","RefCountOperator","refCounter","RefCountSubscriber","_refCount","connection","sharedConnection","groupBy","GroupByOperator","elementSelector","GroupBySubscriber","_group","groups","element","group","subjectSelector","groupedObservable","removeGroup","GroupDurationSubscriber","GroupedObservable","refCountSubscription","groupSubject","InnerRefCountSubscription","_events","_getNow","_infiniteTimeWindow","SubjectSubscription","_windowTime","spliceCount","eventsCount","ReplayEvent","CombineLatestOperator","CombineLatestSubscriber","NONE","oldVal","isNumeric","ZipOperator","ZipSubscriber","iterators","StaticArrayIterator","StaticIterator","notifyInactive","shouldComplete","done","ZipBufferIterator","currentComponent","previousComponent","prevRaf","currentHook","afterPaintEffects","oldBeforeDiff","oldBeforeRender","oldAfterDiff","oldCommit","oldBeforeUnmount","getHookState","hooks","__H","__V","useState","useReducer","invokeOrReturn","reducer","init","hookState","_reducer","currentValue","__N","nextValue","_hasScuFromHooks","prevScu","stateHooks","shouldUpdate","hookItem","useEffect","argsChanged","_pendingArgs","useLayoutEffect","useRef","initialValue","useMemo","useImperativeHandle","createHandle","concat","factory","useCallback","useContext","useDebugValue","formatter","useErrorBoundary","errState","useId","__m","mask","flushAfterPaintEffects","invokeCleanup","invokeEffect","requestAnimationFrame","afterNextFrame","hasErrored","HAS_RAF","raf","clearTimeout","timeout","hook","comp","cleanup","oldArgs","newArgs","f","nextHandle","RESOLVED","findAndClearHandle","handle","activeHandles","AsapAction","Immediate","AsapScheduler","asapScheduler","subscribeTo","promise","then","iterable","item","QueueAction","execute","QueueScheduler","queueScheduler","safe_event_emitter_1","eth_rpc_errors_1","WalletLinkAnalytics_1","init_1","Session_1","WalletLinkRelayAbstract_1","util_1","eth_eip712_util_1","FilterPolyfill_1","JSONRPC_1","SubscriptionManager_1","DEFAULT_CHAIN_ID_KEY","DEFAULT_JSON_RPC_URL","HAS_CHAIN_BEEN_SWITCHED_KEY","HAS_CHAIN_OVERRIDDEN_FROM_RELAY","_filterPolyfill","FilterPolyfill","_subscriptionManager","SubscriptionManager","_relay","_addresses","hasMadeFirstChainChangedEmission","_send","bind","_sendAsync","sendAsync","setProviderInfo","updateProviderInfo","getChainId","setAppInfo","enable","close","request","_setAddresses","scanQRCode","genericRequest","_jsonRpcUrlFromOpts","jsonRpcUrl","_overrideIsMetaMask","overrideIsMetaMask","_relayProvider","relayProvider","_storage","storage","_relayEventManager","relayEventManager","_walletLinkAnalytics","walletLinkAnalytics","WalletLinkAnalytics","isCoinbaseWallet","overrideIsCoinbaseWallet","chainId","chainIdStr","emit","cachedAddresses","getItem","LOCAL_STORAGE_ADDRESSES_KEY","addresses","split","address","events","on","method","initializeRelay","_chainId","setItem","isChainOverridden","fromRelay","originalChainId","symbol","decimals","image","relay","watchAsset","rpcUrls","blockExplorerUrls","chainName","iconUrls","nativeCurrency","addEthereumChain","res","isApproved","switchEthereumChain","errorCode","ethErrors","custom","code","switchResponse","rpcUrl","appName","appLogoUrl","sendEvent","EVENTS","ETH_ACCOUNTS_STATE","addresses_length","sessionIdHash","Session","hash","session","JSONRPCMethod","eth_requestAccounts","resetAndReload","requestOrMethod","callbackOrParams","jsonrpc","_sendRequestAsync","_sendRequest","req","arrayCb","_sendMultipleRequestsAsync","responses","catch","response","rpc","invalidRequest","newParams","makeRequestId","_handleSynchronousMethods","newAddresses","stringify","dispatchEvent","CustomEvent","detail","resolve","syncResult","filterPromise","_handleAsynchronousFilterMethods","subscriptionPromise","_handleSubscriptionMethods","_handleAsynchronousMethods","requests","all","eth_accounts","_eth_accounts","eth_coinbase","_eth_coinbase","eth_uninstallFilter","_eth_uninstallFilter","net_version","_net_version","eth_chainId","_eth_chainId","eth_sign","eth_ecRecover","personal_sign","personal_ecRecover","eth_signTransaction","eth_sendRawTransaction","eth_sendTransaction","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","eth_signTypedData","walletlink_arbitrary","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_watchAsset","_eth_requestAccounts","_eth_sign","_eth_ecRecover","_personal_sign","_personal_ecRecover","_eth_signTransaction","_eth_sendRawTransaction","_eth_sendTransaction","_eth_signTypedData_v1","_throwUnsupportedMethodError","_eth_signTypedData_v3","_eth_signTypedData_v4","_walletlink_arbitrary","_wallet_addEthereumChain","_wallet_switchEthereumChain","_wallet_watchAsset","makeEthereumJSONRPCRequest","eth_newFilter","_eth_newFilter","eth_newBlockFilter","_eth_newBlockFilter","eth_newPendingTransactionFilter","_eth_newPendingTransactionFilter","eth_getFilterChanges","_eth_getFilterChanges","eth_getFilterLogs","_eth_getFilterLogs","eth_subscribe","eth_unsubscribe","handleRequest","addressString","lowercaseAddresses","includes","_isKnownAddress","UNKNOWN_ADDRESS_ENCOUNTERED","tx","fromAddress","selectedAddress","_ensureKnownAddress","toAddress","to","weiValue","alloc","nonce","gasPriceInWei","gasPrice","maxFeePerGas","maxPriorityFeePerGas","gasLimit","gas","unauthorized","unsupportedMethod","addPrefix","typedDataJson","signEthereumMessage","userRejectedRequest","signature","ethereumAddressFromSignedMessage","requestEthereumAccounts","_requireAuthorization","_signEthereumMessage","_ethereumAddressFromSignedMessage","_prepareTransactionParams","signEthereumTransaction","signedTransaction","submitEthereumTransaction","signAndSubmitEthereumTransaction","typedData","hashForSignTypedDataLegacy","typedDataJSON","hashForSignTypedData_v3","hashForSignTypedData_v4","trim","chainIdNumber","_d","invalidParams","filterId","uninstallFilter","param","newFilter","newBlockFilter","newPendingTransactionFilter","getFilterChanges","getFilterLogs","setAccountsCallback","accounts","setChainCallback","classes_1","utils_1","errors_1","error_constants_1","EthereumRpcError","serialized","stack","fast_safe_stringify_1","serialize","stringifyReplacer","EthereumProviderError","isValidEthProviderCode","invalidInput","resourceNotFound","resourceUnavailable","transactionRejected","methodNotSupported","limitExceeded","methodNotFound","internal","disconnected","chainDisconnected","standard","_eventType","_eventProperties","__createBinding","m","k","k2","__exportStar","hasOwnProperty","js_sha256_1","rxjs_1","operators_1","STORAGE_KEY_SESSION_ID","STORAGE_KEY_SESSION_SECRET","STORAGE_KEY_SESSION_LINKED","secret","linked","_id","_secret","sha256","_key","_linked","persistLinked","evt","newValue","sessionId","UnsubscriptionErrorImpl","closed_1","ConnectableObservable","getSubject","connectableObservableDescriptor","writable","_subject","_connection","connectableProto","_isComplete","connect","ConnectableSubscriber","BehaviorSubject","ObserveOnOperator","ObserveOnSubscriber","scheduleMessage","createNext","createComplete","scheduleArray","TimeoutErrorImpl","concatAll","RaceOperator","RaceSubscriber","hasFirst","outerIndex","periodOrScheduler","OpaqueType","Math","floor","t","n","clsx","RelayMessageType","scheduled","isInteropObservable","scheduleIterable","Symbol_iterator","FALLBACK_ERROR_CODE","FALLBACK_MESSAGE","FALLBACK_ERROR","getMessageFromCode","fallbackMessage","codeString","hasKey","isJsonRpcServerError","isValidCode","assignOriginalError","fallbackError","shouldIncludeStack","originalError","subscriberIndex","subscribeToArray","isPromise","not","pred","notPred","WalletLinkRelayAbstract","APP_VERSION_KEY","WALLET_USER_NAME_KEY","fetch","body","mode","headers","json","serializeError","createKeccakHash","BN","zeros","bytes","allocUnsafe","fill","setLength","msg","right","toBuffer","stripHexPrefix","intToBuffer","toArrayLike","module","setLengthRight","bufferToHex","keccak","bits","digest","processFn","opts","P","promiseModule","errorFirst","multiArgs","results","unshift","apply","exclude","ret","pattern","include","excludeMain","getPrototypeOf","ScopedLocalStorage_1","WalletLinkSdkUI_1","WalletLinkRelay_1","WalletLinkRelayEventManager_1","WALLETLINK_URL","WALLETLINK_VERSION","version","_appName","_appLogoUrl","walletLinkUIConstructor","walletLinkUrl","WalletLinkSdkUI","_overrideIsCoinbaseWallet","u","URL","walletLinkOrigin","ScopedLocalStorage","VERSION","walletLinkExtension","WalletLinkRelayEventManager","WalletLinkRelay","darkMode","attachUI","isCipher","setConnectDisabled","QRCode","preact_1","hooks_1","qrcode_svg_1","svg","setSvg","qrcode","content","background","bgColor","color","fgColor","container","ecl","width","height","padding","base64","src","alt","Spinner","Spinner_css_1","size","class","viewBox","xmlns","cx","cy","stroke","LIB_VERSION","Web3Method","getEthJsonRpcError","parseOpts","getEthProviderError","server","REQUEST_CHILD_ETHEREUM_ACCOUNTS_START","REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE","STARTED_CONNECTING","CONNECTED_STATE_CHANGE","DISCONNECTED","METADATA_DESTROYED","LINKED","FAILURE","SESSION_CONFIG_RECEIVED","SESSION_STATE_CHANGE","UNLINKED_ERROR_STATE","SKIPPED_CLEARING_SESSION","GENERAL_ERROR","WEB3_REQUEST","WEB3_REQUEST_PUBLISHED","WEB3_RESPONSE","WalletLinkAnalyticsAbstract","ERROR","WINDOW","JS_SHA256_NO_WINDOW","WEB_WORKER","self","NODE_JS","JS_SHA256_NO_NODE_JS","versions","global","COMMON_JS","JS_SHA256_NO_COMMON_JS","AMD","define","ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER","ArrayBuffer","HEX_CHARS","EXTRA","SHIFT","K","OUTPUT_TYPES","blocks","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","isView","createOutputMethod","outputType","is224","Sha256","createMethod","nodeWrap","eval","algorithm","nodeMethod","createHash","createHmacOutputMethod","HmacSha256","createHmacMethod","sharedMemory","h0","h1","h2","h3","h4","h5","h6","h7","block","hBytes","finalized","hashed","charCodeAt","oKeyPad","iKeyPad","notString","lastByteIndex","s0","s1","maj","t1","ab","da","cd","bc","d","g","arrayBuffer","dataView","DataView","setUint32","innerHash","sha224","hmac","util","abi","TYPED_MESSAGE_SCHEMA","properties","types","additionalProperties","items","required","primaryType","domain","TypedDataUtils","encodeData","useV4","encodedTypes","encodedValues","hashType","encodeField","lastIndexOf","parsedType","typeValuePairs","rawEncode","field","encodeType","deps","findTypeDependencies","dep","hashStruct","sanitizeData","sanitizedData","EIP712Domain","parts","msgParams","schema","soliditySHA3","typedSignatureHashLegacy","elementaryName","parseTypeN","exec","parseTypeNxM","parseTypeArray","parseNumber","encodeSingle","bitLength","toTwos","mul","pow","isDynamic","solidityPack","output","headLength","cur","filterFromParam","JSONRPC_TEMPLATE","logFilters","Map","blockFilters","Set","pendingTransactionFilters","cursors","timeouts","nextFilterId","makeFilterId","setInitialCursorPosition","fromBlock","cursor","log","setFilterTimeout","deleteFilter","has","getLogFilterChanges","getBlockFilterChanges","getPendingTransactionFilterChanges","filterNotFoundError","sendAsyncPromise","paramFromFilter","delete","cursorPosition","getCurrentBlockHeight","currentBlockHeight","toBlock","emptyResult","blockNumber","highestBlock","newCursorPosition","getBlockHashByNumber","startBlock","initialCursorPosition","existing","intBlockHeightFromHexBlockHeight","topics","hexBlockHeightFromIntBlockHeight","PollingBlockTracker","createSubscriptionManager","blockTracker","pollingInterval","setSkipCacheFlag","middleware","subscriptionMiddleware","destroy","pify","BaseBlockTracker","retryTimeout","keepEventLoopActive","blockResetDuration","_provider","_pollingInterval","_retryTimeout","_keepEventLoopActive","_setSkipCacheFlag","_updateLatestBlock","getLatestBlock","_performSync","_isRunning","newErr","emitErr","_fetchLatestBlock","latestBlock","_newPotentialLatest","skipCache","unref","timoutRef","SafeEventEmitter","calculateSum","accumulator","blockTrackerEvents","_blockResetDuration","_blockResetTimeout","_currentBlock","_onNewListener","_onRemoveListener","_resetCurrentBlock","_setupInternalEvents","once","eventName","removeListener","_maybeStart","_getBlockTrackerEventCount","_maybeEnd","_cancelBlockResetTimeout","_start","_setupBlockResetTimeout","_end","listenerCount","newBlock","currentBlock","hexToInt","_setCurrentBlock","oldBlock","hexInt","scope","localStorage","scopedKey","removeItem","prefix","keysToRemove","LinkFlow_1","Snackbar_1","cssReset_1","attached","snackbar","Snackbar","linkFlow","LinkFlow","sessionSecret","connected$","isParentConnection","documentElement","className","attach","injectCssReset","connectDisabled","open","onCancel","snackbarProps","isUnlinkedErrorState","autoExpand","menuItems","isRed","info","svgWidth","svgHeight","path","defaultFillRule","defaultClipRule","onClick","onResetConnection","presentItem","reload","WalletLinkUI","LinkDialog_1","TryExtensionLinkDialog_1","extensionUI$","isConnected","isOpen","enabled","desktop","extension_ui","parentElement","TryExtensionLinkDialog","LinkDialog","clsx_1","LinkDialog_css_1","QRCode_1","Spinner_1","version_1","isContainerHidden","setContainerHidden","isDialogHidden","setDialogHidden","timers","ScanQRCode","CancelButton","serverUrl","encodeURIComponent","sessionIdKey","qrUrl","title","rel","QR8bitByte","QRMode","MODE_8BIT_BYTE","parsedData","byteArray","QRCodeModel","typeNumber","errorCorrectLevel","modules","moduleCount","dataCache","dataList","getLength","write","put","addData","newData","isDark","row","col","getModuleCount","make","makeImpl","getBestMaskPattern","maskPattern","setupPositionProbePattern","setupPositionAdjustPattern","setupTimingPattern","setupTypeInfo","setupTypeNumber","createData","mapData","minLostPoint","lostPoint","QRUtil","getLostPoint","createMovieClip","target_mc","instance_name","depth","qr_mc","createEmptyMovieClip","beginFill","moveTo","lineTo","endFill","pos","getPatternPosition","getBCHTypeNumber","getBCHTypeInfo","inc","bitIndex","byteIndex","dark","getMask","PAD0","PAD1","rsBlocks","QRRSBlock","getRSBlocks","QRBitBuffer","getLengthInBits","totalDataCount","dataCount","putBit","createBytes","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","rsPoly","getErrorCorrectPolynomial","modPoly","QRPolynomial","modIndex","totalCodeCount","MODE_NUMBER","MODE_ALPHA_NUM","MODE_KANJI","QRErrorCorrectLevel","QRMaskPattern","PATTERN_POSITION_TABLE","G15","G18","G15_MASK","getBCHDigit","digit","errorCorrectLength","multiply","QRMath","gexp","qrCode","sameCount","darkCount","abs","glog","LOG_TABLE","EXP_TABLE","ratio","RS_BLOCK_TABLE","rsBlock","getRsBlockTable","list","bufIndex","bit","QRCodeLimitLength","encodeURI","_getUTF8Length","limit","table","_getTypeNumber","_getErrorCorrectLevel","opt","pretty","indent","EOL","xsize","ysize","swap","xmlDeclaration","predefined","defs","bgrect","modrect","pathdata","px","py","w","toFixed","imgSvg","imgWidth","imgHeight","imgY","globe_icon_svg_1","link_icon_svg_1","lock_icon_svg_1","QRLogo_1","TryExtensionLinkDialog_css_1","TryExtensionBox","onInstallClick","ScanQRBox","DescriptionItem","icon","text","Snackbar_css_1","nextItemKey","itemProps","clear","SnackbarContainer","entries","SnackbarInstance","hidden","setHidden","expanded","setExpanded","cssReset_css_1","styleEl","__setModuleDefault","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__importStar","bind_decorator_1","WalletLinkConnection_1","aes256gcm","Web3Method_1","Web3RequestCanceledMessage_1","Web3RequestMessage_1","Web3Response_1","Web3ResponseMessage_1","accountsCallback","chainCallback","_session","load","save","WalletLinkConnection","incomingEvent$","handleIncomingEvent","linked$","isLinked","wasConnectedViaStandalone","getSessionIdHash","origin","sessionConfig$","metadata","__destroyed","alreadyDestroyed","isDestroyed","WalletUsername","mergeMap","decrypt","walletUsername","AppVersion","appVersion","ChainId","JsonRpcUrl","zip","EthereumAddress","accountRequestCallbackIds","Web3ResponseMessage","RequestEthereumAccountsResponse","invokeCallback","ui","setSessionMetadata","sessionMetadataChange","storedSession","storedSessionIdHash","reloadUI","sendRequest","shouldSubmit","generic","hideSnackbarItem","cancel","publishWeb3RequestCanceledEvent","handleWeb3ResponseMessage","ErrorResponse","isStandalone","showConnecting","callbacks","errorMessage","sendRequestStandalone","publishWeb3RequestEvent","disabled","Web3RequestMessage","eventId","isSessionMismatched","publishEvent","Web3RequestCanceledMessage","callWebhook","encrypt","encrypted","isWeb3ResponseMessage","isRequestEthereumAccountsResponse","hideRequestEthereumAccounts","userAgent","navigator","inlineAccountsResponse","onAccounts","inlineWatchAsset","onApprove","WatchAssetReponse","inlineAddEthereumChain","AddEthereumChainResponse","inlineSwitchEthereumChain","SwitchEthereumChainResponse","_cancel","onSuccess","constants","propertyKey","descriptor","typeOfFunction","TypeError","boolTrue","bound","ClientMessage_1","RxWebSocket_1","ServerMessage_1","HEARTBEAT_INTERVAL","sessionKey","WebSocketClass","WebSocket","destroyed","lastHeartbeatResponse","nextReqId","connectedSubject","linkedSubject","sessionConfigSubject","ws","RxWebSocket","connectionState$","cs","ConnectionState","flatMap","retry","iif","CONNECTED","authenticate","sendIsLinked","sendGetSessionConfig","connected","timer","updateLastHeartbeat","heartbeat","incomingData$","incomingJSONData$","onlineGuests","metadata_keys","webhookId","webhookUrl","disconnect","sme","ClientMessageSetSessionConfig","onceConnected$","makeRequest","isServerMessageFail","ClientMessagePublishEvent","onceLinked$","sendData","Date","reqId","timeoutWith","ClientMessageHostSession","ClientMessageIsLinked","ClientMessageGetSessionConfig","url","webSocket","connectionStateSubject","incomingDataSubject","obs","CONNECTING","onclose","clearWebSocket","reason","onopen","onmessage","onerror","plainText","ivBytes","subtle","importKey","secretKey","enc","TextEncoder","iv","encode","encryptedResult","authTag","byteLength","encryptedPlaintext","authTagBytes","encryptedPlaintextBytes","concatted","cipherText","concattedBytes","algo","decrypted","decoder","TextDecoder","decode","RelayMessage_1","WEB3_REQUEST_CANCELED","EthereumAddressFromSignedMessageResponse","SubmitEthereumTransactionResponse","SignEthereumTransactionResponse","SignEthereumMessageResponse","addResponse","success","signedData","txHash","_nextRequestId","idStr"],"mappings":"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AAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,C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","file":"static/js/5.ed1354bb.chunk.js","sourcesContent":["\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = exports.WalletLinkProvider = void 0;\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLink_1 = require(\"./WalletLink\");\nvar WalletLinkProvider_2 = require(\"./provider/WalletLinkProvider\");\nObject.defineProperty(exports, \"WalletLinkProvider\", { enumerable: true, get: function () { return WalletLinkProvider_2.WalletLinkProvider; } });\nvar WalletLink_2 = require(\"./WalletLink\");\nObject.defineProperty(exports, \"WalletLink\", { enumerable: true, get: function () { return WalletLink_2.WalletLink; } });\nexports.default = WalletLink_1.WalletLink;\nif (typeof window !== \"undefined\") {\n    window.WalletLink = WalletLink_1.WalletLink;\n    window.WalletLinkProvider = WalletLinkProvider_1.WalletLinkProvider;\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getFavicon = exports.range = exports.isBigNumber = exports.ensureParsedJSONObject = exports.ensureBN = exports.ensureRegExpString = exports.ensureIntNumber = exports.ensureBuffer = exports.ensureAddressString = exports.ensureEvenLengthHexString = exports.ensureHexString = exports.isHexString = exports.prepend0x = exports.strip0x = exports.has0xPrefix = exports.hexStringFromIntNumber = exports.intNumberFromHexString = exports.bigIntStringFromBN = exports.hexStringFromBuffer = exports.hexStringToUint8Array = exports.uint8ArrayToHex = exports.randomBytesHex = void 0;\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst types_1 = require(\"./types\");\nconst INT_STRING_REGEX = /^[0-9]*$/;\nconst HEXADECIMAL_STRING_REGEX = /^[a-f0-9]*$/;\n/**\n * @param length number of bytes\n */\nfunction randomBytesHex(length) {\n    return uint8ArrayToHex(crypto.getRandomValues(new Uint8Array(length)));\n}\nexports.randomBytesHex = randomBytesHex;\nfunction uint8ArrayToHex(value) {\n    return [...value].map(b => b.toString(16).padStart(2, '0')).join('');\n}\nexports.uint8ArrayToHex = uint8ArrayToHex;\nfunction hexStringToUint8Array(hexString) {\n    return new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n}\nexports.hexStringToUint8Array = hexStringToUint8Array;\nfunction hexStringFromBuffer(buf, includePrefix = false) {\n    const hex = buf.toString(\"hex\");\n    return (0, types_1.HexString)(includePrefix ? \"0x\" + hex : hex);\n}\nexports.hexStringFromBuffer = hexStringFromBuffer;\nfunction bigIntStringFromBN(bn) {\n    return (0, types_1.BigIntString)(bn.toString(10));\n}\nexports.bigIntStringFromBN = bigIntStringFromBN;\nfunction intNumberFromHexString(hex) {\n    return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(hex, false), 16).toNumber());\n}\nexports.intNumberFromHexString = intNumberFromHexString;\nfunction hexStringFromIntNumber(num) {\n    return (0, types_1.HexString)(\"0x\" + new bn_js_1.default(num).toString(16));\n}\nexports.hexStringFromIntNumber = hexStringFromIntNumber;\nfunction has0xPrefix(str) {\n    return str.startsWith(\"0x\") || str.startsWith(\"0X\");\n}\nexports.has0xPrefix = has0xPrefix;\nfunction strip0x(hex) {\n    if (has0xPrefix(hex)) {\n        return hex.slice(2);\n    }\n    return hex;\n}\nexports.strip0x = strip0x;\nfunction prepend0x(hex) {\n    if (has0xPrefix(hex)) {\n        return \"0x\" + hex.slice(2);\n    }\n    return \"0x\" + hex;\n}\nexports.prepend0x = prepend0x;\nfunction isHexString(hex) {\n    if (typeof hex !== \"string\") {\n        return false;\n    }\n    const s = strip0x(hex).toLowerCase();\n    return HEXADECIMAL_STRING_REGEX.test(s);\n}\nexports.isHexString = isHexString;\nfunction ensureHexString(hex, includePrefix = false) {\n    if (typeof hex === \"string\") {\n        const s = strip0x(hex).toLowerCase();\n        if (HEXADECIMAL_STRING_REGEX.test(s)) {\n            return (0, types_1.HexString)(includePrefix ? \"0x\" + s : s);\n        }\n    }\n    throw new Error(`\"${String(hex)}\" is not a hexadecimal string`);\n}\nexports.ensureHexString = ensureHexString;\nfunction ensureEvenLengthHexString(hex, includePrefix = false) {\n    let h = ensureHexString(hex, false);\n    if (h.length % 2 === 1) {\n        h = (0, types_1.HexString)(\"0\" + h);\n    }\n    return includePrefix ? (0, types_1.HexString)(\"0x\" + h) : h;\n}\nexports.ensureEvenLengthHexString = ensureEvenLengthHexString;\nfunction ensureAddressString(str) {\n    if (typeof str === \"string\") {\n        const s = strip0x(str).toLowerCase();\n        if (isHexString(s) && s.length === 40) {\n            return (0, types_1.AddressString)(prepend0x(s));\n        }\n    }\n    throw new Error(`Invalid Ethereum address: ${String(str)}`);\n}\nexports.ensureAddressString = ensureAddressString;\nfunction ensureBuffer(str) {\n    if (Buffer.isBuffer(str)) {\n        return str;\n    }\n    if (typeof str === \"string\") {\n        if (isHexString(str)) {\n            const s = ensureEvenLengthHexString(str, false);\n            return Buffer.from(s, \"hex\");\n        }\n        else {\n            return Buffer.from(str, \"utf8\");\n        }\n    }\n    throw new Error(`Not binary data: ${String(str)}`);\n}\nexports.ensureBuffer = ensureBuffer;\nfunction ensureIntNumber(num) {\n    if (typeof num === \"number\" && Number.isInteger(num)) {\n        return (0, types_1.IntNumber)(num);\n    }\n    if (typeof num === \"string\") {\n        if (INT_STRING_REGEX.test(num)) {\n            return (0, types_1.IntNumber)(Number(num));\n        }\n        if (isHexString(num)) {\n            return (0, types_1.IntNumber)(new bn_js_1.default(ensureEvenLengthHexString(num, false), 16).toNumber());\n        }\n    }\n    throw new Error(`Not an integer: ${String(num)}`);\n}\nexports.ensureIntNumber = ensureIntNumber;\nfunction ensureRegExpString(regExp) {\n    if (regExp instanceof RegExp) {\n        return (0, types_1.RegExpString)(regExp.toString());\n    }\n    throw new Error(`Not a RegExp: ${String(regExp)}`);\n}\nexports.ensureRegExpString = ensureRegExpString;\nfunction ensureBN(val) {\n    if (val !== null && (bn_js_1.default.isBN(val) || isBigNumber(val))) {\n        return new bn_js_1.default(val.toString(10), 10);\n    }\n    if (typeof val === \"number\") {\n        return new bn_js_1.default(ensureIntNumber(val));\n    }\n    if (typeof val === \"string\") {\n        if (INT_STRING_REGEX.test(val)) {\n            return new bn_js_1.default(val, 10);\n        }\n        if (isHexString(val)) {\n            return new bn_js_1.default(ensureEvenLengthHexString(val, false), 16);\n        }\n    }\n    throw new Error(`Not an integer: ${String(val)}`);\n}\nexports.ensureBN = ensureBN;\nfunction ensureParsedJSONObject(val) {\n    if (typeof val === \"string\") {\n        return JSON.parse(val);\n    }\n    if (typeof val === \"object\") {\n        return val;\n    }\n    throw new Error(`Not a JSON string or an object: ${String(val)}`);\n}\nexports.ensureParsedJSONObject = ensureParsedJSONObject;\nfunction isBigNumber(val) {\n    if (val == null || typeof val.constructor !== \"function\") {\n        return false;\n    }\n    const { constructor } = val;\n    return (typeof constructor.config === \"function\" &&\n        typeof constructor.EUCLID === \"number\");\n}\nexports.isBigNumber = isBigNumber;\nfunction range(start, stop) {\n    return Array.from({ length: stop - start }, (_, i) => start + i);\n}\nexports.range = range;\nfunction getFavicon() {\n    const el = document.querySelector('link[sizes=\"192x192\"]') ||\n        document.querySelector('link[sizes=\"180x180\"]') ||\n        document.querySelector('link[rel=\"icon\"]') ||\n        document.querySelector('link[rel=\"shortcut icon\"]');\n    const { protocol, host } = document.location;\n    const href = el ? el.getAttribute(\"href\") : null;\n    if (!href || href.startsWith(\"javascript:\")) {\n        return null;\n    }\n    if (href.startsWith(\"http://\") ||\n        href.startsWith(\"https://\") ||\n        href.startsWith(\"data:\")) {\n        return href;\n    }\n    if (href.startsWith(\"//\")) {\n        return protocol + href;\n    }\n    return `${protocol}//${host}${href}`;\n}\nexports.getFavicon = getFavicon;\n","import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || setTimeout)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n\nprocess._rerenderCount = 0;\n","import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name.indexOf('-') != -1)) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n","import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n","/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tconst prevScu = currentComponent.shouldComponentUpdate;\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\tcurrentComponent.shouldComponentUpdate = function(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t};\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n",null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkProvider = void 0;\nconst safe_event_emitter_1 = __importDefault(require(\"@metamask/safe-event-emitter\"));\nconst bn_js_1 = __importDefault(require(\"bn.js\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst WalletLinkRelayAbstract_1 = require(\"../relay/WalletLinkRelayAbstract\");\nconst util_1 = require(\"../util\");\nconst eth_eip712_util_1 = __importDefault(require(\"../vendor-js/eth-eip712-util\"));\nconst FilterPolyfill_1 = require(\"./FilterPolyfill\");\nconst JSONRPC_1 = require(\"./JSONRPC\");\nconst SubscriptionManager_1 = require(\"./SubscriptionManager\");\nconst DEFAULT_CHAIN_ID_KEY = \"DefaultChainId\";\nconst DEFAULT_JSON_RPC_URL = \"DefaultJsonRpcUrl\";\n// Indicates chain has been switched by switchEthereumChain or addEthereumChain request\nconst HAS_CHAIN_BEEN_SWITCHED_KEY = \"HasChainBeenSwitched\";\nconst HAS_CHAIN_OVERRIDDEN_FROM_RELAY = \"HasChainOverriddenFromRelay\";\nclass WalletLinkProvider extends safe_event_emitter_1.default {\n    constructor(options) {\n        var _a;\n        super();\n        this._filterPolyfill = new FilterPolyfill_1.FilterPolyfill(this);\n        this._subscriptionManager = new SubscriptionManager_1.SubscriptionManager(this);\n        this._relay = null;\n        this._addresses = [];\n        this.hasMadeFirstChainChangedEmission = false;\n        this._send = this.send.bind(this);\n        this._sendAsync = this.sendAsync.bind(this);\n        this.setProviderInfo = this.setProviderInfo.bind(this);\n        this.updateProviderInfo = this.updateProviderInfo.bind(this);\n        this.getChainId = this.getChainId.bind(this);\n        this.setAppInfo = this.setAppInfo.bind(this);\n        this.enable = this.enable.bind(this);\n        this.close = this.close.bind(this);\n        this.send = this.send.bind(this);\n        this.sendAsync = this.sendAsync.bind(this);\n        this.request = this.request.bind(this);\n        this._setAddresses = this._setAddresses.bind(this);\n        this.scanQRCode = this.scanQRCode.bind(this);\n        this.genericRequest = this.genericRequest.bind(this);\n        this._jsonRpcUrlFromOpts = options.jsonRpcUrl;\n        this._overrideIsMetaMask = options.overrideIsMetaMask;\n        this._relayProvider = options.relayProvider;\n        this._storage = options.storage;\n        this._relayEventManager = options.relayEventManager;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.isCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        const chainId = this.getChainId();\n        const chainIdStr = (0, util_1.prepend0x)(chainId.toString(16));\n        // indicate that we've connected, for EIP-1193 compliance\n        this.emit(\"connect\", { chainIdStr });\n        const cachedAddresses = this._storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n        if (cachedAddresses) {\n            const addresses = cachedAddresses.split(\" \");\n            if (addresses[0] !== \"\") {\n                this._addresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n                this.emit(\"accountsChanged\", addresses);\n            }\n        }\n        this._subscriptionManager.events.on(\"notification\", (notification) => {\n            this.emit(\"message\", {\n                type: notification.method,\n                data: notification.params\n            });\n        });\n        if (this._addresses.length > 0) {\n            void this.initializeRelay();\n        }\n        window.addEventListener(\"message\", event => {\n            var _a;\n            if (event.data.type !== \"walletLinkMessage\")\n                return;\n            if (event.data.data.action === \"defaultChainChanged\") {\n                const _chainId = event.data.data.chainId;\n                const jsonRpcUrl = (_a = event.data.data.jsonRpcUrl) !== null && _a !== void 0 ? _a : this.jsonRpcUrl;\n                this.updateProviderInfo(jsonRpcUrl, Number(_chainId), true);\n            }\n        });\n    }\n    get selectedAddress() {\n        return this._addresses[0] || undefined;\n    }\n    get networkVersion() {\n        return this.getChainId().toString(10);\n    }\n    get chainId() {\n        return (0, util_1.prepend0x)(this.getChainId().toString(16));\n    }\n    get isWalletLink() {\n        return true;\n    }\n    /**\n     * Some DApps (i.e. Alpha Homora) seem to require the window.ethereum object return\n     * true for this method.\n     */\n    get isMetaMask() {\n        return this._overrideIsMetaMask;\n    }\n    get host() {\n        return this.jsonRpcUrl;\n    }\n    get connected() {\n        return true;\n    }\n    isConnected() {\n        return true;\n    }\n    get jsonRpcUrl() {\n        var _a;\n        return ((_a = this._storage.getItem(DEFAULT_JSON_RPC_URL)) !== null && _a !== void 0 ? _a : this._jsonRpcUrlFromOpts);\n    }\n    set jsonRpcUrl(value) {\n        this._storage.setItem(DEFAULT_JSON_RPC_URL, value);\n    }\n    get isChainOverridden() {\n        return this._storage.getItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY) === \"true\";\n    }\n    set isChainOverridden(value) {\n        this._storage.setItem(HAS_CHAIN_OVERRIDDEN_FROM_RELAY, value.toString());\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    setProviderInfo(jsonRpcUrl, chainId) {\n        if (this.isChainOverridden)\n            return;\n        this.updateProviderInfo(jsonRpcUrl, this.getChainId(), false);\n    }\n    updateProviderInfo(jsonRpcUrl, chainId, fromRelay) {\n        const hasChainSwitched = this._storage.getItem(HAS_CHAIN_BEEN_SWITCHED_KEY) === \"true\";\n        if (hasChainSwitched && fromRelay)\n            return;\n        if (fromRelay) {\n            this.isChainOverridden = true;\n        }\n        this.jsonRpcUrl = jsonRpcUrl;\n        // emit chainChanged event if necessary\n        const originalChainId = this.getChainId();\n        this._storage.setItem(DEFAULT_CHAIN_ID_KEY, chainId.toString(10));\n        const chainChanged = (0, util_1.ensureIntNumber)(chainId) !== originalChainId;\n        if (chainChanged || !this.hasMadeFirstChainChangedEmission) {\n            this.emit(\"chainChanged\", this.getChainId());\n            this.hasMadeFirstChainChangedEmission = true;\n        }\n    }\n    async watchAsset(type, address, symbol, decimals, image) {\n        const relay = await this.initializeRelay();\n        const result = await relay.watchAsset(type, address, symbol, decimals, image).promise;\n        return !!result.result;\n    }\n    async addEthereumChain(chainId, rpcUrls, blockExplorerUrls, chainName, iconUrls, nativeCurrency) {\n        var _a, _b;\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return false;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.addEthereumChain(chainId.toString(), rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency).promise;\n        if (((_a = res.result) === null || _a === void 0 ? void 0 : _a.isApproved) === true) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(rpcUrls[0], chainId, false);\n        }\n        return ((_b = res.result) === null || _b === void 0 ? void 0 : _b.isApproved) === true;\n    }\n    async switchEthereumChain(chainId) {\n        if ((0, util_1.ensureIntNumber)(chainId) === this.getChainId()) {\n            return;\n        }\n        const relay = await this.initializeRelay();\n        const res = await relay.switchEthereumChain(chainId.toString(10)).promise;\n        if (res.errorCode) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: res.errorCode\n            });\n        }\n        const switchResponse = res.result;\n        if (switchResponse.isApproved && switchResponse.rpcUrl.length > 0) {\n            this._storage.setItem(HAS_CHAIN_BEEN_SWITCHED_KEY, \"true\");\n            this.updateProviderInfo(switchResponse.rpcUrl, chainId, false);\n        }\n    }\n    setAppInfo(appName, appLogoUrl) {\n        void this.initializeRelay().then(relay => relay.setAppInfo(appName, appLogoUrl));\n    }\n    async enable() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::enable\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return [...this._addresses];\n        }\n        return await this._send(JSONRPC_1.JSONRPCMethod.eth_requestAccounts);\n    }\n    close() {\n        void this.initializeRelay().then(relay => relay.resetAndReload());\n    }\n    send(requestOrMethod, callbackOrParams) {\n        // send<T>(method, params): Promise<T>\n        if (typeof requestOrMethod === \"string\") {\n            const method = requestOrMethod;\n            const params = Array.isArray(callbackOrParams)\n                ? callbackOrParams\n                : callbackOrParams !== undefined\n                    ? [callbackOrParams]\n                    : [];\n            const request = {\n                jsonrpc: \"2.0\",\n                id: 0,\n                method,\n                params\n            };\n            return this._sendRequestAsync(request).then(res => res.result);\n        }\n        // send(JSONRPCRequest | JSONRPCRequest[], callback): void\n        if (typeof callbackOrParams === \"function\") {\n            const request = requestOrMethod;\n            const callback = callbackOrParams;\n            return this._sendAsync(request, callback);\n        }\n        // send(JSONRPCRequest[]): JSONRPCResponse[]\n        if (Array.isArray(requestOrMethod)) {\n            const requests = requestOrMethod;\n            return requests.map(r => this._sendRequest(r));\n        }\n        // send(JSONRPCRequest): JSONRPCResponse\n        const req = requestOrMethod;\n        return this._sendRequest(req);\n    }\n    sendAsync(request, callback) {\n        if (typeof callback !== \"function\") {\n            throw new Error(\"callback is required\");\n        }\n        // send(JSONRPCRequest[], callback): void\n        if (Array.isArray(request)) {\n            const arrayCb = callback;\n            this._sendMultipleRequestsAsync(request)\n                .then(responses => arrayCb(null, responses))\n                .catch(err => arrayCb(err, null));\n            return;\n        }\n        // send(JSONRPCRequest, callback): void\n        const cb = callback;\n        this._sendRequestAsync(request)\n            .then(response => cb(null, response))\n            .catch(err => cb(err, null));\n    }\n    async request(args) {\n        if (!args || typeof args !== \"object\" || Array.isArray(args)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"Expected a single, non-array, object argument.\",\n                data: args\n            });\n        }\n        const { method, params } = args;\n        if (typeof method !== \"string\" || method.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.method' must be a non-empty string.\",\n                data: args\n            });\n        }\n        if (params !== undefined &&\n            !Array.isArray(params) &&\n            (typeof params !== \"object\" || params === null)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidRequest({\n                message: \"'args.params' must be an object or array if provided.\",\n                data: args\n            });\n        }\n        const newParams = params === undefined ? [] : params;\n        // WalletLink Requests\n        const id = this._relayEventManager.makeRequestId();\n        const result = await this._sendRequestAsync({\n            method,\n            params: newParams,\n            jsonrpc: \"2.0\",\n            id\n        });\n        return result.result;\n    }\n    async scanQRCode(match) {\n        const relay = await this.initializeRelay();\n        const res = await relay.scanQRCode((0, util_1.ensureRegExpString)(match)).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    async genericRequest(data, action) {\n        const relay = await this.initializeRelay();\n        const res = await relay.genericRequest(data, action).promise;\n        if (typeof res.result !== \"string\") {\n            throw new Error(\"result was not a string\");\n        }\n        return res.result;\n    }\n    supportsSubscriptions() {\n        return false;\n    }\n    subscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    unsubscribe() {\n        throw new Error(\"Subscriptions are not supported\");\n    }\n    disconnect() {\n        return true;\n    }\n    _sendRequest(request) {\n        const response = {\n            jsonrpc: \"2.0\",\n            id: request.id\n        };\n        const { method } = request;\n        response.result = this._handleSynchronousMethods(request);\n        if (response.result === undefined) {\n            throw new Error(`WalletLink does not support calling ${method} synchronously without ` +\n                `a callback. Please provide a callback parameter to call ${method} ` +\n                `asynchronously.`);\n        }\n        return response;\n    }\n    _setAddresses(addresses) {\n        if (!Array.isArray(addresses)) {\n            throw new Error(\"addresses is not an array\");\n        }\n        const newAddresses = addresses.map(address => (0, util_1.ensureAddressString)(address));\n        if (JSON.stringify(newAddresses) === JSON.stringify(this._addresses)) {\n            return;\n        }\n        this._addresses = newAddresses;\n        this.emit(\"accountsChanged\", this._addresses);\n        this._storage.setItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY, newAddresses.join(\" \"));\n        window.dispatchEvent(new CustomEvent(\"walletlink:addresses\", { detail: this._addresses }));\n    }\n    _sendRequestAsync(request) {\n        return new Promise((resolve, reject) => {\n            try {\n                const syncResult = this._handleSynchronousMethods(request);\n                if (syncResult !== undefined) {\n                    return resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: syncResult\n                    });\n                }\n                const filterPromise = this._handleAsynchronousFilterMethods(request);\n                if (filterPromise !== undefined) {\n                    filterPromise\n                        .then(res => resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                        .catch(err => reject(err));\n                    return;\n                }\n                const subscriptionPromise = this._handleSubscriptionMethods(request);\n                if (subscriptionPromise !== undefined) {\n                    subscriptionPromise\n                        .then(res => resolve({\n                        jsonrpc: \"2.0\",\n                        id: request.id,\n                        result: res.result\n                    }))\n                        .catch(err => reject(err));\n                    return;\n                }\n            }\n            catch (err) {\n                return reject(err);\n            }\n            this._handleAsynchronousMethods(request)\n                .then(res => res && resolve(Object.assign(Object.assign({}, res), { id: request.id })))\n                .catch(err => reject(err));\n        });\n    }\n    _sendMultipleRequestsAsync(requests) {\n        return Promise.all(requests.map(r => this._sendRequestAsync(r)));\n    }\n    _handleSynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_accounts:\n                return this._eth_accounts();\n            case JSONRPC_1.JSONRPCMethod.eth_coinbase:\n                return this._eth_coinbase();\n            case JSONRPC_1.JSONRPCMethod.eth_uninstallFilter:\n                return this._eth_uninstallFilter(params);\n            case JSONRPC_1.JSONRPCMethod.net_version:\n                return this._net_version();\n            case JSONRPC_1.JSONRPCMethod.eth_chainId:\n                return this._eth_chainId();\n            default:\n                return undefined;\n        }\n    }\n    async _handleAsynchronousMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_requestAccounts:\n                return this._eth_requestAccounts();\n            case JSONRPC_1.JSONRPCMethod.eth_sign:\n                return this._eth_sign(params);\n            case JSONRPC_1.JSONRPCMethod.eth_ecRecover:\n                return this._eth_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.personal_sign:\n                return this._personal_sign(params);\n            case JSONRPC_1.JSONRPCMethod.personal_ecRecover:\n                return this._personal_ecRecover(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTransaction:\n                return this._eth_signTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendRawTransaction:\n                return this._eth_sendRawTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_sendTransaction:\n                return this._eth_sendTransaction(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v1:\n                return this._eth_signTypedData_v1(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v2:\n                return this._throwUnsupportedMethodError();\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v3:\n                return this._eth_signTypedData_v3(params);\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData_v4:\n            case JSONRPC_1.JSONRPCMethod.eth_signTypedData:\n                return this._eth_signTypedData_v4(params);\n            case JSONRPC_1.JSONRPCMethod.walletlink_arbitrary:\n                return this._walletlink_arbitrary(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_addEthereumChain:\n                return this._wallet_addEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_switchEthereumChain:\n                return this._wallet_switchEthereumChain(params);\n            case JSONRPC_1.JSONRPCMethod.wallet_watchAsset:\n                return this._wallet_watchAsset(params);\n        }\n        const relay = await this.initializeRelay();\n        return relay.makeEthereumJSONRPCRequest(request, this.jsonRpcUrl);\n    }\n    _handleAsynchronousFilterMethods(request) {\n        const { method } = request;\n        const params = request.params || [];\n        switch (method) {\n            case JSONRPC_1.JSONRPCMethod.eth_newFilter:\n                return this._eth_newFilter(params);\n            case JSONRPC_1.JSONRPCMethod.eth_newBlockFilter:\n                return this._eth_newBlockFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_newPendingTransactionFilter:\n                return this._eth_newPendingTransactionFilter();\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterChanges:\n                return this._eth_getFilterChanges(params);\n            case JSONRPC_1.JSONRPCMethod.eth_getFilterLogs:\n                return this._eth_getFilterLogs(params);\n        }\n        return undefined;\n    }\n    _handleSubscriptionMethods(request) {\n        switch (request.method) {\n            case JSONRPC_1.JSONRPCMethod.eth_subscribe:\n            case JSONRPC_1.JSONRPCMethod.eth_unsubscribe:\n                return this._subscriptionManager.handleRequest(request);\n        }\n        return undefined;\n    }\n    _isKnownAddress(addressString) {\n        try {\n            const address = (0, util_1.ensureAddressString)(addressString);\n            const lowercaseAddresses = this._addresses.map(address => (0, util_1.ensureAddressString)(address));\n            return lowercaseAddresses.includes(address);\n        }\n        catch (_a) { }\n        return false;\n    }\n    _ensureKnownAddress(addressString) {\n        if (!this._isKnownAddress(addressString)) {\n            this._walletLinkAnalytics.sendEvent(init_1.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED);\n            throw new Error(\"Unknown Ethereum address\");\n        }\n    }\n    _prepareTransactionParams(tx) {\n        const fromAddress = tx.from\n            ? (0, util_1.ensureAddressString)(tx.from)\n            : this.selectedAddress;\n        if (!fromAddress) {\n            throw new Error(\"Ethereum address is unavailable\");\n        }\n        this._ensureKnownAddress(fromAddress);\n        const toAddress = tx.to ? (0, util_1.ensureAddressString)(tx.to) : null;\n        const weiValue = tx.value != null ? (0, util_1.ensureBN)(tx.value) : new bn_js_1.default(0);\n        const data = tx.data ? (0, util_1.ensureBuffer)(tx.data) : Buffer.alloc(0);\n        const nonce = tx.nonce != null ? (0, util_1.ensureIntNumber)(tx.nonce) : null;\n        const gasPriceInWei = tx.gasPrice != null ? (0, util_1.ensureBN)(tx.gasPrice) : null;\n        const maxFeePerGas = tx.maxFeePerGas != null ? (0, util_1.ensureBN)(tx.maxFeePerGas) : null;\n        const maxPriorityFeePerGas = tx.maxPriorityFeePerGas != null ? (0, util_1.ensureBN)(tx.maxPriorityFeePerGas) : null;\n        const gasLimit = tx.gas != null ? (0, util_1.ensureBN)(tx.gas) : null;\n        const chainId = this.getChainId();\n        return {\n            fromAddress,\n            toAddress,\n            weiValue,\n            data,\n            nonce,\n            gasPriceInWei,\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n            gasLimit,\n            chainId\n        };\n    }\n    _requireAuthorization() {\n        if (this._addresses.length === 0) {\n            throw eth_rpc_errors_1.ethErrors.provider.unauthorized({});\n        }\n    }\n    _throwUnsupportedMethodError() {\n        throw eth_rpc_errors_1.ethErrors.provider.unsupportedMethod({});\n    }\n    async _signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        this._ensureKnownAddress(address);\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumMessage(message, address, addPrefix, typedDataJson).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied message signature\");\n            }\n            throw err;\n        }\n    }\n    async _ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        const relay = await this.initializeRelay();\n        const res = await relay.ethereumAddressFromSignedMessage(message, signature, addPrefix).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    _eth_accounts() {\n        return [...this._addresses];\n    }\n    _eth_coinbase() {\n        return this.selectedAddress || null;\n    }\n    _net_version() {\n        return this.getChainId().toString(10);\n    }\n    _eth_chainId() {\n        return (0, util_1.hexStringFromIntNumber)(this.getChainId());\n    }\n    getChainId() {\n        const chainIdStr = this._storage.getItem(DEFAULT_CHAIN_ID_KEY) || \"1\";\n        const chainId = parseInt(chainIdStr, 10);\n        return (0, util_1.ensureIntNumber)(chainId);\n    }\n    async _eth_requestAccounts() {\n        this._walletLinkAnalytics.sendEvent(init_1.EVENTS.ETH_ACCOUNTS_STATE, {\n            method: \"provider::_eth_requestAccounts\",\n            addresses_length: this._addresses.length,\n            sessionIdHash: this._relay ? Session_1.Session.hash(this._relay.session.id) : null\n        });\n        if (this._addresses.length > 0) {\n            return Promise.resolve({\n                jsonrpc: \"2.0\",\n                id: 0,\n                result: this._addresses\n            });\n        }\n        let res;\n        try {\n            const relay = await this.initializeRelay();\n            res = await relay.requestEthereumAccounts().promise;\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied account authorization\");\n            }\n            throw err;\n        }\n        if (!res.result) {\n            throw new Error(\"accounts received is empty\");\n        }\n        this._setAddresses(res.result);\n        return { jsonrpc: \"2.0\", id: 0, result: this._addresses };\n    }\n    _eth_sign(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const message = (0, util_1.ensureBuffer)(params[1]);\n        return this._signEthereumMessage(message, address, false);\n    }\n    _eth_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, false);\n    }\n    _personal_sign(params) {\n        this._requireAuthorization();\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        return this._signEthereumMessage(message, address, true);\n    }\n    _personal_ecRecover(params) {\n        const message = (0, util_1.ensureBuffer)(params[0]);\n        const signature = (0, util_1.ensureBuffer)(params[1]);\n        return this._ethereumAddressFromSignedMessage(message, signature, true);\n    }\n    async _eth_signTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_sendRawTransaction(params) {\n        const signedTransaction = (0, util_1.ensureBuffer)(params[0]);\n        const relay = await this.initializeRelay();\n        const res = await relay.submitEthereumTransaction(signedTransaction, this.getChainId()).promise;\n        return { jsonrpc: \"2.0\", id: 0, result: res.result };\n    }\n    async _eth_sendTransaction(params) {\n        this._requireAuthorization();\n        const tx = this._prepareTransactionParams(params[0] || {});\n        try {\n            const relay = await this.initializeRelay();\n            const res = await relay.signAndSubmitEthereumTransaction(tx).promise;\n            return { jsonrpc: \"2.0\", id: 0, result: res.result };\n        }\n        catch (err) {\n            if (typeof err.message === \"string\" &&\n                err.message.match(/(denied|rejected)/i)) {\n                throw eth_rpc_errors_1.ethErrors.provider.userRejectedRequest(\"User denied transaction signature\");\n            }\n            throw err;\n        }\n    }\n    async _eth_signTypedData_v1(params) {\n        this._requireAuthorization();\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[0]);\n        const address = (0, util_1.ensureAddressString)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedDataLegacy({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v3(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v3({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _eth_signTypedData_v4(params) {\n        this._requireAuthorization();\n        const address = (0, util_1.ensureAddressString)(params[0]);\n        const typedData = (0, util_1.ensureParsedJSONObject)(params[1]);\n        this._ensureKnownAddress(address);\n        const message = eth_eip712_util_1.default.hashForSignTypedData_v4({ data: typedData });\n        const typedDataJSON = JSON.stringify(typedData, null, 2);\n        return this._signEthereumMessage(message, address, false, typedDataJSON);\n    }\n    async _walletlink_arbitrary(params) {\n        const action = params[0];\n        const data = params[1];\n        if (typeof data !== \"string\") {\n            throw new Error(\"parameter must be a string\");\n        }\n        if (typeof action !== \"object\" || action === null) {\n            throw new Error(\"parameter must be an object\");\n        }\n        const result = await this.genericRequest(action, data);\n        return { jsonrpc: \"2.0\", id: 0, result };\n    }\n    async _wallet_addEthereumChain(params) {\n        var _a, _b, _c, _d;\n        const request = params[0];\n        if (((_a = request.rpcUrls) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `please pass in at least 1 rpcUrl` }\n            };\n        }\n        if (!request.chainName || request.chainName.trim() === \"\") {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"chainName is a required field\"\n            });\n        }\n        if (!request.nativeCurrency) {\n            throw eth_rpc_errors_1.ethErrors.provider.custom({\n                code: 0,\n                message: \"nativeCurrency is a required field\"\n            });\n        }\n        const chainIdNumber = parseInt(request.chainId, 16);\n        const success = await this.addEthereumChain(chainIdNumber, (_b = request.rpcUrls) !== null && _b !== void 0 ? _b : [], (_c = request.blockExplorerUrls) !== null && _c !== void 0 ? _c : [], request.chainName, (_d = request.iconUrls) !== null && _d !== void 0 ? _d : [], request.nativeCurrency);\n        if (success) {\n            return { jsonrpc: \"2.0\", id: 0, result: null };\n        }\n        else {\n            return {\n                jsonrpc: \"2.0\",\n                id: 0,\n                error: { code: 2, message: `unable to add ethereum chain` }\n            };\n        }\n    }\n    async _wallet_switchEthereumChain(params) {\n        const request = params[0];\n        await this.switchEthereumChain(parseInt(request.chainId, 16));\n        return { jsonrpc: \"2.0\", id: 0, result: null };\n    }\n    async _wallet_watchAsset(params) {\n        var _a;\n        const request = (Array.isArray(params) ? params[0] : params);\n        if (((_a = request.type) === null || _a === void 0 ? void 0 : _a.length) === 0) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"type is a required field\"\n            });\n        }\n        if (request.type !== \"ERC20\") {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: `Asset of type '${request.type}' not supported`\n            });\n        }\n        if (!(request === null || request === void 0 ? void 0 : request.options)) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"options is a required field\"\n            });\n        }\n        if (!request.options.address) {\n            throw eth_rpc_errors_1.ethErrors.rpc.invalidParams({\n                message: \"option address is a required option\"\n            });\n        }\n        const { address, symbol, image, decimals } = request.options;\n        const res = await this.watchAsset(request.type, address, symbol, decimals, image);\n        return { jsonrpc: \"2.0\", id: 0, result: res };\n    }\n    _eth_uninstallFilter(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.uninstallFilter(filterId);\n    }\n    async _eth_newFilter(params) {\n        const param = params[0];\n        const filterId = await this._filterPolyfill.newFilter(param);\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newBlockFilter() {\n        const filterId = await this._filterPolyfill.newBlockFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    async _eth_newPendingTransactionFilter() {\n        const filterId = await this._filterPolyfill.newPendingTransactionFilter();\n        return { jsonrpc: \"2.0\", id: 0, result: filterId };\n    }\n    _eth_getFilterChanges(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterChanges(filterId);\n    }\n    _eth_getFilterLogs(params) {\n        const filterId = (0, util_1.ensureHexString)(params[0]);\n        return this._filterPolyfill.getFilterLogs(filterId);\n    }\n    initializeRelay() {\n        if (this._relay) {\n            return Promise.resolve(this._relay);\n        }\n        return this._relayProvider().then(relay => {\n            relay.setAccountsCallback(accounts => this._setAddresses(accounts));\n            relay.setChainCallback((chainId, jsonRpcUrl) => {\n                this.updateProviderInfo(jsonRpcUrl, parseInt(chainId, 10), true);\n            });\n            this._relay = relay;\n            return relay;\n        });\n    }\n}\nexports.WalletLinkProvider = WalletLinkProvider;\n",null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalytics = void 0;\nclass WalletLinkAnalytics {\n    sendEvent(_eventType, _eventProperties) {\n        // no-op\n    }\n}\nexports.WalletLinkAnalytics = WalletLinkAnalytics;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./events\"), exports);\n__exportStar(require(\"./WalletLinkAnalyticsAbstract\"), exports);\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst js_sha256_1 = require(\"js-sha256\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst util_1 = require(\"../util\");\nconst STORAGE_KEY_SESSION_ID = \"session:id\";\nconst STORAGE_KEY_SESSION_SECRET = \"session:secret\";\nconst STORAGE_KEY_SESSION_LINKED = \"session:linked\";\nclass Session {\n    constructor(storage, id, secret, linked) {\n        this._storage = storage;\n        this._id = id || (0, util_1.randomBytesHex)(16);\n        this._secret = secret || (0, util_1.randomBytesHex)(32);\n        const hash = js_sha256_1.sha256.create();\n        hash.update(`${this._id}, ${this._secret} WalletLink`);\n        this._key = hash.hex();\n        this._linked = !!linked;\n    }\n    static load(storage) {\n        const id = storage.getItem(STORAGE_KEY_SESSION_ID);\n        const linked = storage.getItem(STORAGE_KEY_SESSION_LINKED);\n        const secret = storage.getItem(STORAGE_KEY_SESSION_SECRET);\n        if (id && secret) {\n            return new Session(storage, id, secret, linked === \"1\");\n        }\n        return null;\n    }\n    static get persistedSessionIdChange$() {\n        return (0, rxjs_1.fromEvent)(window, \"storage\").pipe((0, operators_1.filter)(evt => evt.key === STORAGE_KEY_SESSION_ID), (0, operators_1.map)(evt => ({\n            oldValue: evt.oldValue || null,\n            newValue: evt.newValue || null\n        })));\n    }\n    /**\n     * Takes in a session ID and returns the sha256 hash of it.\n     * @param sessionId session ID\n     */\n    static hash(sessionId) {\n        const hash = js_sha256_1.sha256.create();\n        return hash.update(sessionId).hex();\n    }\n    get id() {\n        return this._id;\n    }\n    get secret() {\n        return this._secret;\n    }\n    get key() {\n        return this._key;\n    }\n    get linked() {\n        return this._linked;\n    }\n    set linked(val) {\n        this._linked = val;\n        this.persistLinked();\n    }\n    save() {\n        this._storage.setItem(STORAGE_KEY_SESSION_ID, this._id);\n        this._storage.setItem(STORAGE_KEY_SESSION_SECRET, this._secret);\n        this.persistLinked();\n        return this;\n    }\n    persistLinked() {\n        this._storage.setItem(STORAGE_KEY_SESSION_LINKED, this._linked ? \"1\" : \"0\");\n    }\n}\nexports.Session = Session;\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegExpString = exports.IntNumber = exports.BigIntString = exports.AddressString = exports.HexString = exports.OpaqueType = void 0;\nfunction OpaqueType() {\n    return (value) => value;\n}\nexports.OpaqueType = OpaqueType;\nexports.HexString = OpaqueType();\nexports.AddressString = OpaqueType();\nexports.BigIntString = OpaqueType();\nfunction IntNumber(num) {\n    return Math.floor(num);\n}\nexports.IntNumber = IntNumber;\nexports.RegExpString = OpaqueType();\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f);else for(t in e)e[t]&&(n&&(n+=\" \"),n+=t);return n}export function clsx(){for(var e,t,f=0,n=\"\";f<arguments.length;)(e=arguments[f++])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RelayMessageType = void 0;\nvar RelayMessageType;\n(function (RelayMessageType) {\n    RelayMessageType[\"SESSION_ID_REQUEST\"] = \"SESSION_ID_REQUEST\";\n    RelayMessageType[\"SESSION_ID_RESPONSE\"] = \"SESSION_ID_RESPONSE\";\n    RelayMessageType[\"LINKED\"] = \"LINKED\";\n    RelayMessageType[\"UNLINKED\"] = \"UNLINKED\";\n    RelayMessageType[\"WEB3_REQUEST\"] = \"WEB3_REQUEST\";\n    RelayMessageType[\"WEB3_REQUEST_CANCELED\"] = \"WEB3_REQUEST_CANCELED\";\n    RelayMessageType[\"WEB3_RESPONSE\"] = \"WEB3_RESPONSE\";\n})(RelayMessageType = exports.RelayMessageType || (exports.RelayMessageType = {}));\n",null,null,null,null,null,null,null,null,null,null,null,null,null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayAbstract = exports.APP_VERSION_KEY = exports.LOCAL_STORAGE_ADDRESSES_KEY = exports.WALLET_USER_NAME_KEY = void 0;\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nexports.WALLET_USER_NAME_KEY = \"walletUsername\";\nexports.LOCAL_STORAGE_ADDRESSES_KEY = \"Addresses\";\nexports.APP_VERSION_KEY = \"AppVersion\";\nclass WalletLinkRelayAbstract {\n    async makeEthereumJSONRPCRequest(request, jsonRpcUrl) {\n        if (!jsonRpcUrl)\n            throw new Error(\"Error: No jsonRpcUrl provided\");\n        return window\n            .fetch(jsonRpcUrl, {\n            method: \"POST\",\n            body: JSON.stringify(request),\n            mode: \"cors\",\n            headers: { \"Content-Type\": \"application/json\" }\n        })\n            .then(res => res.json())\n            .then(json => {\n            if (!json) {\n                throw eth_rpc_errors_1.ethErrors.rpc.parse({});\n            }\n            const response = json;\n            const { error } = response;\n            if (error) {\n                throw (0, eth_rpc_errors_1.serializeError)(error);\n            }\n            return response;\n        });\n    }\n}\nexports.WalletLinkRelayAbstract = WalletLinkRelayAbstract;\n","// Extracted from https://github.com/ethereumjs/ethereumjs-util and stripped out irrelevant code\n// Original code licensed under the Mozilla Public License Version 2.0\n\nconst createKeccakHash = require('keccak/js')\nconst BN = require('bn.js')\n\n/**\n * Returns a buffer filled with 0s\n * @method zeros\n * @param {Number} bytes  the number of bytes the buffer should be\n * @return {Buffer}\n */\nfunction zeros (bytes) {\n  return Buffer.allocUnsafe(bytes).fill(0)\n}\n\n/**\n * Left Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @method setLength\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @param {Boolean} [right=false] whether to start padding form the left or right\n * @return {Buffer|Array}\n */\nfunction setLength (msg, length, right) {\n  const buf = zeros(length)\n  msg = toBuffer(msg)\n  if (right) {\n    if (msg.length < length) {\n      msg.copy(buf)\n      return buf\n    }\n    return msg.slice(0, length)\n  } else {\n    if (msg.length < length) {\n      msg.copy(buf, length - msg.length)\n      return buf\n    }\n    return msg.slice(-length)\n  }\n}\n\n/**\n * Right Pads an `Array` or `Buffer` with leading zeros till it has `length` bytes.\n * Or it truncates the beginning if it exceeds.\n * @param {Buffer|Array} msg the value to pad\n * @param {Number} length the number of bytes the output should be\n * @return {Buffer|Array}\n */\nfunction setLengthRight (msg, length) {\n  return setLength(msg, length, true)\n}\n\n/**\n * Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`, null/undefined, `BN` and other objects with a `toArray()` method.\n * @param {*} v the value\n */\nfunction toBuffer (v) {\n  if (!Buffer.isBuffer(v)) {\n    if (Array.isArray(v)) {\n      v = Buffer.from(v)\n    } else if (typeof v === 'string') {\n      if (isHexString(v)) {\n        v = Buffer.from(padToEven(stripHexPrefix(v)), 'hex')\n      } else {\n        v = Buffer.from(v)\n      }\n    } else if (typeof v === 'number') {\n      v = intToBuffer(v)\n    } else if (v === null || v === undefined) {\n      v = Buffer.allocUnsafe(0)\n    } else if (BN.isBN(v)) {\n      v = v.toArrayLike(Buffer)\n    } else if (v.toArray) {\n      // converts a BN to a Buffer\n      v = Buffer.from(v.toArray())\n    } else {\n      throw new Error('invalid type')\n    }\n  }\n  return v\n}\n\n/**\n * Converts a `Buffer` into a hex `String`\n * @param {Buffer} buf\n * @return {String}\n */\nfunction bufferToHex (buf) {\n  buf = toBuffer(buf)\n  return '0x' + buf.toString('hex')\n}\n\n/**\n * Creates Keccak hash of the input\n * @param {Buffer|Array|String|Number} a the input data\n * @param {Number} [bits=256] the Keccak width\n * @return {Buffer}\n */\nfunction keccak (a, bits) {\n  a = toBuffer(a)\n  if (!bits) bits = 256\n\n  return createKeccakHash('keccak' + bits).update(a).digest()\n}\n\nfunction padToEven (str) {\n  return str.length % 2 ? '0' + str : str\n}\n\nfunction isHexString (str) {\n  return typeof str === 'string' && str.match(/^0x[0-9A-Fa-f]*$/)\n}\n\nfunction stripHexPrefix (str) {\n  if (typeof str === 'string' && str.startsWith('0x')) {\n    return str.slice(2)\n  }\n  return str\n}\n\nmodule.exports = {\n  zeros,\n  setLength,\n  setLengthRight,\n  isHexString,\n  stripHexPrefix,\n  toBuffer,\n  bufferToHex,\n  keccak\n}\n","'use strict';\n\nconst processFn = (fn, opts) => function () {\n\tconst P = opts.promiseModule;\n\tconst args = new Array(arguments.length);\n\n\tfor (let i = 0; i < arguments.length; i++) {\n\t\targs[i] = arguments[i];\n\t}\n\n\treturn new P((resolve, reject) => {\n\t\tif (opts.errorFirst) {\n\t\t\targs.push(function (err, result) {\n\t\t\t\tif (opts.multiArgs) {\n\t\t\t\t\tconst results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i - 1] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tif (err) {\n\t\t\t\t\t\tresults.unshift(err);\n\t\t\t\t\t\treject(results);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresolve(results);\n\t\t\t\t\t}\n\t\t\t\t} else if (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\targs.push(function (result) {\n\t\t\t\tif (opts.multiArgs) {\n\t\t\t\t\tconst results = new Array(arguments.length - 1);\n\n\t\t\t\t\tfor (let i = 0; i < arguments.length; i++) {\n\t\t\t\t\t\tresults[i] = arguments[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(results);\n\t\t\t\t} else {\n\t\t\t\t\tresolve(result);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfn.apply(this, args);\n\t});\n};\n\nmodule.exports = (obj, opts) => {\n\topts = Object.assign({\n\t\texclude: [/.+(Sync|Stream)$/],\n\t\terrorFirst: true,\n\t\tpromiseModule: Promise\n\t}, opts);\n\n\tconst filter = key => {\n\t\tconst match = pattern => typeof pattern === 'string' ? key === pattern : pattern.test(key);\n\t\treturn opts.include ? opts.include.some(match) : !opts.exclude.some(match);\n\t};\n\n\tlet ret;\n\tif (typeof obj === 'function') {\n\t\tret = function () {\n\t\t\tif (opts.excludeMain) {\n\t\t\t\treturn obj.apply(this, arguments);\n\t\t\t}\n\n\t\t\treturn processFn(obj, opts).apply(this, arguments);\n\t\t};\n\t} else {\n\t\tret = Object.create(Object.getPrototypeOf(obj));\n\t}\n\n\tfor (const key in obj) { // eslint-disable-line guard-for-in\n\t\tconst x = obj[key];\n\t\tret[key] = typeof x === 'function' && filter(key) ? processFn(x, opts) : x;\n\t}\n\n\treturn ret;\n};\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLink = void 0;\nconst WalletLinkAnalytics_1 = require(\"./connection/WalletLinkAnalytics\");\nconst ScopedLocalStorage_1 = require(\"./lib/ScopedLocalStorage\");\nconst WalletLinkProvider_1 = require(\"./provider/WalletLinkProvider\");\nconst WalletLinkSdkUI_1 = require(\"./provider/WalletLinkSdkUI\");\nconst WalletLinkRelay_1 = require(\"./relay/WalletLinkRelay\");\nconst WalletLinkRelayEventManager_1 = require(\"./relay/WalletLinkRelayEventManager\");\nconst util_1 = require(\"./util\");\nconst WALLETLINK_URL = process.env.WALLETLINK_URL || \"https://www.walletlink.org\";\nconst WALLETLINK_VERSION = process.env.WALLETLINK_VERSION ||\n    require(\"../package.json\").version ||\n    \"unknown\";\nclass WalletLink {\n    /**\n     * Constructor\n     * @param options WalletLink options object\n     */\n    constructor(options) {\n        var _a;\n        this._appName = \"\";\n        this._appLogoUrl = null;\n        this._relay = null;\n        this._relayEventManager = null;\n        const walletLinkUrl = options.walletLinkUrl || WALLETLINK_URL;\n        let walletLinkUIConstructor;\n        if (!options.walletLinkUIConstructor) {\n            walletLinkUIConstructor = opts => new WalletLinkSdkUI_1.WalletLinkSdkUI(opts);\n        }\n        else {\n            walletLinkUIConstructor = options.walletLinkUIConstructor;\n        }\n        if (typeof options.overrideIsMetaMask === \"undefined\") {\n            this._overrideIsMetaMask = false;\n        }\n        else {\n            this._overrideIsMetaMask = options.overrideIsMetaMask;\n        }\n        this._overrideIsCoinbaseWallet = (_a = options.overrideIsCoinbaseWallet) !== null && _a !== void 0 ? _a : true;\n        this._walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        const u = new URL(walletLinkUrl);\n        const walletLinkOrigin = `${u.protocol}//${u.host}`;\n        this._storage = new ScopedLocalStorage_1.ScopedLocalStorage(`-walletlink:${walletLinkOrigin}`);\n        this._storage.setItem(\"version\", WalletLink.VERSION);\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            return;\n        }\n        this._relayEventManager = new WalletLinkRelayEventManager_1.WalletLinkRelayEventManager();\n        this._relay = new WalletLinkRelay_1.WalletLinkRelay({\n            walletLinkUrl,\n            version: WALLETLINK_VERSION,\n            darkMode: !!options.darkMode,\n            walletLinkUIConstructor,\n            storage: this._storage,\n            relayEventManager: this._relayEventManager,\n            walletLinkAnalytics: this._walletLinkAnalytics\n        });\n        this.setAppInfo(options.appName, options.appLogoUrl);\n        this._relay.attachUI();\n    }\n    /**\n     * Create a Web3 Provider object\n     * @param jsonRpcUrl Ethereum JSON RPC URL (Default: \"\")\n     * @param chainId Ethereum Chain ID (Default: 1)\n     * @returns A Web3 Provider\n     */\n    makeWeb3Provider(jsonRpcUrl = \"\", chainId = 1) {\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setProviderInfo(jsonRpcUrl, chainId);\n            }\n            return window.walletLinkExtension;\n        }\n        const relay = this._relay;\n        if (!relay || !this._relayEventManager || !this._storage) {\n            throw new Error(\"Relay not initialized, should never happen\");\n        }\n        if (!jsonRpcUrl)\n            relay.setConnectDisabled(true);\n        return new WalletLinkProvider_1.WalletLinkProvider({\n            relayProvider: () => Promise.resolve(relay),\n            relayEventManager: this._relayEventManager,\n            storage: this._storage,\n            jsonRpcUrl,\n            chainId,\n            walletLinkAnalytics: this._walletLinkAnalytics,\n            overrideIsMetaMask: this._overrideIsMetaMask,\n            overrideIsCoinbaseWallet: this._overrideIsCoinbaseWallet\n        });\n    }\n    /**\n     * Set application information\n     * @param appName Application name\n     * @param appLogoUrl Application logo image URL\n     */\n    setAppInfo(appName, appLogoUrl) {\n        var _a;\n        this._appName = appName || \"DApp\";\n        this._appLogoUrl = appLogoUrl || (0, util_1.getFavicon)();\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            if (\n            /* eslint-disable @typescript-eslint/ban-ts-comment */\n            // @ts-ignore\n            typeof window.walletLinkExtension.isCipher !== \"boolean\" ||\n                // @ts-ignore\n                !window.walletLinkExtension.isCipher\n            /* eslint-enable @typescript-eslint/ban-ts-comment */\n            ) {\n                window.walletLinkExtension.setAppInfo(this._appName, this._appLogoUrl);\n            }\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.setAppInfo(this._appName, this._appLogoUrl);\n        }\n    }\n    /**\n     * Disconnect. After disconnecting, this will reload the web page to ensure\n     * all potential stale state is cleared.\n     */\n    disconnect() {\n        var _a;\n        if (typeof window.walletLinkExtension !== \"undefined\") {\n            window.walletLinkExtension.close();\n        }\n        else {\n            (_a = this._relay) === null || _a === void 0 ? void 0 : _a.resetAndReload();\n        }\n    }\n}\nexports.WalletLink = WalletLink;\n/**\n * WalletLink version\n */\nWalletLink.VERSION = WALLETLINK_VERSION;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QRCode = void 0;\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst qrcode_svg_1 = __importDefault(require(\"../vendor-js/qrcode-svg\"));\nconst QRCode = props => {\n    const [svg, setSvg] = (0, hooks_1.useState)(\"\");\n    (0, hooks_1.useEffect)(() => {\n        var _a, _b;\n        const qrcode = new qrcode_svg_1.default({\n            content: props.content,\n            background: props.bgColor || \"#ffffff\",\n            color: props.fgColor || \"#000000\",\n            container: \"svg\",\n            ecl: \"M\",\n            width: (_a = props.width) !== null && _a !== void 0 ? _a : 256,\n            height: (_b = props.height) !== null && _b !== void 0 ? _b : 256,\n            padding: 0,\n            image: props.image\n        });\n        const base64 = Buffer.from(qrcode.svg(), \"utf8\").toString(\"base64\");\n        setSvg(`data:image/svg+xml;base64,${base64}`);\n    });\n    return svg ? (0, preact_1.h)(\"img\", { src: svg, alt: \"QR Code\" }) : null;\n};\nexports.QRCode = QRCode;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Spinner = void 0;\nconst preact_1 = require(\"preact\");\nconst Spinner_css_1 = __importDefault(require(\"./Spinner-css\"));\nconst Spinner = props => {\n    var _a;\n    const size = (_a = props.size) !== null && _a !== void 0 ? _a : 64;\n    const color = props.color || \"#000\";\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-spinner\" },\n        (0, preact_1.h)(\"style\", null, Spinner_css_1.default),\n        (0, preact_1.h)(\"svg\", { viewBox: \"0 0 100 100\", xmlns: \"http://www.w3.org/2000/svg\", style: { width: size, height: size } },\n            (0, preact_1.h)(\"circle\", { style: { cx: 50, cy: 50, r: 45, stroke: color } }))));\n};\nexports.Spinner = Spinner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LIB_VERSION = void 0;\nexports.LIB_VERSION = \"2.5.0\";\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3Method = void 0;\nvar Web3Method;\n(function (Web3Method) {\n    Web3Method[\"requestEthereumAccounts\"] = \"requestEthereumAccounts\";\n    Web3Method[\"signEthereumMessage\"] = \"signEthereumMessage\";\n    Web3Method[\"signEthereumTransaction\"] = \"signEthereumTransaction\";\n    Web3Method[\"submitEthereumTransaction\"] = \"submitEthereumTransaction\";\n    Web3Method[\"ethereumAddressFromSignedMessage\"] = \"ethereumAddressFromSignedMessage\";\n    Web3Method[\"scanQRCode\"] = \"scanQRCode\";\n    Web3Method[\"generic\"] = \"generic\";\n    Web3Method[\"childRequestEthereumAccounts\"] = \"childRequestEthereumAccounts\";\n    Web3Method[\"addEthereumChain\"] = \"addEthereumChain\";\n    Web3Method[\"switchEthereumChain\"] = \"switchEthereumChain\";\n    Web3Method[\"makeEthereumJSONRPCRequest\"] = \"makeEthereumJSONRPCRequest\";\n    Web3Method[\"watchAsset\"] = \"watchAsset\";\n})(Web3Method = exports.Web3Method || (exports.Web3Method = {}));\n",null,"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENTS = void 0;\nexports.EVENTS = {\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_START: \"walletlink_sdk.request_child_ethereum_accounts.start\",\n    REQUEST_CHILD_ETHEREUM_ACCOUNTS_RESPONSE: \"walletlink_sdk.request_child_ethereum_accounts.response\",\n    STARTED_CONNECTING: \"walletlink_sdk.started.connecting\",\n    CONNECTED_STATE_CHANGE: \"walletlink_sdk.connected\",\n    DISCONNECTED: \"walletlink_sdk.disconnected\",\n    METADATA_DESTROYED: \"walletlink_sdk_metadata_destroyed\",\n    LINKED: \"walletlink_sdk.linked\",\n    FAILURE: \"walletlink_sdk.generic_failure\",\n    SESSION_CONFIG_RECEIVED: \"walletlink_sdk.session_config_event_received\",\n    ETH_ACCOUNTS_STATE: \"walletlink_sdk.eth_accounts_state\",\n    SESSION_STATE_CHANGE: \"walletlink_sdk.session_state_change\",\n    UNLINKED_ERROR_STATE: \"walletlink_sdk.unlinked_error_state\",\n    SKIPPED_CLEARING_SESSION: \"walletlink_sdk.skipped_clearing_session\",\n    GENERAL_ERROR: \"walletlink_sdk.general_error\",\n    WEB3_REQUEST: \"walletlink_sdk.web3.request\",\n    WEB3_REQUEST_PUBLISHED: \"walletlink_sdk.web3.request_published\",\n    WEB3_RESPONSE: \"walletlink_sdk.web3.response\",\n    UNKNOWN_ADDRESS_ENCOUNTERED: \"walletlink_sdk.unknown_address_encountered\"\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkAnalyticsAbstract = void 0;\n/**\n * An abstract class used to send events to track metrics / analytics\n */\nclass WalletLinkAnalyticsAbstract {\n}\nexports.WalletLinkAnalyticsAbstract = WalletLinkAnalyticsAbstract;\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n/*jslint bitwise: true */\n(function () {\n  'use strict';\n\n  var ERROR = 'input is invalid type';\n  var WINDOW = typeof window === 'object';\n  var root = WINDOW ? window : {};\n  if (root.JS_SHA256_NO_WINDOW) {\n    WINDOW = false;\n  }\n  var WEB_WORKER = !WINDOW && typeof self === 'object';\n  var NODE_JS = !root.JS_SHA256_NO_NODE_JS && typeof process === 'object' && process.versions && process.versions.node;\n  if (NODE_JS) {\n    root = global;\n  } else if (WEB_WORKER) {\n    root = self;\n  }\n  var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && typeof module === 'object' && module.exports;\n  var AMD = typeof define === 'function' && define.amd;\n  var ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer !== 'undefined';\n  var HEX_CHARS = '0123456789abcdef'.split('');\n  var EXTRA = [-2147483648, 8388608, 32768, 128];\n  var SHIFT = [24, 16, 8, 0];\n  var K = [\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n  ];\n  var OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'];\n\n  var blocks = [];\n\n  if (root.JS_SHA256_NO_NODE_JS || !Array.isArray) {\n    Array.isArray = function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n  }\n\n  if (ARRAY_BUFFER && (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {\n    ArrayBuffer.isView = function (obj) {\n      return typeof obj === 'object' && obj.buffer && obj.buffer.constructor === ArrayBuffer;\n    };\n  }\n\n  var createOutputMethod = function (outputType, is224) {\n    return function (message) {\n      return new Sha256(is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createMethod = function (is224) {\n    var method = createOutputMethod('hex', is224);\n    if (NODE_JS) {\n      method = nodeWrap(method, is224);\n    }\n    method.create = function () {\n      return new Sha256(is224);\n    };\n    method.update = function (message) {\n      return method.create().update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  var nodeWrap = function (method, is224) {\n    var crypto = eval(\"require('crypto')\");\n    var Buffer = eval(\"require('buffer').Buffer\");\n    var algorithm = is224 ? 'sha224' : 'sha256';\n    var nodeMethod = function (message) {\n      if (typeof message === 'string') {\n        return crypto.createHash(algorithm).update(message, 'utf8').digest('hex');\n      } else {\n        if (message === null || message === undefined) {\n          throw new Error(ERROR);\n        } else if (message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        }\n      }\n      if (Array.isArray(message) || ArrayBuffer.isView(message) ||\n        message.constructor === Buffer) {\n        return crypto.createHash(algorithm).update(new Buffer(message)).digest('hex');\n      } else {\n        return method(message);\n      }\n    };\n    return nodeMethod;\n  };\n\n  var createHmacOutputMethod = function (outputType, is224) {\n    return function (key, message) {\n      return new HmacSha256(key, is224, true).update(message)[outputType]();\n    };\n  };\n\n  var createHmacMethod = function (is224) {\n    var method = createHmacOutputMethod('hex', is224);\n    method.create = function (key) {\n      return new HmacSha256(key, is224);\n    };\n    method.update = function (key, message) {\n      return method.create(key).update(message);\n    };\n    for (var i = 0; i < OUTPUT_TYPES.length; ++i) {\n      var type = OUTPUT_TYPES[i];\n      method[type] = createHmacOutputMethod(type, is224);\n    }\n    return method;\n  };\n\n  function Sha256(is224, sharedMemory) {\n    if (sharedMemory) {\n      blocks[0] = blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      this.blocks = blocks;\n    } else {\n      this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n    }\n\n    if (is224) {\n      this.h0 = 0xc1059ed8;\n      this.h1 = 0x367cd507;\n      this.h2 = 0x3070dd17;\n      this.h3 = 0xf70e5939;\n      this.h4 = 0xffc00b31;\n      this.h5 = 0x68581511;\n      this.h6 = 0x64f98fa7;\n      this.h7 = 0xbefa4fa4;\n    } else { // 256\n      this.h0 = 0x6a09e667;\n      this.h1 = 0xbb67ae85;\n      this.h2 = 0x3c6ef372;\n      this.h3 = 0xa54ff53a;\n      this.h4 = 0x510e527f;\n      this.h5 = 0x9b05688c;\n      this.h6 = 0x1f83d9ab;\n      this.h7 = 0x5be0cd19;\n    }\n\n    this.block = this.start = this.bytes = this.hBytes = 0;\n    this.finalized = this.hashed = false;\n    this.first = true;\n    this.is224 = is224;\n  }\n\n  Sha256.prototype.update = function (message) {\n    if (this.finalized) {\n      return;\n    }\n    var notString, type = typeof message;\n    if (type !== 'string') {\n      if (type === 'object') {\n        if (message === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {\n          message = new Uint8Array(message);\n        } else if (!Array.isArray(message)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n      notString = true;\n    }\n    var code, index = 0, i, length = message.length, blocks = this.blocks;\n\n    while (index < length) {\n      if (this.hashed) {\n        this.hashed = false;\n        blocks[0] = this.block;\n        blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n          blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n          blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n          blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n      }\n\n      if (notString) {\n        for (i = this.start; index < length && i < 64; ++index) {\n          blocks[i >> 2] |= message[index] << SHIFT[i++ & 3];\n        }\n      } else {\n        for (i = this.start; index < length && i < 64; ++index) {\n          code = message.charCodeAt(index);\n          if (code < 0x80) {\n            blocks[i >> 2] |= code << SHIFT[i++ & 3];\n          } else if (code < 0x800) {\n            blocks[i >> 2] |= (0xc0 | (code >> 6)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else if (code < 0xd800 || code >= 0xe000) {\n            blocks[i >> 2] |= (0xe0 | (code >> 12)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          } else {\n            code = 0x10000 + (((code & 0x3ff) << 10) | (message.charCodeAt(++index) & 0x3ff));\n            blocks[i >> 2] |= (0xf0 | (code >> 18)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 12) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | ((code >> 6) & 0x3f)) << SHIFT[i++ & 3];\n            blocks[i >> 2] |= (0x80 | (code & 0x3f)) << SHIFT[i++ & 3];\n          }\n        }\n      }\n\n      this.lastByteIndex = i;\n      this.bytes += i - this.start;\n      if (i >= 64) {\n        this.block = blocks[16];\n        this.start = i - 64;\n        this.hash();\n        this.hashed = true;\n      } else {\n        this.start = i;\n      }\n    }\n    if (this.bytes > 4294967295) {\n      this.hBytes += this.bytes / 4294967296 << 0;\n      this.bytes = this.bytes % 4294967296;\n    }\n    return this;\n  };\n\n  Sha256.prototype.finalize = function () {\n    if (this.finalized) {\n      return;\n    }\n    this.finalized = true;\n    var blocks = this.blocks, i = this.lastByteIndex;\n    blocks[16] = this.block;\n    blocks[i >> 2] |= EXTRA[i & 3];\n    this.block = blocks[16];\n    if (i >= 56) {\n      if (!this.hashed) {\n        this.hash();\n      }\n      blocks[0] = this.block;\n      blocks[16] = blocks[1] = blocks[2] = blocks[3] =\n        blocks[4] = blocks[5] = blocks[6] = blocks[7] =\n        blocks[8] = blocks[9] = blocks[10] = blocks[11] =\n        blocks[12] = blocks[13] = blocks[14] = blocks[15] = 0;\n    }\n    blocks[14] = this.hBytes << 3 | this.bytes >>> 29;\n    blocks[15] = this.bytes << 3;\n    this.hash();\n  };\n\n  Sha256.prototype.hash = function () {\n    var a = this.h0, b = this.h1, c = this.h2, d = this.h3, e = this.h4, f = this.h5, g = this.h6,\n      h = this.h7, blocks = this.blocks, j, s0, s1, maj, t1, t2, ch, ab, da, cd, bc;\n\n    for (j = 16; j < 64; ++j) {\n      // rightrotate\n      t1 = blocks[j - 15];\n      s0 = ((t1 >>> 7) | (t1 << 25)) ^ ((t1 >>> 18) | (t1 << 14)) ^ (t1 >>> 3);\n      t1 = blocks[j - 2];\n      s1 = ((t1 >>> 17) | (t1 << 15)) ^ ((t1 >>> 19) | (t1 << 13)) ^ (t1 >>> 10);\n      blocks[j] = blocks[j - 16] + s0 + blocks[j - 7] + s1 << 0;\n    }\n\n    bc = b & c;\n    for (j = 0; j < 64; j += 4) {\n      if (this.first) {\n        if (this.is224) {\n          ab = 300032;\n          t1 = blocks[0] - 1413257819;\n          h = t1 - 150054599 << 0;\n          d = t1 + 24177077 << 0;\n        } else {\n          ab = 704751109;\n          t1 = blocks[0] - 210244248;\n          h = t1 - 1521486534 << 0;\n          d = t1 + 143694565 << 0;\n        }\n        this.first = false;\n      } else {\n        s0 = ((a >>> 2) | (a << 30)) ^ ((a >>> 13) | (a << 19)) ^ ((a >>> 22) | (a << 10));\n        s1 = ((e >>> 6) | (e << 26)) ^ ((e >>> 11) | (e << 21)) ^ ((e >>> 25) | (e << 7));\n        ab = a & b;\n        maj = ab ^ (a & c) ^ bc;\n        ch = (e & f) ^ (~e & g);\n        t1 = h + s1 + ch + K[j] + blocks[j];\n        t2 = s0 + maj;\n        h = d + t1 << 0;\n        d = t1 + t2 << 0;\n      }\n      s0 = ((d >>> 2) | (d << 30)) ^ ((d >>> 13) | (d << 19)) ^ ((d >>> 22) | (d << 10));\n      s1 = ((h >>> 6) | (h << 26)) ^ ((h >>> 11) | (h << 21)) ^ ((h >>> 25) | (h << 7));\n      da = d & a;\n      maj = da ^ (d & b) ^ ab;\n      ch = (h & e) ^ (~h & f);\n      t1 = g + s1 + ch + K[j + 1] + blocks[j + 1];\n      t2 = s0 + maj;\n      g = c + t1 << 0;\n      c = t1 + t2 << 0;\n      s0 = ((c >>> 2) | (c << 30)) ^ ((c >>> 13) | (c << 19)) ^ ((c >>> 22) | (c << 10));\n      s1 = ((g >>> 6) | (g << 26)) ^ ((g >>> 11) | (g << 21)) ^ ((g >>> 25) | (g << 7));\n      cd = c & d;\n      maj = cd ^ (c & a) ^ da;\n      ch = (g & h) ^ (~g & e);\n      t1 = f + s1 + ch + K[j + 2] + blocks[j + 2];\n      t2 = s0 + maj;\n      f = b + t1 << 0;\n      b = t1 + t2 << 0;\n      s0 = ((b >>> 2) | (b << 30)) ^ ((b >>> 13) | (b << 19)) ^ ((b >>> 22) | (b << 10));\n      s1 = ((f >>> 6) | (f << 26)) ^ ((f >>> 11) | (f << 21)) ^ ((f >>> 25) | (f << 7));\n      bc = b & c;\n      maj = bc ^ (b & d) ^ cd;\n      ch = (f & g) ^ (~f & h);\n      t1 = e + s1 + ch + K[j + 3] + blocks[j + 3];\n      t2 = s0 + maj;\n      e = a + t1 << 0;\n      a = t1 + t2 << 0;\n    }\n\n    this.h0 = this.h0 + a << 0;\n    this.h1 = this.h1 + b << 0;\n    this.h2 = this.h2 + c << 0;\n    this.h3 = this.h3 + d << 0;\n    this.h4 = this.h4 + e << 0;\n    this.h5 = this.h5 + f << 0;\n    this.h6 = this.h6 + g << 0;\n    this.h7 = this.h7 + h << 0;\n  };\n\n  Sha256.prototype.hex = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var hex = HEX_CHARS[(h0 >> 28) & 0x0F] + HEX_CHARS[(h0 >> 24) & 0x0F] +\n      HEX_CHARS[(h0 >> 20) & 0x0F] + HEX_CHARS[(h0 >> 16) & 0x0F] +\n      HEX_CHARS[(h0 >> 12) & 0x0F] + HEX_CHARS[(h0 >> 8) & 0x0F] +\n      HEX_CHARS[(h0 >> 4) & 0x0F] + HEX_CHARS[h0 & 0x0F] +\n      HEX_CHARS[(h1 >> 28) & 0x0F] + HEX_CHARS[(h1 >> 24) & 0x0F] +\n      HEX_CHARS[(h1 >> 20) & 0x0F] + HEX_CHARS[(h1 >> 16) & 0x0F] +\n      HEX_CHARS[(h1 >> 12) & 0x0F] + HEX_CHARS[(h1 >> 8) & 0x0F] +\n      HEX_CHARS[(h1 >> 4) & 0x0F] + HEX_CHARS[h1 & 0x0F] +\n      HEX_CHARS[(h2 >> 28) & 0x0F] + HEX_CHARS[(h2 >> 24) & 0x0F] +\n      HEX_CHARS[(h2 >> 20) & 0x0F] + HEX_CHARS[(h2 >> 16) & 0x0F] +\n      HEX_CHARS[(h2 >> 12) & 0x0F] + HEX_CHARS[(h2 >> 8) & 0x0F] +\n      HEX_CHARS[(h2 >> 4) & 0x0F] + HEX_CHARS[h2 & 0x0F] +\n      HEX_CHARS[(h3 >> 28) & 0x0F] + HEX_CHARS[(h3 >> 24) & 0x0F] +\n      HEX_CHARS[(h3 >> 20) & 0x0F] + HEX_CHARS[(h3 >> 16) & 0x0F] +\n      HEX_CHARS[(h3 >> 12) & 0x0F] + HEX_CHARS[(h3 >> 8) & 0x0F] +\n      HEX_CHARS[(h3 >> 4) & 0x0F] + HEX_CHARS[h3 & 0x0F] +\n      HEX_CHARS[(h4 >> 28) & 0x0F] + HEX_CHARS[(h4 >> 24) & 0x0F] +\n      HEX_CHARS[(h4 >> 20) & 0x0F] + HEX_CHARS[(h4 >> 16) & 0x0F] +\n      HEX_CHARS[(h4 >> 12) & 0x0F] + HEX_CHARS[(h4 >> 8) & 0x0F] +\n      HEX_CHARS[(h4 >> 4) & 0x0F] + HEX_CHARS[h4 & 0x0F] +\n      HEX_CHARS[(h5 >> 28) & 0x0F] + HEX_CHARS[(h5 >> 24) & 0x0F] +\n      HEX_CHARS[(h5 >> 20) & 0x0F] + HEX_CHARS[(h5 >> 16) & 0x0F] +\n      HEX_CHARS[(h5 >> 12) & 0x0F] + HEX_CHARS[(h5 >> 8) & 0x0F] +\n      HEX_CHARS[(h5 >> 4) & 0x0F] + HEX_CHARS[h5 & 0x0F] +\n      HEX_CHARS[(h6 >> 28) & 0x0F] + HEX_CHARS[(h6 >> 24) & 0x0F] +\n      HEX_CHARS[(h6 >> 20) & 0x0F] + HEX_CHARS[(h6 >> 16) & 0x0F] +\n      HEX_CHARS[(h6 >> 12) & 0x0F] + HEX_CHARS[(h6 >> 8) & 0x0F] +\n      HEX_CHARS[(h6 >> 4) & 0x0F] + HEX_CHARS[h6 & 0x0F];\n    if (!this.is224) {\n      hex += HEX_CHARS[(h7 >> 28) & 0x0F] + HEX_CHARS[(h7 >> 24) & 0x0F] +\n        HEX_CHARS[(h7 >> 20) & 0x0F] + HEX_CHARS[(h7 >> 16) & 0x0F] +\n        HEX_CHARS[(h7 >> 12) & 0x0F] + HEX_CHARS[(h7 >> 8) & 0x0F] +\n        HEX_CHARS[(h7 >> 4) & 0x0F] + HEX_CHARS[h7 & 0x0F];\n    }\n    return hex;\n  };\n\n  Sha256.prototype.toString = Sha256.prototype.hex;\n\n  Sha256.prototype.digest = function () {\n    this.finalize();\n\n    var h0 = this.h0, h1 = this.h1, h2 = this.h2, h3 = this.h3, h4 = this.h4, h5 = this.h5,\n      h6 = this.h6, h7 = this.h7;\n\n    var arr = [\n      (h0 >> 24) & 0xFF, (h0 >> 16) & 0xFF, (h0 >> 8) & 0xFF, h0 & 0xFF,\n      (h1 >> 24) & 0xFF, (h1 >> 16) & 0xFF, (h1 >> 8) & 0xFF, h1 & 0xFF,\n      (h2 >> 24) & 0xFF, (h2 >> 16) & 0xFF, (h2 >> 8) & 0xFF, h2 & 0xFF,\n      (h3 >> 24) & 0xFF, (h3 >> 16) & 0xFF, (h3 >> 8) & 0xFF, h3 & 0xFF,\n      (h4 >> 24) & 0xFF, (h4 >> 16) & 0xFF, (h4 >> 8) & 0xFF, h4 & 0xFF,\n      (h5 >> 24) & 0xFF, (h5 >> 16) & 0xFF, (h5 >> 8) & 0xFF, h5 & 0xFF,\n      (h6 >> 24) & 0xFF, (h6 >> 16) & 0xFF, (h6 >> 8) & 0xFF, h6 & 0xFF\n    ];\n    if (!this.is224) {\n      arr.push((h7 >> 24) & 0xFF, (h7 >> 16) & 0xFF, (h7 >> 8) & 0xFF, h7 & 0xFF);\n    }\n    return arr;\n  };\n\n  Sha256.prototype.array = Sha256.prototype.digest;\n\n  Sha256.prototype.arrayBuffer = function () {\n    this.finalize();\n\n    var buffer = new ArrayBuffer(this.is224 ? 28 : 32);\n    var dataView = new DataView(buffer);\n    dataView.setUint32(0, this.h0);\n    dataView.setUint32(4, this.h1);\n    dataView.setUint32(8, this.h2);\n    dataView.setUint32(12, this.h3);\n    dataView.setUint32(16, this.h4);\n    dataView.setUint32(20, this.h5);\n    dataView.setUint32(24, this.h6);\n    if (!this.is224) {\n      dataView.setUint32(28, this.h7);\n    }\n    return buffer;\n  };\n\n  function HmacSha256(key, is224, sharedMemory) {\n    var i, type = typeof key;\n    if (type === 'string') {\n      var bytes = [], length = key.length, index = 0, code;\n      for (i = 0; i < length; ++i) {\n        code = key.charCodeAt(i);\n        if (code < 0x80) {\n          bytes[index++] = code;\n        } else if (code < 0x800) {\n          bytes[index++] = (0xc0 | (code >> 6));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else if (code < 0xd800 || code >= 0xe000) {\n          bytes[index++] = (0xe0 | (code >> 12));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        } else {\n          code = 0x10000 + (((code & 0x3ff) << 10) | (key.charCodeAt(++i) & 0x3ff));\n          bytes[index++] = (0xf0 | (code >> 18));\n          bytes[index++] = (0x80 | ((code >> 12) & 0x3f));\n          bytes[index++] = (0x80 | ((code >> 6) & 0x3f));\n          bytes[index++] = (0x80 | (code & 0x3f));\n        }\n      }\n      key = bytes;\n    } else {\n      if (type === 'object') {\n        if (key === null) {\n          throw new Error(ERROR);\n        } else if (ARRAY_BUFFER && key.constructor === ArrayBuffer) {\n          key = new Uint8Array(key);\n        } else if (!Array.isArray(key)) {\n          if (!ARRAY_BUFFER || !ArrayBuffer.isView(key)) {\n            throw new Error(ERROR);\n          }\n        }\n      } else {\n        throw new Error(ERROR);\n      }\n    }\n\n    if (key.length > 64) {\n      key = (new Sha256(is224, true)).update(key).array();\n    }\n\n    var oKeyPad = [], iKeyPad = [];\n    for (i = 0; i < 64; ++i) {\n      var b = key[i] || 0;\n      oKeyPad[i] = 0x5c ^ b;\n      iKeyPad[i] = 0x36 ^ b;\n    }\n\n    Sha256.call(this, is224, sharedMemory);\n\n    this.update(iKeyPad);\n    this.oKeyPad = oKeyPad;\n    this.inner = true;\n    this.sharedMemory = sharedMemory;\n  }\n  HmacSha256.prototype = new Sha256();\n\n  HmacSha256.prototype.finalize = function () {\n    Sha256.prototype.finalize.call(this);\n    if (this.inner) {\n      this.inner = false;\n      var innerHash = this.array();\n      Sha256.call(this, this.is224, this.sharedMemory);\n      this.update(this.oKeyPad);\n      this.update(innerHash);\n      Sha256.prototype.finalize.call(this);\n    }\n  };\n\n  var exports = createMethod();\n  exports.sha256 = exports;\n  exports.sha224 = createMethod(true);\n  exports.sha256.hmac = createHmacMethod();\n  exports.sha224.hmac = createHmacMethod(true);\n\n  if (COMMON_JS) {\n    module.exports = exports;\n  } else {\n    root.sha256 = exports.sha256;\n    root.sha224 = exports.sha224;\n    if (AMD) {\n      define(function () {\n        return exports;\n      });\n    }\n  }\n})();\n","const util = require('./util')\nconst abi = require('./abi')\n\nconst TYPED_MESSAGE_SCHEMA = {\n  type: 'object',\n  properties: {\n    types: {\n      type: 'object',\n      additionalProperties: {\n        type: 'array',\n        items: {\n          type: 'object',\n          properties: {\n            name: {type: 'string'},\n            type: {type: 'string'},\n          },\n          required: ['name', 'type'],\n        },\n      },\n    },\n    primaryType: {type: 'string'},\n    domain: {type: 'object'},\n    message: {type: 'object'},\n  },\n  required: ['types', 'primaryType', 'domain', 'message'],\n}\n\n/**\n * A collection of utility functions used for signing typed data\n */\nconst TypedDataUtils = {\n  /**\n   * Encodes an object by encoding and concatenating each of its members\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of an object\n   */\n  encodeData (primaryType, data, types, useV4 = true) {\n    const encodedTypes = ['bytes32']\n    const encodedValues = [this.hashType(primaryType, types)]\n\n    if(useV4) {\n      const encodeField = (name, type, value) => {\n        if (types[type] !== undefined) {\n          return ['bytes32', value == null ?\n            '0x0000000000000000000000000000000000000000000000000000000000000000' :\n            util.keccak(this.encodeData(type, value, types, useV4))]\n        }\n\n        if(value === undefined)\n          throw new Error(`missing value for field ${name} of type ${type}`)\n\n        if (type === 'bytes') {\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type === 'string') {\n          // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n          if (typeof value === 'string') {\n            value = Buffer.from(value, 'utf8')\n          }\n          return ['bytes32', util.keccak(value)]\n        }\n\n        if (type.lastIndexOf(']') === type.length - 1) {\n          const parsedType = type.slice(0, type.lastIndexOf('['))\n          const typeValuePairs = value.map(item =>\n            encodeField(name, parsedType, item))\n          return ['bytes32', util.keccak(abi.rawEncode(\n            typeValuePairs.map(([type]) => type),\n            typeValuePairs.map(([, value]) => value),\n          ))]\n        }\n\n        return [type, value]\n      }\n\n      for (const field of types[primaryType]) {\n        const [type, value] = encodeField(field.name, field.type, data[field.name])\n        encodedTypes.push(type)\n        encodedValues.push(value)\n      }\n    } else {\n      for (const field of types[primaryType]) {\n        let value = data[field.name]\n        if (value !== undefined) {\n          if (field.type === 'bytes') {\n            encodedTypes.push('bytes32')\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (field.type === 'string') {\n            encodedTypes.push('bytes32')\n            // convert string to buffer - prevents ethUtil from interpreting strings like '0xabcd' as hex\n            if (typeof value === 'string') {\n              value = Buffer.from(value, 'utf8')\n            }\n            value = util.keccak(value)\n            encodedValues.push(value)\n          } else if (types[field.type] !== undefined) {\n            encodedTypes.push('bytes32')\n            value = util.keccak(this.encodeData(field.type, value, types, useV4))\n            encodedValues.push(value)\n          } else if (field.type.lastIndexOf(']') === field.type.length - 1) {\n            throw new Error('Arrays currently unimplemented in encodeData')\n          } else {\n            encodedTypes.push(field.type)\n            encodedValues.push(value)\n          }\n        }\n      }\n    }\n\n    return abi.rawEncode(encodedTypes, encodedValues)\n  },\n\n  /**\n   * Encodes the type of an object by encoding a comma delimited list of its members\n   *\n   * @param {string} primaryType - Root type to encode\n   * @param {Object} types - Type definitions\n   * @returns {string} - Encoded representation of the type of an object\n   */\n  encodeType (primaryType, types) {\n    let result = ''\n    let deps = this.findTypeDependencies(primaryType, types).filter(dep => dep !== primaryType)\n    deps = [primaryType].concat(deps.sort())\n    for (const type of deps) {\n      const children = types[type]\n      if (!children) {\n        throw new Error('No type definition specified: ' + type)\n      }\n      result += type + '(' + types[type].map(({ name, type }) => type + ' ' + name).join(',') + ')'\n    }\n    return result\n  },\n\n  /**\n   * Finds all types within a type defintion object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} types - Type definitions\n   * @param {Array} results - current set of accumulated types\n   * @returns {Array} - Set of all types found in the type definition\n   */\n  findTypeDependencies (primaryType, types, results = []) {\n    primaryType = primaryType.match(/^\\w*/)[0]\n    if (results.includes(primaryType) || types[primaryType] === undefined) { return results }\n    results.push(primaryType)\n    for (const field of types[primaryType]) {\n      for (const dep of this.findTypeDependencies(field.type, types, results)) {\n        !results.includes(dep) && results.push(dep)\n      }\n    }\n    return results\n  },\n\n  /**\n   * Hashes an object\n   *\n   * @param {string} primaryType - Root type\n   * @param {Object} data - Object to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashStruct (primaryType, data, types, useV4 = true) {\n    return util.keccak(this.encodeData(primaryType, data, types, useV4))\n  },\n\n  /**\n   * Hashes the type of an object\n   *\n   * @param {string} primaryType - Root type to hash\n   * @param {Object} types - Type definitions\n   * @returns {string} - Hash of an object\n   */\n  hashType (primaryType, types) {\n    return util.keccak(this.encodeType(primaryType, types))\n  },\n\n  /**\n   * Removes properties from a message object that are not defined per EIP-712\n   *\n   * @param {Object} data - typed message object\n   * @returns {Object} - typed message object with only allowed fields\n   */\n  sanitizeData (data) {\n    const sanitizedData = {}\n    for (const key in TYPED_MESSAGE_SCHEMA.properties) {\n      data[key] && (sanitizedData[key] = data[key])\n    }\n    if (sanitizedData.types) {\n      sanitizedData.types = Object.assign({ EIP712Domain: [] }, sanitizedData.types)\n    }\n    return sanitizedData\n  },\n\n  /**\n   * Returns the hash of a typed message as per EIP-712 for signing\n   *\n   * @param {Object} typedData - Types message data to sign\n   * @returns {string} - sha3 hash for signing\n   */\n  hash (typedData, useV4 = true) {\n    const sanitizedData = this.sanitizeData(typedData)\n    const parts = [Buffer.from('1901', 'hex')]\n    parts.push(this.hashStruct('EIP712Domain', sanitizedData.domain, sanitizedData.types, useV4))\n    if (sanitizedData.primaryType !== 'EIP712Domain') {\n      parts.push(this.hashStruct(sanitizedData.primaryType, sanitizedData.message, sanitizedData.types, useV4))\n    }\n    return util.keccak(Buffer.concat(parts))\n  },\n}\n\nmodule.exports = {\n  TYPED_MESSAGE_SCHEMA,\n  TypedDataUtils,\n\n  hashForSignTypedDataLegacy: function (msgParams) {\n    return typedSignatureHashLegacy(msgParams.data)\n  },\n\n  hashForSignTypedData_v3: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data, false)\n  },\n\n  hashForSignTypedData_v4: function (msgParams) {\n    return TypedDataUtils.hash(msgParams.data)\n  },\n}\n\n/**\n * @param typedData - Array of data along with types, as per EIP712.\n * @returns Buffer\n */\nfunction typedSignatureHashLegacy(typedData) {\n  const error = new Error('Expect argument to be non-empty array')\n  if (typeof typedData !== 'object' || !typedData.length) throw error\n\n  const data = typedData.map(function (e) {\n    return e.type === 'bytes' ? util.toBuffer(e.value) : e.value\n  })\n  const types = typedData.map(function (e) { return e.type })\n  const schema = typedData.map(function (e) {\n    if (!e.name) throw error\n    return e.type + ' ' + e.name\n  })\n\n  return abi.soliditySHA3(\n    ['bytes32', 'bytes32'],\n    [\n      abi.soliditySHA3(new Array(typedData.length).fill('string'), schema),\n      abi.soliditySHA3(types, data)\n    ]\n  )\n}\n","// Extracted from https://github.com/ethereumjs/ethereumjs-abi and stripped out irrelevant code\n// Original code licensed under the MIT License - Copyright (c) 2015 Alex Beregszaszi\n\nconst util = require('./util')\nconst BN = require('bn.js')\n\n// Convert from short to canonical names\n// FIXME: optimise or make this nicer?\nfunction elementaryName (name) {\n  if (name.startsWith('int[')) {\n    return 'int256' + name.slice(3)\n  } else if (name === 'int') {\n    return 'int256'\n  } else if (name.startsWith('uint[')) {\n    return 'uint256' + name.slice(4)\n  } else if (name === 'uint') {\n    return 'uint256'\n  } else if (name.startsWith('fixed[')) {\n    return 'fixed128x128' + name.slice(5)\n  } else if (name === 'fixed') {\n    return 'fixed128x128'\n  } else if (name.startsWith('ufixed[')) {\n    return 'ufixed128x128' + name.slice(6)\n  } else if (name === 'ufixed') {\n    return 'ufixed128x128'\n  }\n  return name\n}\n\n// Parse N from type<N>\nfunction parseTypeN (type) {\n  return parseInt(/^\\D+(\\d+)$/.exec(type)[1], 10)\n}\n\n// Parse N,M from type<N>x<M>\nfunction parseTypeNxM (type) {\n  var tmp = /^\\D+(\\d+)x(\\d+)$/.exec(type)\n  return [ parseInt(tmp[1], 10), parseInt(tmp[2], 10) ]\n}\n\n// Parse N in type[<N>] where \"type\" can itself be an array type.\nfunction parseTypeArray (type) {\n  var tmp = type.match(/(.*)\\[(.*?)\\]$/)\n  if (tmp) {\n    return tmp[2] === '' ? 'dynamic' : parseInt(tmp[2], 10)\n  }\n  return null\n}\n\nfunction parseNumber (arg) {\n  var type = typeof arg\n  if (type === 'string') {\n    if (util.isHexString(arg)) {\n      return new BN(util.stripHexPrefix(arg), 16)\n    } else {\n      return new BN(arg, 10)\n    }\n  } else if (type === 'number') {\n    return new BN(arg)\n  } else if (arg.toArray) {\n    // assume this is a BN for the moment, replace with BN.isBN soon\n    return arg\n  } else {\n    throw new Error('Argument is not a number')\n  }\n}\n\n// Encodes a single item (can be dynamic array)\n// @returns: Buffer\nfunction encodeSingle (type, arg) {\n  var size, num, ret, i\n\n  if (type === 'address') {\n    return encodeSingle('uint160', parseNumber(arg))\n  } else if (type === 'bool') {\n    return encodeSingle('uint8', arg ? 1 : 0)\n  } else if (type === 'string') {\n    return encodeSingle('bytes', new Buffer(arg, 'utf8'))\n  } else if (isArray(type)) {\n    // this part handles fixed-length ([2]) and variable length ([]) arrays\n    // NOTE: we catch here all calls to arrays, that simplifies the rest\n    if (typeof arg.length === 'undefined') {\n      throw new Error('Not an array?')\n    }\n    size = parseTypeArray(type)\n    if (size !== 'dynamic' && size !== 0 && arg.length > size) {\n      throw new Error('Elements exceed array size: ' + size)\n    }\n    ret = []\n    type = type.slice(0, type.lastIndexOf('['))\n    if (typeof arg === 'string') {\n      arg = JSON.parse(arg)\n    }\n    for (i in arg) {\n      ret.push(encodeSingle(type, arg[i]))\n    }\n    if (size === 'dynamic') {\n      var length = encodeSingle('uint256', arg.length)\n      ret.unshift(length)\n    }\n    return Buffer.concat(ret)\n  } else if (type === 'bytes') {\n    arg = new Buffer(arg)\n\n    ret = Buffer.concat([ encodeSingle('uint256', arg.length), arg ])\n\n    if ((arg.length % 32) !== 0) {\n      ret = Buffer.concat([ ret, util.zeros(32 - (arg.length % 32)) ])\n    }\n\n    return ret\n  } else if (type.startsWith('bytes')) {\n    size = parseTypeN(type)\n    if (size < 1 || size > 32) {\n      throw new Error('Invalid bytes<N> width: ' + size)\n    }\n\n    return util.setLengthRight(arg, 32)\n  } else if (type.startsWith('uint')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid uint<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    if (num < 0) {\n      throw new Error('Supplied uint is negative')\n    }\n\n    return num.toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('int')) {\n    size = parseTypeN(type)\n    if ((size % 8) || (size < 8) || (size > 256)) {\n      throw new Error('Invalid int<N> width: ' + size)\n    }\n\n    num = parseNumber(arg)\n    if (num.bitLength() > size) {\n      throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n    }\n\n    return num.toTwos(256).toArrayLike(Buffer, 'be', 32)\n  } else if (type.startsWith('ufixed')) {\n    size = parseTypeNxM(type)\n\n    num = parseNumber(arg)\n\n    if (num < 0) {\n      throw new Error('Supplied ufixed is negative')\n    }\n\n    return encodeSingle('uint256', num.mul(new BN(2).pow(new BN(size[1]))))\n  } else if (type.startsWith('fixed')) {\n    size = parseTypeNxM(type)\n\n    return encodeSingle('int256', parseNumber(arg).mul(new BN(2).pow(new BN(size[1]))))\n  }\n\n  throw new Error('Unsupported or invalid type: ' + type)\n}\n\n// Is a type dynamic?\nfunction isDynamic (type) {\n  // FIXME: handle all types? I don't think anything is missing now\n  return (type === 'string') || (type === 'bytes') || (parseTypeArray(type) === 'dynamic')\n}\n\n// Is a type an array?\nfunction isArray (type) {\n  return type.lastIndexOf(']') === type.length - 1\n}\n\n// Encode a method/event with arguments\n// @types an array of string type names\n// @args  an array of the appropriate values\nfunction rawEncode (types, values) {\n  var output = []\n  var data = []\n\n  var headLength = 32 * types.length\n\n  for (var i in types) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n    var cur = encodeSingle(type, value)\n\n    // Use the head/tail method for storing dynamic data\n    if (isDynamic(type)) {\n      output.push(encodeSingle('uint256', headLength))\n      data.push(cur)\n      headLength += cur.length\n    } else {\n      output.push(cur)\n    }\n  }\n\n  return Buffer.concat(output.concat(data))\n}\n\nfunction solidityPack (types, values) {\n  if (types.length !== values.length) {\n    throw new Error('Number of types are not matching the values')\n  }\n\n  var size, num\n  var ret = []\n\n  for (var i = 0; i < types.length; i++) {\n    var type = elementaryName(types[i])\n    var value = values[i]\n\n    if (type === 'bytes') {\n      ret.push(value)\n    } else if (type === 'string') {\n      ret.push(new Buffer(value, 'utf8'))\n    } else if (type === 'bool') {\n      ret.push(new Buffer(value ? '01' : '00', 'hex'))\n    } else if (type === 'address') {\n      ret.push(util.setLength(value, 20))\n    } else if (type.startsWith('bytes')) {\n      size = parseTypeN(type)\n      if (size < 1 || size > 32) {\n        throw new Error('Invalid bytes<N> width: ' + size)\n      }\n\n      ret.push(util.setLengthRight(value, size))\n    } else if (type.startsWith('uint')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid uint<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied uint exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toArrayLike(Buffer, 'be', size / 8))\n    } else if (type.startsWith('int')) {\n      size = parseTypeN(type)\n      if ((size % 8) || (size < 8) || (size > 256)) {\n        throw new Error('Invalid int<N> width: ' + size)\n      }\n\n      num = parseNumber(value)\n      if (num.bitLength() > size) {\n        throw new Error('Supplied int exceeds width: ' + size + ' vs ' + num.bitLength())\n      }\n\n      ret.push(num.toTwos(size).toArrayLike(Buffer, 'be', size / 8))\n    } else {\n      // FIXME: support all other types\n      throw new Error('Unsupported or invalid type: ' + type)\n    }\n  }\n\n  return Buffer.concat(ret)\n}\n\nfunction soliditySHA3 (types, values) {\n  return util.keccak(solidityPack(types, values))\n}\n\nmodule.exports = {\n  rawEncode,\n  solidityPack,\n  soliditySHA3\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filterFromParam = exports.FilterPolyfill = void 0;\nconst types_1 = require(\"../types\");\nconst util_1 = require(\"../util\");\nconst TIMEOUT = 5 * 60 * 1000; // 5 minutes\nconst JSONRPC_TEMPLATE = {\n    jsonrpc: \"2.0\",\n    id: 0\n};\nclass FilterPolyfill {\n    constructor(provider) {\n        this.logFilters = new Map(); // <id, filter>\n        this.blockFilters = new Set(); // <id>\n        this.pendingTransactionFilters = new Set(); // <id, true>\n        this.cursors = new Map(); // <id, cursor>\n        this.timeouts = new Map(); // <id, setTimeout id>\n        this.nextFilterId = (0, types_1.IntNumber)(1);\n        this.provider = provider;\n    }\n    async newFilter(param) {\n        const filter = filterFromParam(param);\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, filter.fromBlock);\n        console.log(`Installing new log filter(${id}):`, filter, \"initial cursor position:\", cursor);\n        this.logFilters.set(id, filter);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newBlockFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.blockFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    async newPendingTransactionFilter() {\n        const id = this.makeFilterId();\n        const cursor = await this.setInitialCursorPosition(id, \"latest\");\n        console.log(`Installing new block filter (${id}) with initial cursor position:`, cursor);\n        this.pendingTransactionFilters.add(id);\n        this.setFilterTimeout(id);\n        return (0, util_1.hexStringFromIntNumber)(id);\n    }\n    uninstallFilter(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        console.log(`Uninstalling filter (${id})`);\n        this.deleteFilter(id);\n        return true;\n    }\n    getFilterChanges(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        if (this.timeouts.has(id)) {\n            // extend timeout\n            this.setFilterTimeout(id);\n        }\n        if (this.logFilters.has(id)) {\n            return this.getLogFilterChanges(id);\n        }\n        else if (this.blockFilters.has(id)) {\n            return this.getBlockFilterChanges(id);\n        }\n        else if (this.pendingTransactionFilters.has(id)) {\n            return this.getPendingTransactionFilterChanges(id);\n        }\n        return Promise.resolve(filterNotFoundError());\n    }\n    async getFilterLogs(filterId) {\n        const id = (0, util_1.intNumberFromHexString)(filterId);\n        const filter = this.logFilters.get(id);\n        if (!filter) {\n            return filterNotFoundError();\n        }\n        return this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [paramFromFilter(filter)] }));\n    }\n    makeFilterId() {\n        return (0, types_1.IntNumber)(++this.nextFilterId);\n    }\n    sendAsyncPromise(request) {\n        return new Promise((resolve, reject) => {\n            this.provider.sendAsync(request, (err, response) => {\n                if (err) {\n                    return reject(err);\n                }\n                if (Array.isArray(response) || response == null) {\n                    return reject(new Error(`unexpected response received: ${JSON.stringify(response)}`));\n                }\n                resolve(response);\n            });\n        });\n    }\n    deleteFilter(id) {\n        console.log(`Deleting filter (${id})`);\n        this.logFilters.delete(id);\n        this.blockFilters.delete(id);\n        this.pendingTransactionFilters.delete(id);\n        this.cursors.delete(id);\n        this.timeouts.delete(id);\n    }\n    async getLogFilterChanges(id) {\n        const filter = this.logFilters.get(id);\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition || !filter) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const toBlock = filter.toBlock === \"latest\" ? currentBlockHeight : filter.toBlock;\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        if (cursorPosition > filter.toBlock) {\n            return emptyResult();\n        }\n        console.log(`Fetching logs from ${cursorPosition} to ${toBlock} for filter ${id}`);\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getLogs\", params: [\n                paramFromFilter(Object.assign(Object.assign({}, filter), { fromBlock: cursorPosition, toBlock }))\n            ] }));\n        if (Array.isArray(response.result)) {\n            const blocks = response.result.map(log => (0, util_1.intNumberFromHexString)(log.blockNumber || \"0x0\"));\n            const highestBlock = Math.max(...blocks);\n            if (highestBlock && highestBlock > cursorPosition) {\n                const newCursorPosition = (0, types_1.IntNumber)(highestBlock + 1);\n                console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n                this.cursors.set(id, newCursorPosition);\n            }\n        }\n        return response;\n    }\n    async getBlockFilterChanges(id) {\n        const cursorPosition = this.cursors.get(id);\n        if (!cursorPosition) {\n            return filterNotFoundError();\n        }\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        if (cursorPosition > currentBlockHeight) {\n            return emptyResult();\n        }\n        console.log(`Fetching blocks from ${cursorPosition} to ${currentBlockHeight} for filter (${id})`);\n        const blocks = (await Promise.all(\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        (0, util_1.range)(cursorPosition, currentBlockHeight + 1).map(i => this.getBlockHashByNumber((0, types_1.IntNumber)(i))))).filter(hash => !!hash);\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n        const newCursorPosition = (0, types_1.IntNumber)(cursorPosition + blocks.length);\n        console.log(`Moving cursor position for filter (${id}) from ${cursorPosition} to ${newCursorPosition}`);\n        this.cursors.set(id, newCursorPosition);\n        return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: blocks });\n    }\n    async getPendingTransactionFilterChanges(_id) {\n        // pending transaction filters are not supported\n        return Promise.resolve(emptyResult());\n    }\n    async setInitialCursorPosition(id, startBlock) {\n        const currentBlockHeight = await this.getCurrentBlockHeight();\n        const initialCursorPosition = typeof startBlock === \"number\" && startBlock > currentBlockHeight\n            ? startBlock\n            : currentBlockHeight;\n        this.cursors.set(id, initialCursorPosition);\n        return initialCursorPosition;\n    }\n    setFilterTimeout(id) {\n        const existing = this.timeouts.get(id);\n        if (existing) {\n            window.clearTimeout(existing);\n        }\n        const timeout = window.setTimeout(() => {\n            console.log(`Filter (${id}) timed out`);\n            this.deleteFilter(id);\n        }, TIMEOUT);\n        this.timeouts.set(id, timeout);\n    }\n    async getCurrentBlockHeight() {\n        const { result } = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_blockNumber\", params: [] }));\n        return (0, util_1.intNumberFromHexString)((0, util_1.ensureHexString)(result));\n    }\n    async getBlockHashByNumber(blockNumber) {\n        const response = await this.sendAsyncPromise(Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { method: \"eth_getBlockByNumber\", params: [(0, util_1.hexStringFromIntNumber)(blockNumber), false] }));\n        if (response.result && typeof response.result.hash === \"string\") {\n            return (0, util_1.ensureHexString)(response.result.hash);\n        }\n        return null;\n    }\n}\nexports.FilterPolyfill = FilterPolyfill;\nfunction filterFromParam(param) {\n    return {\n        fromBlock: intBlockHeightFromHexBlockHeight(param.fromBlock),\n        toBlock: intBlockHeightFromHexBlockHeight(param.toBlock),\n        addresses: param.address === undefined\n            ? null\n            : Array.isArray(param.address)\n                ? param.address\n                : [param.address],\n        topics: param.topics || []\n    };\n}\nexports.filterFromParam = filterFromParam;\nfunction paramFromFilter(filter) {\n    const param = {\n        fromBlock: hexBlockHeightFromIntBlockHeight(filter.fromBlock),\n        toBlock: hexBlockHeightFromIntBlockHeight(filter.toBlock),\n        topics: filter.topics\n    };\n    if (filter.addresses !== null) {\n        param.address = filter.addresses;\n    }\n    return param;\n}\nfunction intBlockHeightFromHexBlockHeight(value) {\n    if (value === undefined || value === \"latest\" || value === \"pending\") {\n        return \"latest\";\n    }\n    else if (value === \"earliest\") {\n        return (0, types_1.IntNumber)(0);\n    }\n    else if ((0, util_1.isHexString)(value)) {\n        return (0, util_1.intNumberFromHexString)(value);\n    }\n    throw new Error(`Invalid block option: ${String(value)}`);\n}\nfunction hexBlockHeightFromIntBlockHeight(value) {\n    if (value === \"latest\") {\n        return value;\n    }\n    return (0, util_1.hexStringFromIntNumber)(value);\n}\nfunction filterNotFoundError() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { error: { code: -32000, message: \"filter not found\" } });\n}\nfunction emptyResult() {\n    return Object.assign(Object.assign({}, JSONRPC_TEMPLATE), { result: [] });\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JSONRPCMethod = void 0;\nvar JSONRPCMethod;\n(function (JSONRPCMethod) {\n    // synchronous or asynchronous\n    JSONRPCMethod[\"eth_accounts\"] = \"eth_accounts\";\n    JSONRPCMethod[\"eth_coinbase\"] = \"eth_coinbase\";\n    JSONRPCMethod[\"net_version\"] = \"net_version\";\n    JSONRPCMethod[\"eth_chainId\"] = \"eth_chainId\";\n    JSONRPCMethod[\"eth_uninstallFilter\"] = \"eth_uninstallFilter\";\n    // asynchronous only\n    JSONRPCMethod[\"eth_requestAccounts\"] = \"eth_requestAccounts\";\n    JSONRPCMethod[\"eth_sign\"] = \"eth_sign\";\n    JSONRPCMethod[\"eth_ecRecover\"] = \"eth_ecRecover\";\n    JSONRPCMethod[\"personal_sign\"] = \"personal_sign\";\n    JSONRPCMethod[\"personal_ecRecover\"] = \"personal_ecRecover\";\n    JSONRPCMethod[\"eth_signTransaction\"] = \"eth_signTransaction\";\n    JSONRPCMethod[\"eth_sendRawTransaction\"] = \"eth_sendRawTransaction\";\n    JSONRPCMethod[\"eth_sendTransaction\"] = \"eth_sendTransaction\";\n    JSONRPCMethod[\"eth_signTypedData_v1\"] = \"eth_signTypedData_v1\";\n    JSONRPCMethod[\"eth_signTypedData_v2\"] = \"eth_signTypedData_v2\";\n    JSONRPCMethod[\"eth_signTypedData_v3\"] = \"eth_signTypedData_v3\";\n    JSONRPCMethod[\"eth_signTypedData_v4\"] = \"eth_signTypedData_v4\";\n    JSONRPCMethod[\"eth_signTypedData\"] = \"eth_signTypedData\";\n    JSONRPCMethod[\"walletlink_arbitrary\"] = \"walletlink_arbitrary\";\n    JSONRPCMethod[\"wallet_addEthereumChain\"] = \"wallet_addEthereumChain\";\n    JSONRPCMethod[\"wallet_switchEthereumChain\"] = \"wallet_switchEthereumChain\";\n    JSONRPCMethod[\"wallet_watchAsset\"] = \"wallet_watchAsset\";\n    // asynchronous pub/sub\n    JSONRPCMethod[\"eth_subscribe\"] = \"eth_subscribe\";\n    JSONRPCMethod[\"eth_unsubscribe\"] = \"eth_unsubscribe\";\n    // asynchronous filter methods\n    JSONRPCMethod[\"eth_newFilter\"] = \"eth_newFilter\";\n    JSONRPCMethod[\"eth_newBlockFilter\"] = \"eth_newBlockFilter\";\n    JSONRPCMethod[\"eth_newPendingTransactionFilter\"] = \"eth_newPendingTransactionFilter\";\n    JSONRPCMethod[\"eth_getFilterChanges\"] = \"eth_getFilterChanges\";\n    JSONRPCMethod[\"eth_getFilterLogs\"] = \"eth_getFilterLogs\";\n})(JSONRPCMethod = exports.JSONRPCMethod || (exports.JSONRPCMethod = {}));\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SubscriptionManager = void 0;\nconst PollingBlockTracker = require(\"eth-block-tracker\");\nconst createSubscriptionManager = require(\"eth-json-rpc-filters/subscriptionManager\");\nconst noop = () => { };\nclass SubscriptionManager {\n    constructor(provider) {\n        const blockTracker = new PollingBlockTracker({\n            provider,\n            pollingInterval: 15 * 1000,\n            setSkipCacheFlag: true\n        });\n        const { events, middleware } = createSubscriptionManager({\n            blockTracker,\n            provider\n        });\n        this.events = events;\n        this.subscriptionMiddleware = middleware;\n    }\n    async handleRequest(request) {\n        const result = {};\n        await this.subscriptionMiddleware(request, result, noop, noop);\n        return result;\n    }\n    destroy() {\n        this.subscriptionMiddleware.destroy();\n    }\n}\nexports.SubscriptionManager = SubscriptionManager;\n","const pify = require('pify')\nconst BaseBlockTracker = require('./base')\n\nconst sec = 1000\n\nclass PollingBlockTracker extends BaseBlockTracker {\n\n  constructor (opts = {}) {\n    // parse + validate args\n    if (!opts.provider) throw new Error('PollingBlockTracker - no provider specified.')\n    const pollingInterval = opts.pollingInterval || 20 * sec\n    const retryTimeout = opts.retryTimeout || pollingInterval / 10\n    const keepEventLoopActive = opts.keepEventLoopActive !== undefined ? opts.keepEventLoopActive : true\n    const setSkipCacheFlag = opts.setSkipCacheFlag || false\n    // BaseBlockTracker constructor\n    super(Object.assign({\n      blockResetDuration: pollingInterval,\n    }, opts))\n    // config\n    this._provider = opts.provider\n    this._pollingInterval = pollingInterval\n    this._retryTimeout = retryTimeout\n    this._keepEventLoopActive = keepEventLoopActive\n    this._setSkipCacheFlag = setSkipCacheFlag\n  }\n\n  //\n  // public\n  //\n\n  // trigger block polling\n  async checkForLatestBlock () {\n    await this._updateLatestBlock()\n    return await this.getLatestBlock()\n  }\n\n  //\n  // private\n  //\n\n  _start () {\n    this._performSync().catch(err => this.emit('error', err))\n  }\n\n  async _performSync () {\n    while (this._isRunning) {\n      try {\n        await this._updateLatestBlock()\n        await timeout(this._pollingInterval, !this._keepEventLoopActive)\n      } catch (err) {\n        const newErr = new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:\\n${err.stack}`)\n        try {\n          this.emit('error', newErr)\n        } catch (emitErr) {\n          console.error(newErr)\n        }\n        await timeout(this._retryTimeout, !this._keepEventLoopActive)\n      }\n    }\n  }\n\n  async _updateLatestBlock () {\n    // fetch + set latest block\n    const latestBlock = await this._fetchLatestBlock()\n    this._newPotentialLatest(latestBlock)\n  }\n\n  async _fetchLatestBlock () {\n    const req = { jsonrpc: \"2.0\", id: 1, method: 'eth_blockNumber', params: [] }\n    if (this._setSkipCacheFlag) req.skipCache = true\n    const res = await pify((cb) => this._provider.sendAsync(req, cb))()\n    if (res.error) throw new Error(`PollingBlockTracker - encountered error fetching block:\\n${res.error}`)\n    return res.result\n  }\n\n}\n\nmodule.exports = PollingBlockTracker\n\nfunction timeout (duration, unref) {\n  return new Promise(resolve => {\n    const timoutRef = setTimeout(resolve, duration)\n    // don't keep process open\n    if (timoutRef.unref && unref) {\n      timoutRef.unref()\n    }\n  })\n}\n","const EthQuery = require('eth-query')\nconst pify = require('pify')\nconst SafeEventEmitter = require('safe-event-emitter')\n\nconst sec = 1000\n\nconst calculateSum = (accumulator, currentValue) => accumulator + currentValue\nconst blockTrackerEvents = ['sync', 'latest']\n\nclass BaseBlockTracker extends SafeEventEmitter {\n\n  //\n  // public\n  //\n\n  constructor (opts = {}) {\n    super()\n    // config\n    this._blockResetDuration = opts.blockResetDuration || 20 * sec\n    // state\n    this._blockResetTimeout\n    this._currentBlock = null\n    this._isRunning = false\n    // bind functions for internal use\n    this._onNewListener = this._onNewListener.bind(this)\n    this._onRemoveListener = this._onRemoveListener.bind(this)\n    this._resetCurrentBlock = this._resetCurrentBlock.bind(this)\n    // listen for handler changes\n    this._setupInternalEvents()\n  }\n\n  isRunning () {\n    return this._isRunning\n  }\n\n  getCurrentBlock () {\n    return this._currentBlock\n  }\n\n  async getLatestBlock () {\n    // return if available\n    if (this._currentBlock) return this._currentBlock\n    // wait for a new latest block\n    const latestBlock = await new Promise(resolve => this.once('latest', resolve))\n    // return newly set current block\n    return latestBlock\n  }\n\n  // dont allow module consumer to remove our internal event listeners\n  removeAllListeners (eventName) {\n    // perform default behavior, preserve fn arity\n    if (eventName) {\n      super.removeAllListeners(eventName)\n    } else {\n      super.removeAllListeners()\n    }\n    // re-add internal events\n    this._setupInternalEvents()\n    // trigger stop check just in case\n    this._onRemoveListener()\n  }\n\n  //\n  // to be implemented in subclass\n  //\n\n  _start () {\n    // default behavior is noop\n  }\n\n  _end () {\n    // default behavior is noop\n  }\n\n  //\n  // private\n  //\n\n  _setupInternalEvents () {\n    // first remove listeners for idempotence\n    this.removeListener('newListener', this._onNewListener)\n    this.removeListener('removeListener', this._onRemoveListener)\n    // then add them\n    this.on('newListener', this._onNewListener)\n    this.on('removeListener', this._onRemoveListener)\n  }\n\n  _onNewListener (eventName, handler) {\n    // `newListener` is called *before* the listener is added\n    if (!blockTrackerEvents.includes(eventName)) return\n    this._maybeStart()\n  }\n\n  _onRemoveListener (eventName, handler) {\n    // `removeListener` is called *after* the listener is removed\n    if (this._getBlockTrackerEventCount() > 0) return\n    this._maybeEnd()\n  }\n\n  _maybeStart () {\n    if (this._isRunning) return\n    this._isRunning = true\n    // cancel setting latest block to stale\n    this._cancelBlockResetTimeout()\n    this._start()\n  }\n\n  _maybeEnd () {\n    if (!this._isRunning) return\n    this._isRunning = false\n    this._setupBlockResetTimeout()\n    this._end()\n  }\n\n  _getBlockTrackerEventCount () {\n    return blockTrackerEvents\n      .map(eventName => this.listenerCount(eventName))\n      .reduce(calculateSum)\n  }\n\n  _newPotentialLatest (newBlock) {\n    const currentBlock = this._currentBlock\n    // only update if blok number is higher\n    if (currentBlock && (hexToInt(newBlock) <= hexToInt(currentBlock))) return\n    this._setCurrentBlock(newBlock)\n  }\n\n  _setCurrentBlock (newBlock) {\n    const oldBlock = this._currentBlock\n    this._currentBlock = newBlock\n    this.emit('latest', newBlock)\n    this.emit('sync', { oldBlock, newBlock })\n  }\n\n  _setupBlockResetTimeout () {\n    // clear any existing timeout\n    this._cancelBlockResetTimeout()\n    // clear latest block when stale\n    this._blockResetTimeout = setTimeout(this._resetCurrentBlock, this._blockResetDuration)\n    // nodejs - dont hold process open\n    if (this._blockResetTimeout.unref) {\n      this._blockResetTimeout.unref()\n    }\n  }\n\n  _cancelBlockResetTimeout () {\n    clearTimeout(this._blockResetTimeout)\n  }\n\n  _resetCurrentBlock () {\n    this._currentBlock = null\n  }\n\n}\n\nmodule.exports = BaseBlockTracker\n\nfunction hexToInt(hexInt) {\n  return Number.parseInt(hexInt, 16)\n}\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScopedLocalStorage = void 0;\nclass ScopedLocalStorage {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    setItem(key, value) {\n        localStorage.setItem(this.scopedKey(key), value);\n    }\n    getItem(key) {\n        return localStorage.getItem(this.scopedKey(key));\n    }\n    removeItem(key) {\n        localStorage.removeItem(this.scopedKey(key));\n    }\n    clear() {\n        const prefix = this.scopedKey(\"\");\n        const keysToRemove = [];\n        for (let i = 0; i < localStorage.length; i++) {\n            const key = localStorage.key(i);\n            if (typeof key === \"string\" && key.startsWith(prefix)) {\n                keysToRemove.push(key);\n            }\n        }\n        keysToRemove.forEach(key => localStorage.removeItem(key));\n    }\n    scopedKey(key) {\n        return `${this.scope}:${key}`;\n    }\n}\nexports.ScopedLocalStorage = ScopedLocalStorage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkSdkUI = void 0;\nconst LinkFlow_1 = require(\"../components/LinkFlow\");\nconst Snackbar_1 = require(\"../components/Snackbar\");\nconst cssReset_1 = require(\"../lib/cssReset\");\nconst WalletLinkUI_1 = require(\"./WalletLinkUI\");\nclass WalletLinkSdkUI extends WalletLinkUI_1.WalletLinkUI {\n    constructor(options) {\n        super(options);\n        this.attached = false;\n        this.snackbar = new Snackbar_1.Snackbar({\n            darkMode: options.darkMode\n        });\n        this.linkFlow = new LinkFlow_1.LinkFlow({\n            darkMode: options.darkMode,\n            version: options.version,\n            sessionId: options.session.id,\n            sessionSecret: options.session.secret,\n            walletLinkUrl: options.walletLinkUrl,\n            connected$: options.connected$,\n            isParentConnection: false\n        });\n    }\n    attach() {\n        if (this.attached) {\n            throw new Error(\"WalletLinkUI is already attached\");\n        }\n        const el = document.documentElement;\n        const container = document.createElement(\"div\");\n        container.className = \"-walletlink-css-reset\";\n        el.appendChild(container);\n        this.linkFlow.attach(container);\n        this.snackbar.attach(container);\n        this.attached = true;\n        (0, cssReset_1.injectCssReset)();\n    }\n    setConnectDisabled(connectDisabled) {\n        this.linkFlow.setConnectDisabled(connectDisabled);\n    }\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    addEthereumChain(options) {\n        // no-op\n    }\n    // @ts-ignore\n    watchAsset(options) {\n        // no-op\n    }\n    // @ts-ignore\n    switchEthereumChain(options) {\n        // no-op\n    }\n    requestEthereumAccounts(options) {\n        this.linkFlow.open({ onCancel: options.onCancel });\n    }\n    hideRequestEthereumAccounts() {\n        this.linkFlow.close();\n    }\n    signEthereumMessage(_) {\n        // No-op\n    }\n    signEthereumTransaction(_) {\n        // No-op\n    }\n    submitEthereumTransaction(_) {\n        // No-op\n    }\n    ethereumAddressFromSignedMessage(_) {\n        // No-op\n    }\n    showConnecting(options) {\n        let snackbarProps;\n        if (options.isUnlinkedErrorState) {\n            snackbarProps = {\n                autoExpand: true,\n                message: \"Connection lost\",\n                menuItems: [\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        else {\n            snackbarProps = {\n                message: \"Confirm on phone\",\n                menuItems: [\n                    {\n                        isRed: true,\n                        info: \"Cancel transaction\",\n                        svgWidth: \"11\",\n                        svgHeight: \"11\",\n                        path: \"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z\",\n                        defaultFillRule: \"inherit\",\n                        defaultClipRule: \"inherit\",\n                        onClick: options.onCancel\n                    },\n                    {\n                        isRed: false,\n                        info: \"Reset connection\",\n                        svgWidth: \"10\",\n                        svgHeight: \"11\",\n                        path: \"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z\",\n                        defaultFillRule: \"evenodd\",\n                        defaultClipRule: \"evenodd\",\n                        onClick: options.onResetConnection\n                    }\n                ]\n            };\n        }\n        return this.snackbar.presentItem(snackbarProps);\n    }\n    reloadUI() {\n        document.location.reload();\n    }\n    inlineAccountsResponse() {\n        return false;\n    }\n    // @ts-ignore\n    inlineAddEthereumChain(chainId) {\n        return false;\n    }\n    inlineWatchAsset() {\n        return false;\n    }\n    inlineSwitchEthereumChain() {\n        return false;\n    }\n    isStandalone() {\n        return false;\n    }\n}\nexports.WalletLinkSdkUI = WalletLinkSdkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkFlow = void 0;\nconst preact_1 = require(\"preact\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst LinkDialog_1 = require(\"./LinkDialog\");\nconst TryExtensionLinkDialog_1 = require(\"./TryExtensionLinkDialog\");\nclass LinkFlow {\n    constructor(options) {\n        this.extensionUI$ = new rxjs_1.BehaviorSubject({});\n        this.subscriptions = new rxjs_1.Subscription();\n        this.isConnected = false;\n        this.isOpen = false;\n        this.onCancel = null;\n        this.root = null;\n        // if true, hide QR code in LinkFlow (which happens if no jsonRpcUrl is provided)\n        this.connectDisabled = false;\n        this.darkMode = options.darkMode;\n        this.version = options.version;\n        this.sessionId = options.sessionId;\n        this.sessionSecret = options.sessionSecret;\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.isParentConnection = options.isParentConnection;\n        this.connected$ = options.connected$;\n        // Check if extension UI is enabled\n        fetch(\"https://api.wallet.coinbase.com/rpc/v2/getFeatureFlags\")\n            .then(res => res.json())\n            .then(json => {\n            const enabled = json.result.desktop.extension_ui;\n            if (typeof enabled === \"undefined\") {\n                this.extensionUI$.next({ value: false });\n            }\n            else {\n                this.extensionUI$.next({ value: enabled });\n            }\n        })\n            .catch(err => {\n            console.error('Couldn\\'t fetch feature flags - ', err);\n            this.extensionUI$.next({ value: false });\n        });\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-link-flow-root\";\n        el.appendChild(this.root);\n        this.render();\n        this.subscriptions.add(this.connected$.subscribe(v => {\n            if (this.isConnected !== v) {\n                this.isConnected = v;\n                this.render();\n            }\n        }));\n    }\n    detach() {\n        var _a;\n        if (!this.root) {\n            return;\n        }\n        this.subscriptions.unsubscribe();\n        (0, preact_1.render)(null, this.root);\n        (_a = this.root.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.root);\n    }\n    setConnectDisabled(connectDisabled) {\n        this.connectDisabled = connectDisabled;\n    }\n    open(options) {\n        this.isOpen = true;\n        this.onCancel = options.onCancel;\n        this.render();\n    }\n    close() {\n        this.isOpen = false;\n        this.onCancel = null;\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        const subscription = this.extensionUI$\n            .pipe((0, operators_1.first)(enabled => enabled.value !== undefined)) // wait for a valid value before rendering\n            .subscribe(enabled => {\n            if (!this.root) {\n                return;\n            }\n            (0, preact_1.render)(enabled.value ? ((0, preact_1.h)(TryExtensionLinkDialog_1.TryExtensionLinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel, connectDisabled: this.connectDisabled })) : ((0, preact_1.h)(LinkDialog_1.LinkDialog, { darkMode: this.darkMode, version: this.version, sessionId: this.sessionId, sessionSecret: this.sessionSecret, walletLinkUrl: this.walletLinkUrl, isOpen: this.isOpen, isConnected: this.isConnected, isParentConnection: this.isParentConnection, onCancel: this.onCancel })), this.root);\n        });\n        this.subscriptions.add(subscription);\n    }\n}\nexports.LinkFlow = LinkFlow;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst LinkDialog_css_1 = __importDefault(require(\"./LinkDialog-css\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst version_1 = require(\"../version\");\nconst LinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-container\", props.darkMode && \"-walletlink-link-dialog-container-dark\", isContainerHidden && \"-walletlink-link-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, LinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-backdrop\", isDialogHidden && \"-walletlink-link-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-link-dialog-box\", isDialogHidden && \"-walletlink-link-dialog-box-hidden\") },\n                (0, preact_1.h)(ScanQRCode, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection }),\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.LinkDialog = LinkDialog;\nconst ScanQRCode = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content\" },\n        (0, preact_1.h)(\"h3\", null,\n            \"Scan to\",\n            (0, preact_1.h)(\"br\", null),\n            \" Connect\"),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 224, height: 224, fgColor: \"#000\", bgColor: \"transparent\" })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-content-qrcode-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 128, color: props.darkMode ? \"#fff\" : \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))),\n            (0, preact_1.h)(\"p\", { title: `WalletLink v${props.version}` }, \"Powered by WalletLink\")),\n        (0, preact_1.h)(\"a\", { href: `${props.walletLinkUrl}/#/wallets`, target: \"_blank\", rel: \"noopener\" }, \"Don\\u2019t have a wallet app?\")));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-link-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-link-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-link-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-link-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.33);transition:opacity .25s}.-walletlink-css-reset .-walletlink-link-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-link-dialog-box{display:flex;position:relative;flex-direction:column;background-color:#f6f6f6;border-radius:16px;box-shadow:0px 16px 24px rgba(0,0,0,.1),0px 0px 8px rgba(0,0,0,.05);transform:scale(1);transition:opacity .25s,transform .25s;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-link-dialog-box-content{padding:24px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content h3{display:block;margin-bottom:24px;text-align:left;text-transform:uppercase;font-size:22px;font-weight:bold;line-height:1.2;color:#000}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode{position:relative;display:block;margin-bottom:24px;background-color:#f6f6f6;padding:16px;border-radius:16px;box-shadow:4px 4px 8px rgba(0,0,0,.15),-8px -8px 8px #fff;overflow:hidden}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper{display:block;width:232px;height:232px;padding:4px;border-radius:4px;background:#f4f4f4;margin-bottom:16px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-wrapper img{display:block;width:224px;height:224px}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode>p{display:block;color:gray;font-weight:bold;font-size:12px;text-align:center}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:rgba(246,246,246,.98)}.-walletlink-css-reset .-walletlink-link-dialog-box-content-qrcode-connecting p{margin-top:16px;color:#333;font-size:12px;font-weight:bold}.-walletlink-css-reset .-walletlink-link-dialog-box-content a{text-align:center;cursor:pointer;transition:color .1s;font-size:14px}.-walletlink-css-reset .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:visited{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-box-content a:active{color:#666;text-decoration:underline}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:24px;right:24px;width:24px;height:24px;border-radius:12px;background-color:#e7e7e7;cursor:pointer}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x{position:relative;display:block}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:2px;background-color:#999;transition:background-color .2s}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-link-dialog-container{display:block}.-walletlink-css-reset .-walletlink-link-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box{background-color:#2a2a2a}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content h3{color:#ccc}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode{background-color:#2a2a2a;box-shadow:4px 4px 8px rgba(0,0,0,.5),-8px -8px 8px #343434}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode>p{color:#999}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting{background:rgba(42,42,42,.98)}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content-qrcode-connecting p{color:#ddd}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:link,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:visited{color:#888}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:hover,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-content a:active{color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel{background-color:#333}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel-x::after{background-color:#aaa}.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-link-dialog-container-dark .-walletlink-link-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x::after{background-color:#eee}`;\n","/**\n * @fileoverview\n * - modified davidshimjs/qrcodejs library for use in node.js\n * - Using the 'QRCode for Javascript library'\n * - Fixed dataset of 'QRCode for Javascript library' for support full-spec.\n * - this library has no dependencies.\n *\n * @version 0.9.1 (2016-02-12)\n * @author davidshimjs, papnkukn\n * @see <a href=\"http://www.d-project.com/\" target=\"_blank\">http://www.d-project.com/</a>\n * @see <a href=\"http://jeromeetienne.github.com/jquery-qrcode/\" target=\"_blank\">http://jeromeetienne.github.com/jquery-qrcode/</a>\n * @see <a href=\"https://github.com/davidshimjs/qrcodejs\" target=\"_blank\">https://github.com/davidshimjs/qrcodejs</a>\n */\n\n//---------------------------------------------------------------------\n// QRCode for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//   http://www.opensource.org/licenses/mit-license.php\n//\n// The word \"QR Code\" is registered trademark of\n// DENSO WAVE INCORPORATED\n//   http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\nfunction QR8bitByte(data) {\n  this.mode = QRMode.MODE_8BIT_BYTE;\n  this.data = data;\n  this.parsedData = [];\n\n  // Added to support UTF-8 Characters\n  for (var i = 0, l = this.data.length; i < l; i++) {\n    var byteArray = [];\n    var code = this.data.charCodeAt(i);\n\n    if (code > 0x10000) {\n      byteArray[0] = 0xF0 | ((code & 0x1C0000) >>> 18);\n      byteArray[1] = 0x80 | ((code & 0x3F000) >>> 12);\n      byteArray[2] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[3] = 0x80 | (code & 0x3F);\n    } else if (code > 0x800) {\n      byteArray[0] = 0xE0 | ((code & 0xF000) >>> 12);\n      byteArray[1] = 0x80 | ((code & 0xFC0) >>> 6);\n      byteArray[2] = 0x80 | (code & 0x3F);\n    } else if (code > 0x80) {\n      byteArray[0] = 0xC0 | ((code & 0x7C0) >>> 6);\n      byteArray[1] = 0x80 | (code & 0x3F);\n    } else {\n      byteArray[0] = code;\n    }\n\n    this.parsedData.push(byteArray);\n  }\n\n  this.parsedData = Array.prototype.concat.apply([], this.parsedData);\n\n  if (this.parsedData.length != this.data.length) {\n    this.parsedData.unshift(191);\n    this.parsedData.unshift(187);\n    this.parsedData.unshift(239);\n  }\n}\n\nQR8bitByte.prototype = {\n  getLength: function (buffer) {\n    return this.parsedData.length;\n  },\n  write: function (buffer) {\n    for (var i = 0, l = this.parsedData.length; i < l; i++) {\n      buffer.put(this.parsedData[i], 8);\n    }\n  }\n};\n\nfunction QRCodeModel(typeNumber, errorCorrectLevel) {\n  this.typeNumber = typeNumber;\n  this.errorCorrectLevel = errorCorrectLevel;\n  this.modules = null;\n  this.moduleCount = 0;\n  this.dataCache = null;\n  this.dataList = [];\n}\n\nQRCodeModel.prototype={addData:function(data){var newData=new QR8bitByte(data);this.dataList.push(newData);this.dataCache=null;},isDark:function(row,col){if(row<0||this.moduleCount<=row||col<0||this.moduleCount<=col){throw new Error(row+\",\"+col);}\nreturn this.modules[row][col];},getModuleCount:function(){return this.moduleCount;},make:function(){this.makeImpl(false,this.getBestMaskPattern());},makeImpl:function(test,maskPattern){this.moduleCount=this.typeNumber*4+17;this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++){this.modules[row][col]=null;}}\nthis.setupPositionProbePattern(0,0);this.setupPositionProbePattern(this.moduleCount-7,0);this.setupPositionProbePattern(0,this.moduleCount-7);this.setupPositionAdjustPattern();this.setupTimingPattern();this.setupTypeInfo(test,maskPattern);if(this.typeNumber>=7){this.setupTypeNumber(test);}\nif(this.dataCache==null){this.dataCache=QRCodeModel.createData(this.typeNumber,this.errorCorrectLevel,this.dataList);}\nthis.mapData(this.dataCache,maskPattern);},setupPositionProbePattern:function(row,col){for(var r=-1;r<=7;r++){if(row+r<=-1||this.moduleCount<=row+r)continue;for(var c=-1;c<=7;c++){if(col+c<=-1||this.moduleCount<=col+c)continue;if((0<=r&&r<=6&&(c==0||c==6))||(0<=c&&c<=6&&(r==0||r==6))||(2<=r&&r<=4&&2<=c&&c<=4)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}},getBestMaskPattern:function(){var minLostPoint=0;var pattern=0;for(var i=0;i<8;i++){this.makeImpl(true,i);var lostPoint=QRUtil.getLostPoint(this);if(i==0||minLostPoint>lostPoint){minLostPoint=lostPoint;pattern=i;}}\nreturn pattern;},createMovieClip:function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth);var cs=1;this.make();for(var row=0;row<this.modules.length;row++){var y=row*cs;for(var col=0;col<this.modules[row].length;col++){var x=col*cs;var dark=this.modules[row][col];if(dark){qr_mc.beginFill(0,100);qr_mc.moveTo(x,y);qr_mc.lineTo(x+cs,y);qr_mc.lineTo(x+cs,y+cs);qr_mc.lineTo(x,y+cs);qr_mc.endFill();}}}\nreturn qr_mc;},setupTimingPattern:function(){for(var r=8;r<this.moduleCount-8;r++){if(this.modules[r][6]!=null){continue;}\nthis.modules[r][6]=(r%2==0);}\nfor(var c=8;c<this.moduleCount-8;c++){if(this.modules[6][c]!=null){continue;}\nthis.modules[6][c]=(c%2==0);}},setupPositionAdjustPattern:function(){var pos=QRUtil.getPatternPosition(this.typeNumber);for(var i=0;i<pos.length;i++){for(var j=0;j<pos.length;j++){var row=pos[i];var col=pos[j];if(this.modules[row][col]!=null){continue;}\nfor(var r=-2;r<=2;r++){for(var c=-2;c<=2;c++){if(r==-2||r==2||c==-2||c==2||(r==0&&c==0)){this.modules[row+r][col+c]=true;}else{this.modules[row+r][col+c]=false;}}}}}},setupTypeNumber:function(test){var bits=QRUtil.getBCHTypeNumber(this.typeNumber);for(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod;}\nfor(var i=0;i<18;i++){var mod=(!test&&((bits>>i)&1)==1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod;}},setupTypeInfo:function(test,maskPattern){var data=(this.errorCorrectLevel<<3)|maskPattern;var bits=QRUtil.getBCHTypeInfo(data);for(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<6){this.modules[i][8]=mod;}else if(i<8){this.modules[i+1][8]=mod;}else{this.modules[this.moduleCount-15+i][8]=mod;}}\nfor(var i=0;i<15;i++){var mod=(!test&&((bits>>i)&1)==1);if(i<8){this.modules[8][this.moduleCount-i-1]=mod;}else if(i<9){this.modules[8][15-i-1+1]=mod;}else{this.modules[8][15-i-1]=mod;}}\nthis.modules[this.moduleCount-8][8]=(!test);},mapData:function(data,maskPattern){var inc=-1;var row=this.moduleCount-1;var bitIndex=7;var byteIndex=0;for(var col=this.moduleCount-1;col>0;col-=2){if(col==6)col--;while(true){for(var c=0;c<2;c++){if(this.modules[row][col-c]==null){var dark=false;if(byteIndex<data.length){dark=(((data[byteIndex]>>>bitIndex)&1)==1);}\nvar mask=QRUtil.getMask(maskPattern,row,col-c);if(mask){dark=!dark;}\nthis.modules[row][col-c]=dark;bitIndex--;if(bitIndex==-1){byteIndex++;bitIndex=7;}}}\nrow+=inc;if(row<0||this.moduleCount<=row){row-=inc;inc=-inc;break;}}}}};QRCodeModel.PAD0=0xEC;QRCodeModel.PAD1=0x11;QRCodeModel.createData=function(typeNumber,errorCorrectLevel,dataList){var rsBlocks=QRRSBlock.getRSBlocks(typeNumber,errorCorrectLevel);var buffer=new QRBitBuffer();for(var i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4);buffer.put(data.getLength(),QRUtil.getLengthInBits(data.mode,typeNumber));data.write(buffer);}\nvar totalDataCount=0;for(var i=0;i<rsBlocks.length;i++){totalDataCount+=rsBlocks[i].dataCount;}\nif(buffer.getLengthInBits()>totalDataCount*8){throw new Error(\"code length overflow. (\"\n+buffer.getLengthInBits()\n+\">\"\n+totalDataCount*8\n+\")\");}\nif(buffer.getLengthInBits()+4<=totalDataCount*8){buffer.put(0,4);}\nwhile(buffer.getLengthInBits()%8!=0){buffer.putBit(false);}\nwhile(true){if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD0,8);if(buffer.getLengthInBits()>=totalDataCount*8){break;}\nbuffer.put(QRCodeModel.PAD1,8);}\nreturn QRCodeModel.createBytes(buffer,rsBlocks);};QRCodeModel.createBytes=function(buffer,rsBlocks){var offset=0;var maxDcCount=0;var maxEcCount=0;var dcdata=new Array(rsBlocks.length);var ecdata=new Array(rsBlocks.length);for(var r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount;var ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount);maxEcCount=Math.max(maxEcCount,ecCount);dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++){dcdata[r][i]=0xff&buffer.buffer[i+offset];}\noffset+=dcCount;var rsPoly=QRUtil.getErrorCorrectPolynomial(ecCount);var rawPoly=new QRPolynomial(dcdata[r],rsPoly.getLength()-1);var modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=(modIndex>=0)?modPoly.get(modIndex):0;}}\nvar totalCodeCount=0;for(var i=0;i<rsBlocks.length;i++){totalCodeCount+=rsBlocks[i].totalCount;}\nvar data=new Array(totalCodeCount);var index=0;for(var i=0;i<maxDcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<dcdata[r].length){data[index++]=dcdata[r][i];}}}\nfor(var i=0;i<maxEcCount;i++){for(var r=0;r<rsBlocks.length;r++){if(i<ecdata[r].length){data[index++]=ecdata[r][i];}}}\nreturn data;};var QRMode={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3};var QRErrorCorrectLevel={L:1,M:0,Q:3,H:2};var QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:(1<<10)|(1<<8)|(1<<5)|(1<<4)|(1<<2)|(1<<1)|(1<<0),G18:(1<<12)|(1<<11)|(1<<10)|(1<<9)|(1<<8)|(1<<5)|(1<<2)|(1<<0),G15_MASK:(1<<14)|(1<<12)|(1<<10)|(1<<4)|(1<<1),getBCHTypeInfo:function(data){var d=data<<10;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0){d^=(QRUtil.G15<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)));}\nreturn((data<<10)|d)^QRUtil.G15_MASK;},getBCHTypeNumber:function(data){var d=data<<12;while(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0){d^=(QRUtil.G18<<(QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)));}\nreturn(data<<12)|d;},getBCHDigit:function(data){var digit=0;while(data!=0){digit++;data>>>=1;}\nreturn digit;},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1];},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return(i*j)%2+(i*j)%3==0;case QRMaskPattern.PATTERN110:return((i*j)%2+(i*j)%3)%2==0;case QRMaskPattern.PATTERN111:return((i*j)%3+(i+j)%2)%2==0;default:throw new Error(\"bad maskPattern:\"+maskPattern);}},getErrorCorrectPolynomial:function(errorCorrectLength){var a=new QRPolynomial([1],0);for(var i=0;i<errorCorrectLength;i++){a=a.multiply(new QRPolynomial([1,QRMath.gexp(i)],0));}\nreturn a;},getLengthInBits:function(mode,type){if(1<=type&&type<10){switch(mode){case QRMode.MODE_NUMBER:return 10;case QRMode.MODE_ALPHA_NUM:return 9;case QRMode.MODE_8BIT_BYTE:return 8;case QRMode.MODE_KANJI:return 8;default:throw new Error(\"mode:\"+mode);}}else if(type<27){switch(mode){case QRMode.MODE_NUMBER:return 12;case QRMode.MODE_ALPHA_NUM:return 11;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 10;default:throw new Error(\"mode:\"+mode);}}else if(type<41){switch(mode){case QRMode.MODE_NUMBER:return 14;case QRMode.MODE_ALPHA_NUM:return 13;case QRMode.MODE_8BIT_BYTE:return 16;case QRMode.MODE_KANJI:return 12;default:throw new Error(\"mode:\"+mode);}}else{throw new Error(\"type:\"+type);}},getLostPoint:function(qrCode){var moduleCount=qrCode.getModuleCount();var lostPoint=0;for(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount;col++){var sameCount=0;var dark=qrCode.isDark(row,col);for(var r=-1;r<=1;r++){if(row+r<0||moduleCount<=row+r){continue;}\nfor(var c=-1;c<=1;c++){if(col+c<0||moduleCount<=col+c){continue;}\nif(r==0&&c==0){continue;}\nif(dark==qrCode.isDark(row+r,col+c)){sameCount++;}}}\nif(sameCount>5){lostPoint+=(3+sameCount-5);}}}\nfor(var row=0;row<moduleCount-1;row++){for(var col=0;col<moduleCount-1;col++){var count=0;if(qrCode.isDark(row,col))count++;if(qrCode.isDark(row+1,col))count++;if(qrCode.isDark(row,col+1))count++;if(qrCode.isDark(row+1,col+1))count++;if(count==0||count==4){lostPoint+=3;}}}\nfor(var row=0;row<moduleCount;row++){for(var col=0;col<moduleCount-6;col++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)){lostPoint+=40;}}}\nfor(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount-6;row++){if(qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)){lostPoint+=40;}}}\nvar darkCount=0;for(var col=0;col<moduleCount;col++){for(var row=0;row<moduleCount;row++){if(qrCode.isDark(row,col)){darkCount++;}}}\nvar ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;lostPoint+=ratio*10;return lostPoint;}};var QRMath={glog:function(n){if(n<1){throw new Error(\"glog(\"+n+\")\");}\nreturn QRMath.LOG_TABLE[n];},gexp:function(n){while(n<0){n+=255;}\nwhile(n>=256){n-=255;}\nreturn QRMath.EXP_TABLE[n];},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var i=0;i<8;i++){QRMath.EXP_TABLE[i]=1<<i;}\nfor(var i=8;i<256;i++){QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];}\nfor(var i=0;i<255;i++){QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;}\nfunction QRPolynomial(num,shift){if(num.length==undefined){throw new Error(num.length+\"/\"+shift);}\nvar offset=0;while(offset<num.length&&num[offset]==0){offset++;}\nthis.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++){this.num[i]=num[i+offset];}}\nQRPolynomial.prototype={get:function(index){return this.num[index];},getLength:function(){return this.num.length;},multiply:function(e){var num=new Array(this.getLength()+e.getLength()-1);for(var i=0;i<this.getLength();i++){for(var j=0;j<e.getLength();j++){num[i+j]^=QRMath.gexp(QRMath.glog(this.get(i))+QRMath.glog(e.get(j)));}}\nreturn new QRPolynomial(num,0);},mod:function(e){if(this.getLength()-e.getLength()<0){return this;}\nvar ratio=QRMath.glog(this.get(0))-QRMath.glog(e.get(0));var num=new Array(this.getLength());for(var i=0;i<this.getLength();i++){num[i]=this.get(i);}\nfor(var i=0;i<e.getLength();i++){num[i]^=QRMath.gexp(QRMath.glog(e.get(i))+ratio);}\nreturn new QRPolynomial(num,0).mod(e);}};function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount;this.dataCount=dataCount;}\nQRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(rsBlock==undefined){throw new Error(\"bad rs block @ typeNumber:\"+typeNumber+\"/errorCorrectLevel:\"+errorCorrectLevel);}\nvar length=rsBlock.length/3;var list=[];for(var i=0;i<length;i++){var count=rsBlock[i*3+0];var totalCount=rsBlock[i*3+1];var dataCount=rsBlock[i*3+2];for(var j=0;j<count;j++){list.push(new QRRSBlock(totalCount,dataCount));}}\nreturn list;};QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case QRErrorCorrectLevel.L:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+0];case QRErrorCorrectLevel.M:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+1];case QRErrorCorrectLevel.Q:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+2];case QRErrorCorrectLevel.H:return QRRSBlock.RS_BLOCK_TABLE[(typeNumber-1)*4+3];default:return undefined;}};function QRBitBuffer(){this.buffer=[];this.length=0;}\nQRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return((this.buffer[bufIndex]>>>(7-index%8))&1)==1;},put:function(num,length){for(var i=0;i<length;i++){this.putBit(((num>>>(length-i-1))&1)==1);}},getLengthInBits:function(){return this.length;},putBit:function(bit){var bufIndex=Math.floor(this.length/8);if(this.buffer.length<=bufIndex){this.buffer.push(0);}\nif(bit){this.buffer[bufIndex]|=(0x80>>>(this.length%8));}\nthis.length++;}};var QRCodeLimitLength=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];\n\n\n/** Constructor */\nfunction QRCode(options) {\n  var instance = this;\n\n  //Default options\n  this.options = {\n    padding: 4,\n    width: 256,\n    height: 256,\n    typeNumber: 4,\n    color: \"#000000\",\n    background: \"#ffffff\",\n    ecl: \"M\",\n    image:{\n      svg:\"\",\n      width:0,\n      height:0\n    }\n  };\n\n  //In case the options is string\n  if (typeof options === 'string') {\n    options = {\n      content: options\n    };\n  }\n\n  //Merge options\n  if (options) {\n    for (var i in options) {\n      this.options[i] = options[i];\n    }\n  }\n\n  if (typeof this.options.content !== 'string') {\n    throw new Error(\"Expected 'content' as string!\");\n  }\n\n  if (this.options.content.length === 0 /* || this.options.content.length > 7089 */) {\n    throw new Error(\"Expected 'content' to be non-empty!\");\n  }\n\n  if (!(this.options.padding >= 0)) {\n    throw new Error(\"Expected 'padding' value to be non-negative!\");\n  }\n\n  if (!(this.options.width > 0) || !(this.options.height > 0)) {\n    throw new Error(\"Expected 'width' or 'height' value to be higher than zero!\");\n  }\n\n  //Gets the error correction level\n  function _getErrorCorrectLevel(ecl) {\n    switch (ecl) {\n        case \"L\":\n          return QRErrorCorrectLevel.L;\n\n        case \"M\":\n          return QRErrorCorrectLevel.M;\n\n        case \"Q\":\n          return QRErrorCorrectLevel.Q;\n\n        case \"H\":\n          return QRErrorCorrectLevel.H;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n  }\n\n  //Get type number\n  function _getTypeNumber(content, ecl) {\n    var length = _getUTF8Length(content);\n\n    var type = 1;\n    var limit = 0;\n    for (var i = 0, len = QRCodeLimitLength.length; i <= len; i++) {\n      var table = QRCodeLimitLength[i];\n      if (!table) {\n        throw new Error(\"Content too long: expected \" + limit + \" but got \" + length);\n      }\n\n      switch (ecl) {\n        case \"L\":\n          limit = table[0];\n          break;\n\n        case \"M\":\n          limit = table[1];\n          break;\n\n        case \"Q\":\n          limit = table[2];\n          break;\n\n        case \"H\":\n          limit = table[3];\n          break;\n\n        default:\n          throw new Error(\"Unknwon error correction level: \" + ecl);\n      }\n\n      if (length <= limit) {\n        break;\n      }\n\n      type++;\n    }\n\n    if (type > QRCodeLimitLength.length) {\n      throw new Error(\"Content too long\");\n    }\n\n    return type;\n  }\n\n  //Gets text length\n  function _getUTF8Length(content) {\n    var result = encodeURI(content).toString().replace(/\\%[0-9a-fA-F]{2}/g, 'a');\n    return result.length + (result.length != content ? 3 : 0);\n  }\n\n  //Generate QR Code matrix\n  var content = this.options.content;\n  var type = _getTypeNumber(content, this.options.ecl);\n  var ecl = _getErrorCorrectLevel(this.options.ecl);\n  this.qrcode = new QRCodeModel(type, ecl);\n  this.qrcode.addData(content);\n  this.qrcode.make();\n}\n\n/** Generates QR Code as SVG image */\nQRCode.prototype.svg = function(opt) {\n  var options = this.options || { };\n  var modules = this.qrcode.modules;\n\n  if (typeof opt == \"undefined\") {\n    opt = { container: options.container || \"svg\" };\n  }\n\n  //Apply new lines and indents in SVG?\n  var pretty = typeof options.pretty != \"undefined\" ? !!options.pretty : true;\n\n  var indent = pretty ? '  ' : '';\n  var EOL = pretty ? '\\r\\n' : '';\n  var width = options.width;\n  var height = options.height;\n  var length = modules.length;\n  var xsize = width / (length + 2 * options.padding);\n  var ysize = height / (length + 2 * options.padding);\n\n  //Join (union, merge) rectangles into one shape?\n  var join = typeof options.join != \"undefined\" ? !!options.join : false;\n\n  //Swap the X and Y modules, pull request #2\n  var swap = typeof options.swap != \"undefined\" ? !!options.swap : false;\n\n  //Apply <?xml...?> declaration in SVG?\n  var xmlDeclaration = typeof options.xmlDeclaration != \"undefined\" ? !!options.xmlDeclaration : true;\n\n  //Populate with predefined shape instead of \"rect\" elements, thanks to @kkocdko\n  var predefined = typeof options.predefined != \"undefined\" ? !!options.predefined : false;\n  var defs = predefined ? indent + '<defs><path id=\"qrmodule\" d=\"M0 0 h' + ysize + ' v' + xsize + ' H0 z\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" /></defs>' + EOL : '';\n\n  //Background rectangle\n  var bgrect = indent + '<rect x=\"0\" y=\"0\" width=\"' + width + '\" height=\"' + height + '\" style=\"fill:' + options.background + ';shape-rendering:crispEdges;\"/>' + EOL;\n\n  //Rectangles representing modules\n  var modrect = '';\n  var pathdata = '';\n\n  for (var y = 0; y < length; y++) {\n    for (var x = 0; x < length; x++) {\n      var module = modules[x][y];\n      if (module) {\n\n        var px = (x * xsize + options.padding * xsize);\n        var py = (y * ysize + options.padding * ysize);\n\n        //Some users have had issues with the QR Code, thanks to @danioso for the solution\n        if (swap) {\n          var t = px;\n          px = py;\n          py = t;\n        }\n\n        if (join) {\n          //Module as a part of svg path data, thanks to @danioso\n          var w = xsize + px\n          var h = ysize + py\n\n          px = (Number.isInteger(px))? Number(px): px.toFixed(2);\n          py = (Number.isInteger(py))? Number(py): py.toFixed(2);\n          w = (Number.isInteger(w))? Number(w): w.toFixed(2);\n          h = (Number.isInteger(h))? Number(h): h.toFixed(2);\n\n          pathdata += ('M' + px + ',' + py + ' V' + h + ' H' + w + ' V' + py + ' H' + px + ' Z ');\n        }\n        else if (predefined) {\n          //Module as a predefined shape, thanks to @kkocdko\n          modrect += indent + '<use x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" href=\"#qrmodule\" />' + EOL;\n        }\n        else {\n          //Module as rectangle element\n          modrect += indent + '<rect x=\"' + px.toString() + '\" y=\"' + py.toString() + '\" width=\"' + xsize + '\" height=\"' + ysize + '\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\"/>' + EOL;\n        }\n      }\n    }\n  }\n\n  if (join) {\n    modrect = indent + '<path x=\"0\" y=\"0\" style=\"fill:' + options.color + ';shape-rendering:crispEdges;\" d=\"' + pathdata + '\" />';\n  }\n  let imgSvg = \"\";\n  if(this.options.image !== undefined && this.options.image.svg){\n    const imgWidth = width * this.options.image.width / 100;\n    const imgHeight = height * this.options.image.height / 100;\n    const imgX = (width/2) - imgWidth/2;\n    const imgY = (height/2) - imgHeight/2;\n    imgSvg += `<svg x=\"${imgX}\" y=\"${imgY}\" width=\"${imgWidth}\" height=\"${imgHeight}\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">`;\n    imgSvg += this.options.image.svg + EOL;\n    imgSvg += '</svg>';\n  }\n\n  var svg = \"\";\n  switch (opt.container) {\n    //Wrapped in SVG document\n    case \"svg\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n    //Viewbox for responsive use in a browser, thanks to @danioso\n    case \"svg-viewbox\":\n      if (xmlDeclaration) {\n        svg += '<?xml version=\"1.0\" standalone=\"yes\"?>' + EOL;\n      }\n      svg += '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" viewBox=\"0 0 ' + width + ' ' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</svg>';\n      break;\n\n\n    //Wrapped in group element\n    case \"g\":\n      svg += '<g width=\"' + width + '\" height=\"' + height + '\">' + EOL;\n      svg += defs + bgrect + modrect;\n      svg += imgSvg;\n      svg += '</g>';\n\n      break;\n\n    //Without a container\n    default:\n      svg += (defs + bgrect + modrect + imgSvg).replace(/^\\s+/, \"\"); //Clear indents on each line\n      break;\n  }\n\n  return svg;\n};\n\nmodule.exports = QRCode;\n\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-spinner{display:inline-block}.-walletlink-css-reset .-walletlink-spinner svg{display:inline-block;animation:2s linear infinite -walletlink-spinner-svg}.-walletlink-css-reset .-walletlink-spinner svg circle{animation:1.9s ease-in-out infinite both -walletlink-spinner-circle;display:block;fill:transparent;stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -walletlink-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -walletlink-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}`;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TryExtensionLinkDialog = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst globe_icon_svg_1 = __importDefault(require(\"./icons/globe-icon-svg\"));\nconst link_icon_svg_1 = __importDefault(require(\"./icons/link-icon-svg\"));\nconst lock_icon_svg_1 = __importDefault(require(\"./icons/lock-icon-svg\"));\nconst QRLogo_1 = __importDefault(require(\"./icons/QRLogo\"));\nconst QRCode_1 = require(\"./QRCode\");\nconst Spinner_1 = require(\"./Spinner\");\nconst TryExtensionLinkDialog_css_1 = __importDefault(require(\"./TryExtensionLinkDialog-css\"));\nconst version_1 = require(\"../version\");\nconst TryExtensionLinkDialog = props => {\n    const [isContainerHidden, setContainerHidden] = (0, hooks_1.useState)(!props.isOpen);\n    const [isDialogHidden, setDialogHidden] = (0, hooks_1.useState)(!props.isOpen);\n    (0, hooks_1.useEffect)(() => {\n        const { isOpen } = props;\n        const timers = [\n            window.setTimeout(() => {\n                setDialogHidden(!isOpen);\n            }, 10)\n        ];\n        if (isOpen) {\n            setContainerHidden(false);\n        }\n        else {\n            timers.push(window.setTimeout(() => {\n                setContainerHidden(true);\n            }, 360));\n        }\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    }, [props.isOpen]);\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-container\", isContainerHidden && \"-walletlink-extension-dialog-container-hidden\") },\n        (0, preact_1.h)(\"style\", null, TryExtensionLinkDialog_css_1.default),\n        (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-backdrop\", isDialogHidden && \"-walletlink-extension-dialog-backdrop-hidden\") }),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog\" },\n            (0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-extension-dialog-box\", isDialogHidden && \"-walletlink-extension-dialog-box-hidden\") },\n                (0, preact_1.h)(TryExtensionBox, { onInstallClick: () => {\n                        window.open(\"https://api.wallet.coinbase.com/rpc/v2/desktop/chrome\", \"_blank\");\n                    } }),\n                !props.connectDisabled ? ((0, preact_1.h)(ScanQRBox, { darkMode: props.darkMode, version: props.version, sessionId: props.sessionId, sessionSecret: props.sessionSecret, walletLinkUrl: props.walletLinkUrl, isConnected: props.isConnected, isParentConnection: props.isParentConnection })) : null,\n                props.onCancel && (0, preact_1.h)(CancelButton, { onClick: props.onCancel })))));\n};\nexports.TryExtensionLinkDialog = TryExtensionLinkDialog;\nconst TryExtensionBox = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-install-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Try the Coinbase Wallet extension\"),\n            (0, preact_1.h)(\"button\", { onClick: props.onInstallClick }, \"Install\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-info-region\" },\n            (0, preact_1.h)(DescriptionItem, { icon: link_icon_svg_1.default, text: \"Connect to crypto apps with one click\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: lock_icon_svg_1.default, text: \"Your private key is stored securely\" }),\n            (0, preact_1.h)(DescriptionItem, { icon: globe_icon_svg_1.default, text: \"Works with Ethereum, Polygon, and more\" }))));\n};\nconst ScanQRBox = props => {\n    const serverUrl = window.encodeURIComponent(props.walletLinkUrl);\n    const sessionIdKey = props.isParentConnection ? \"parent-id\" : \"id\";\n    const qrUrl = `${props.walletLinkUrl}/#/link?${sessionIdKey}=${props.sessionId}&secret=${props.sessionSecret}&server=${serverUrl}&v=1`;\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-description-region\" },\n            (0, preact_1.h)(\"h2\", null, \"Or scan to connect\"),\n            (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-bottom-description\" },\n                \"Open \",\n                (0, preact_1.h)(\"a\", { href: \"https://wallet.coinbase.com/\" }, \"Coinbase Wallet\"),\n                \" on your mobile phone and scan\")),\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-region\" },\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-wrapper\" },\n                (0, preact_1.h)(QRCode_1.QRCode, { content: qrUrl, width: 150, height: 150, fgColor: \"#000\", bgColor: \"transparent\", image: {\n                        svg: QRLogo_1.default,\n                        width: 34,\n                        height: 34\n                    } })),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", name: \"walletlink-version\", value: version_1.LIB_VERSION }),\n            (0, preact_1.h)(\"input\", { type: \"hidden\", value: qrUrl }),\n            !props.isConnected && ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-bottom-qr-connecting\" },\n                (0, preact_1.h)(Spinner_1.Spinner, { size: 36, color: \"#000\" }),\n                (0, preact_1.h)(\"p\", null, \"Connecting...\"))))));\n};\nconst DescriptionItem = props => {\n    return ((0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description\" },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-top-description-icon-wrapper\" },\n            (0, preact_1.h)(\"img\", { src: props.icon })),\n        (0, preact_1.h)(\"body\", { class: \"-walletlink-extension-dialog-box-top-description-text\" }, props.text)));\n};\nconst CancelButton = props => ((0, preact_1.h)(\"button\", { class: \"-walletlink-extension-dialog-box-cancel\", onClick: props.onClick },\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-extension-dialog-box-cancel-x\" })));\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTggMEMzLjU4IDAgMCAzLjU4IDAgOHMzLjU4IDggOCA4IDgtMy41OCA4LTgtMy41OC04LTgtOFptNS45MSA3aC0xLjk0Yy0uMS0xLjU3LS40Mi0zLS45MS00LjE1IDEuNDguODggMi41NSAyLjM4IDIuODUgNC4xNVpNOCAxNGMtLjQ1IDAtMS43Mi0xLjc3LTEuOTUtNWgzLjljLS4yMyAzLjIzLTEuNSA1LTEuOTUgNVpNNi4wNSA3QzYuMjggMy43NyA3LjU1IDIgOCAyYy40NSAwIDEuNzIgMS43NyAxLjk1IDVoLTMuOVpNNC45NCAyLjg1QzQuNDYgNCA0LjEzIDUuNDMgNC4wMyA3SDIuMDljLjMtMS43NyAxLjM3LTMuMjcgMi44NS00LjE1Wk0yLjA5IDloMS45NGMuMSAxLjU3LjQyIDMgLjkxIDQuMTVBNS45OTggNS45OTggMCAwIDEgMi4wOSA5Wm04Ljk3IDQuMTVjLjQ4LTEuMTUuODEtMi41OC45MS00LjE1aDEuOTRhNS45OTggNS45OTggMCAwIDEtMi44NSA0LjE1WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE1LjYzNSAyLjExN2EzLjg4OSAzLjg4OSAwIDAgMC01LjUyMSAwTDYuODkgNS4zMzVBMy44OTQgMy44OTQgMCAwIDAgNS44IDguNzM5Yy4wODMuNTA2LjI2OCAxLjAxMS41NTMgMS40NjYuMTUxLjI1My4zMzYuNDcyLjUzNy42OTFsLjYyMS42MjQgMS4xNDEtMS4xNDYtLjYyLS42MjRhMi4xMDUgMi4xMDUgMCAwIDEtLjQ4Ny0uNzQxIDIuMzQgMi4zNCAwIDAgMSAuNTAzLTIuNTFsMy4yMDYtMy4yMmEyLjI5MyAyLjI5MyAwIDAgMSAzLjIzOSAwYy44OS44OTQuODkgMi4zNDMgMCAzLjI1M2wtMS41MjcgMS41MzNjLjIzNC42NC4zMzUgMS4zMzEuMzAyIDIuMDA1bDIuMzgzLTIuMzkyYzEuNTEtMS41MzQgMS40OTMtNC4wMjgtLjAxNy01LjU2MVoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBkPSJNMTEuMjcxIDcuNzQ1YTMuMTMgMy4xMyAwIDAgMC0uNTU0LS42OWwtLjYyLS42MjQtMS4xNDIgMS4xNDYuNjIxLjYyM2MuMjE4LjIyLjM4Ni40ODkuNDg3Ljc1OC4zMzUuODI2LjE2NyAxLjgyLS41MDQgMi40OTRsLTMuMjA1IDMuMjE5YTIuMjkzIDIuMjkzIDAgMCAxLTMuMjQgMCAyLjMxNiAyLjMxNiAwIDAgMSAwLTMuMjUybDEuNTI4LTEuNTM0YTQuODE1IDQuODE1IDAgMCAxLS4yODUtMi4wMDVsLTIuMzgzIDIuMzkzYTMuOTI3IDMuOTI3IDAgMCAwIDAgNS41NDQgMy45MDkgMy45MDkgMCAwIDAgNS41MzggMGwzLjIwNS0zLjIxOWEzLjk1OCAzLjk1OCAwIDAgMCAxLjA5MS0zLjQwNCA0LjIxMSA0LjIxMSAwIDAgMC0uNTM3LTEuNDQ5WiIgZmlsbD0iIzE2NTJGMCIvPjwvc3ZnPg==`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEgN3Y5aDE0VjdIMVptNy41IDQuMzlWMTRoLTF2LTIuNjFjLS40NC0uMTktLjc1LS42My0uNzUtMS4xNGExLjI1IDEuMjUgMCAwIDEgMi41IDBjMCAuNTEtLjMxLjk1LS43NSAxLjE0Wk01LjY3IDZWNC4zM0M1LjY3IDMuMDUgNi43MSAyIDggMnMyLjMzIDEuMDUgMi4zMyAyLjMzVjZoMlY0LjMzQzEyLjMzIDEuOTQgMTAuMzkgMCA4IDBTMy42NyAxLjk0IDMuNjcgNC4zM1Y2aDJaIiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `<svg width=\"100\" height=\"100\" viewBox=\"0 0 100 100\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"50\" cy=\"50\" r=\"50\" fill=\"white\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" fill=\"#1B53E4\"/>\n<circle cx=\"49.9996\" cy=\"49.9996\" r=\"43.6363\" stroke=\"white\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z\" fill=\"white\"/>\n</svg>\n\n`;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-walletlink-extension-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);transition:opacity .25s}.-walletlink-css-reset .-walletlink-extension-dialog-backdrop-hidden{opacity:0}.-walletlink-css-reset .-walletlink-extension-dialog-box{display:flex;position:relative;max-width:500px;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-extension-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top{display:flex;flex-direction:row;background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;padding:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-install-region button{display:block;border-radius:8px;background-color:#1652f0;color:#fff;width:90%;min-width:fit-content;height:44px;margin-top:16px;font-size:16px;padding-left:16px;padding-right:16px;cursor:pointer;font-weight:500;text-align:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-info-region{display:flex;flex-basis:50%;flex-direction:column;justify-content:center;background-color:#fafbfc}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description{display:flex;flex-direction:row;align-items:center;padding-top:14px;padding-bottom:14px;padding-left:24px;padding-right:32px}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper{display:block;position:relative;width:40px;height:40px;flex-shrink:0;flex-grow:0;border-radius:20px;background-color:#fff;box-shadow:0px 0px 8px rgba(0,0,0,.04),0px 16px 24px rgba(0,0,0,.06)}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-icon-wrapper img{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.-walletlink-css-reset .-walletlink-extension-dialog-box-top-description-text{margin-left:16px;flex-grow:1;font-size:13px;line-height:19px;color:#000;align-self:center}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom{display:flex;flex-direction:row;overflow:hidden;border-radius:8px;background-color:#fff;margin-top:8px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description-region{display:flex;flex-direction:column;justify-content:center;padding:32px;flex-grow:1}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description{font-size:13px;line-height:19px;margin-top:12px;color:#aaa}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-description a{font-size:inherit;line-height:inherit;color:#1652f0;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-region{position:relative;flex-shrink:0;display:flex;flex-direction:column;justify-content:center;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper{position:relative;display:block;padding:8px;border-radius:8px;box-shadow:0px 4px 12px rgba(0,0,0,.1)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-wrapper img{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(255,255,255,.95)}.-walletlink-css-reset .-walletlink-extension-dialog-box-bottom-qr-connecting>p{font-size:12px;font-weight:bold;color:#000;margin-top:16px}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel{position:absolute;-webkit-appearance:none;display:flex;align-items:center;justify-content:center;top:16px;right:16px;width:24px;height:24px;border-radius:12px;background-color:#fafbfc;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x{position:relative;display:block;cursor:pointer}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{content:\"\";position:absolute;display:block;top:-1px;left:-7px;width:14px;height:1px;background-color:#000;transition:background-color .2s}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::before{transform:rotate(45deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel-x::after{transform:rotate(135deg)}.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-a,.-walletlink-css-reset .-walletlink-extension-dialog-box-cancel:hover .-walletlink-link-dialog-box-cancel-x-b{background-color:#000}.-walletlink-css-reset .-walletlink-extension-dialog-container{display:block}.-walletlink-css-reset .-walletlink-extension-dialog-container-hidden{display:none}.-walletlink-css-reset .-walletlink-extension-dialog h2{display:block;text-align:left;font-size:22px;font-weight:600;line-height:28px;color:#000}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Snackbar = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst Snackbar_css_1 = __importDefault(require(\"./Snackbar-css\"));\nconst cblogo = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+`;\nconst gearIcon = `data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=`;\nclass Snackbar {\n    constructor(options) {\n        this.items = new Map();\n        this.nextItemKey = 0;\n        this.root = null;\n        this.darkMode = options.darkMode;\n    }\n    attach(el) {\n        this.root = document.createElement(\"div\");\n        this.root.className = \"-walletlink-snackbar-root\";\n        el.appendChild(this.root);\n        this.render();\n    }\n    presentItem(itemProps) {\n        const key = this.nextItemKey++;\n        this.items.set(key, itemProps);\n        this.render();\n        return () => {\n            this.items.delete(key);\n            this.render();\n        };\n    }\n    clear() {\n        this.items.clear();\n        this.render();\n    }\n    render() {\n        if (!this.root) {\n            return;\n        }\n        (0, preact_1.render)((0, preact_1.h)(\"div\", null,\n            (0, preact_1.h)(SnackbarContainer, { darkMode: this.darkMode }, Array.from(this.items.entries()).map(([key, itemProps]) => ((0, preact_1.h)(SnackbarInstance, Object.assign({}, itemProps, { key: key })))))), this.root);\n    }\n}\nexports.Snackbar = Snackbar;\nconst SnackbarContainer = props => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-container\") },\n    (0, preact_1.h)(\"style\", null, Snackbar_css_1.default),\n    (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar\" }, props.children)));\nconst SnackbarInstance = ({ autoExpand, message, menuItems }) => {\n    const [hidden, setHidden] = (0, hooks_1.useState)(true);\n    const [expanded, setExpanded] = (0, hooks_1.useState)(autoExpand !== null && autoExpand !== void 0 ? autoExpand : false);\n    (0, hooks_1.useEffect)(() => {\n        const timers = [\n            window.setTimeout(() => {\n                setHidden(false);\n            }, 1),\n            window.setTimeout(() => {\n                setExpanded(true);\n            }, 10000)\n        ];\n        return () => {\n            timers.forEach(window.clearTimeout);\n        };\n    });\n    const toggleExpanded = () => {\n        setExpanded(!expanded);\n    };\n    return ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance\", hidden && \"-walletlink-snackbar-instance-hidden\", expanded && \"-walletlink-snackbar-instance-expanded\") },\n        (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header\", onClick: toggleExpanded },\n            (0, preact_1.h)(\"img\", { src: cblogo, class: \"-walletlink-snackbar-instance-header-cblogo\" }),\n            (0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-header-message\" }, message),\n            (0, preact_1.h)(\"div\", { class: \"-gear-container\" },\n                !expanded && ((0, preact_1.h)(\"svg\", { width: \"24\", height: \"24\", viewBox: \"0 0 24 24\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                    (0, preact_1.h)(\"circle\", { cx: \"12\", cy: \"12\", r: \"12\", fill: \"#F5F7F8\" }))),\n                (0, preact_1.h)(\"img\", { src: gearIcon, class: \"-gear-icon\", title: \"Expand\" }))),\n        menuItems && menuItems.length > 0 && ((0, preact_1.h)(\"div\", { class: \"-walletlink-snackbar-instance-menu\" }, menuItems.map((action, i) => ((0, preact_1.h)(\"div\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item\", action.isRed && \"-walletlink-snackbar-instance-menu-item-is-red\"), onClick: action.onClick, key: i },\n            (0, preact_1.h)(\"svg\", { width: action.svgWidth, height: action.svgHeight, viewBox: \"0 0 10 11\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n                (0, preact_1.h)(\"path\", { \"fill-rule\": action.defaultFillRule, \"clip-rule\": action.defaultClipRule, d: action.path, fill: \"#AAAAAA\" })),\n            (0, preact_1.h)(\"span\", { class: (0, clsx_1.default)(\"-walletlink-snackbar-instance-menu-item-info\", action.isRed && \"-walletlink-snackbar-instance-menu-item-info-is-red\") }, action.info))))))));\n};\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `.-walletlink-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-walletlink-css-reset .-gear-container *{user-select:none}.-walletlink-css-reset .-gear-container svg{opacity:0;position:absolute}.-walletlink-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-walletlink-css-reset .-walletlink-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-walletlink-css-reset .-walletlink-snackbar *{user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-walletlink-css-reset .-walletlink-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-walletlink-css-reset .-walletlink-snackbar-instance-header *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-walletlink-css-reset .-walletlink-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-walletlink-css-reset .-walletlink-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-walletlink-css-reset .-walletlink-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-walletlink-css-reset .-walletlink-snackbar-instance-expanded .-walletlink-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}`;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.injectCssReset = void 0;\nconst cssReset_css_1 = __importDefault(require(\"./cssReset-css\"));\nfunction injectCssReset() {\n    const styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    styleEl.appendChild(document.createTextNode(cssReset_css_1.default));\n    document.documentElement.appendChild(styleEl);\n}\nexports.injectCssReset = injectCssReset;\n","\"use strict\";\n// Copyright (c) 2018-2021 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2021 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = `@namespace svg \"http://www.w3.org/2000/svg\";.-walletlink-css-reset,.-walletlink-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:block;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:\"\\\\201C\" \"\\\\201D\" \"\\\\2018\" \"\\\\2019\";right:auto;tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.-walletlink-css-reset *{box-sizing:border-box;display:initial;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",\"Helvetica Neue\",Arial,sans-serif;line-height:1}.-walletlink-css-reset [class*=container]{margin:0;padding:0}.-walletlink-css-reset style{display:none}`;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkUI = void 0;\nclass WalletLinkUI {\n    constructor(_) { }\n    /**\n     * We want to disable showing the qr code for in-page walletlink if the dapp hasn't provided a json rpc url\n     */\n    setConnectDisabled(_) { }\n}\nexports.WalletLinkUI = WalletLinkUI;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelay = void 0;\nconst bind_decorator_1 = __importDefault(require(\"bind-decorator\"));\nconst eth_rpc_errors_1 = require(\"eth-rpc-errors\");\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst WalletLinkAnalytics_1 = require(\"../connection/WalletLinkAnalytics\");\nconst WalletLinkConnection_1 = require(\"../connection/WalletLinkConnection\");\nconst init_1 = require(\"../init\");\nconst util_1 = require(\"../util\");\nconst aes256gcm = __importStar(require(\"./aes256gcm\"));\nconst Session_1 = require(\"./Session\");\nconst WalletLinkRelayAbstract_1 = require(\"./WalletLinkRelayAbstract\");\nconst Web3Method_1 = require(\"./Web3Method\");\nconst Web3RequestCanceledMessage_1 = require(\"./Web3RequestCanceledMessage\");\nconst Web3RequestMessage_1 = require(\"./Web3RequestMessage\");\nconst Web3Response_1 = require(\"./Web3Response\");\nconst Web3ResponseMessage_1 = require(\"./Web3ResponseMessage\");\nclass WalletLinkRelay extends WalletLinkRelayAbstract_1.WalletLinkRelayAbstract {\n    constructor(options) {\n        super();\n        this.accountsCallback = null;\n        this.chainCallback = null;\n        this.appName = \"\";\n        this.appLogoUrl = null;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.walletLinkUrl = options.walletLinkUrl;\n        this.storage = options.storage;\n        this._session =\n            Session_1.Session.load(options.storage) || new Session_1.Session(options.storage).save();\n        this.relayEventManager = options.relayEventManager;\n        this.walletLinkAnalytics = options.walletLinkAnalytics\n            ? options.walletLinkAnalytics\n            : new WalletLinkAnalytics_1.WalletLinkAnalytics();\n        this.connection = new WalletLinkConnection_1.WalletLinkConnection(this._session.id, this._session.key, this.walletLinkUrl, this.walletLinkAnalytics);\n        this.subscriptions.add(this.connection.incomingEvent$\n            .pipe((0, operators_1.filter)(m => m.event === \"Web3Response\"))\n            .subscribe({ next: this.handleIncomingEvent }) // eslint-disable-line @typescript-eslint/unbound-method\n        );\n        this.subscriptions.add(this.connection.linked$\n            .pipe((0, operators_1.skip)(1), (0, operators_1.tap)((linked) => {\n            var _a;\n            this.isLinked = linked;\n            const cachedAddresses = this.storage.getItem(WalletLinkRelayAbstract_1.LOCAL_STORAGE_ADDRESSES_KEY);\n            if (linked) {\n                // Only set linked session variable one way\n                this.session.linked = linked;\n            }\n            this.isUnlinkedErrorState = false;\n            if (cachedAddresses) {\n                const addresses = cachedAddresses.split(\" \");\n                const wasConnectedViaStandalone = this.storage.getItem(\"IsStandaloneSigning\") === \"true\";\n                if (addresses[0] !== \"\" &&\n                    !linked &&\n                    this.session.linked &&\n                    !wasConnectedViaStandalone) {\n                    this.isUnlinkedErrorState = true;\n                    const sessionIdHash = this.getSessionIdHash();\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.UNLINKED_ERROR_STATE, { sessionIdHash, origin: location.origin });\n                }\n            }\n        }))\n            .subscribe());\n        // if session is marked destroyed, reset and reload\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => !!c.metadata && c.metadata.__destroyed === \"1\"))\n            .subscribe(() => {\n            var _a;\n            const alreadyDestroyed = this.connection.isDestroyed;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.METADATA_DESTROYED, {\n                alreadyDestroyed,\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            return this.resetAndReload();\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.WalletUsername !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.WalletUsername, this._session.secret)))\n            .subscribe({\n            next: walletUsername => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.WALLET_USER_NAME_KEY, walletUsername);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"username\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.AppVersion !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.AppVersion, this._session.secret)))\n            .subscribe({\n            next: appVersion => {\n                this.storage.setItem(WalletLinkRelayAbstract_1.APP_VERSION_KEY, appVersion);\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"appversion\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata &&\n            c.metadata.ChainId !== undefined &&\n            c.metadata.JsonRpcUrl !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => (0, rxjs_1.zip)(aes256gcm.decrypt(c.metadata.ChainId, this._session.secret), aes256gcm.decrypt(c.metadata.JsonRpcUrl, this._session.secret))))\n            .pipe((0, operators_1.distinctUntilChanged)())\n            .subscribe({\n            next: ([chainId, jsonRpcUrl]) => {\n                if (this.chainCallback) {\n                    this.chainCallback(chainId, jsonRpcUrl);\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"chainId|jsonRpcUrl\"\n                });\n            }\n        }));\n        this.subscriptions.add(this.connection.sessionConfig$\n            .pipe((0, operators_1.filter)(c => c.metadata && c.metadata.EthereumAddress !== undefined))\n            .pipe((0, operators_1.mergeMap)(c => aes256gcm.decrypt(c.metadata.EthereumAddress, this._session.secret)))\n            .subscribe({\n            next: selectedAddress => {\n                if (this.accountsCallback) {\n                    this.accountsCallback([selectedAddress]);\n                }\n                if (WalletLinkRelay.accountRequestCallbackIds.size > 0) {\n                    // We get the ethereum address from the metadata.  If for whatever\n                    // reason we don't get a response via an explicit web3 message\n                    // we can still fulfill the eip1102 request.\n                    Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => {\n                        const message = (0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                            id,\n                            response: (0, Web3Response_1.RequestEthereumAccountsResponse)([\n                                selectedAddress\n                            ])\n                        });\n                        this.invokeCallback(Object.assign(Object.assign({}, message), { id }));\n                    });\n                    WalletLinkRelay.accountRequestCallbackIds.clear();\n                }\n            },\n            error: () => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error decrypting\",\n                    value: \"selectedAddress\"\n                });\n            }\n        }));\n        this.ui = options.walletLinkUIConstructor({\n            walletLinkUrl: options.walletLinkUrl,\n            version: options.version,\n            darkMode: options.darkMode,\n            session: this._session,\n            connected$: this.connection.connected$\n        });\n        this.connection.connect();\n    }\n    attachUI() {\n        this.ui.attach();\n    }\n    resetAndReload() {\n        this.connection\n            .setSessionMetadata(\"__destroyed\", \"1\")\n            .pipe((0, operators_1.timeout)(1000), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(null)))\n            .subscribe(_ => {\n            var _a, _b, _c;\n            try {\n                this.subscriptions.unsubscribe();\n            }\n            catch (err) {\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                    message: \"Had error unsubscribing\"\n                });\n            }\n            (_b = this.walletLinkAnalytics) === null || _b === void 0 ? void 0 : _b.sendEvent(init_1.EVENTS.SESSION_STATE_CHANGE, {\n                method: \"relay::resetAndReload\",\n                sessionMetadataChange: \"__destroyed, 1\",\n                sessionIdHash: this.getSessionIdHash(),\n                origin: location.origin\n            });\n            this.connection.destroy();\n            /**\n             * Only clear storage if the session id we have in memory matches the one on disk\n             * Otherwise, in the case where we have 2 tabs, another tab might have cleared\n             * storage already.  In that case if we clear storage again, the user will be in\n             * a state where the first tab allows the user to connect but the session that\n             * was used isn't persisted.  This leaves the user in a state where they aren't\n             * connected to the mobile app.\n             */\n            const storedSession = Session_1.Session.load(this.storage);\n            if ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) === this._session.id) {\n                this.storage.clear();\n            }\n            else if (storedSession) {\n                (_c = this.walletLinkAnalytics) === null || _c === void 0 ? void 0 : _c.sendEvent(init_1.EVENTS.SKIPPED_CLEARING_SESSION, {\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: Session_1.Session.hash(storedSession.id),\n                    origin: location.origin\n                });\n            }\n            this.ui.reloadUI();\n        }, (err) => {\n            var _a;\n            (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.FAILURE, {\n                method: \"relay::resetAndReload\",\n                message: `failed to reset and reload with ${err}`,\n                sessionIdHash: this.getSessionIdHash()\n            });\n        });\n    }\n    setAppInfo(appName, appLogoUrl) {\n        this.appName = appName;\n        this.appLogoUrl = appLogoUrl;\n    }\n    getStorageItem(key) {\n        return this.storage.getItem(key);\n    }\n    get session() {\n        return this._session;\n    }\n    setStorageItem(key, value) {\n        this.storage.setItem(key, value);\n    }\n    signEthereumMessage(message, address, addPrefix, typedDataJson) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                address,\n                addPrefix,\n                typedDataJson: typedDataJson || null\n            }\n        });\n    }\n    ethereumAddressFromSignedMessage(message, signature, addPrefix) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n            params: {\n                message: (0, util_1.hexStringFromBuffer)(message, true),\n                signature: (0, util_1.hexStringFromBuffer)(signature, true),\n                addPrefix\n            }\n        });\n    }\n    signEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxPriorityFeePerGas: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: false\n            }\n        });\n    }\n    signAndSubmitEthereumTransaction(params) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.signEthereumTransaction,\n            params: {\n                fromAddress: params.fromAddress,\n                toAddress: params.toAddress,\n                weiValue: (0, util_1.bigIntStringFromBN)(params.weiValue),\n                data: (0, util_1.hexStringFromBuffer)(params.data, true),\n                nonce: params.nonce,\n                gasPriceInWei: params.gasPriceInWei\n                    ? (0, util_1.bigIntStringFromBN)(params.gasPriceInWei)\n                    : null,\n                maxFeePerGas: params.maxFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxFeePerGas)\n                    : null,\n                maxPriorityFeePerGas: params.maxPriorityFeePerGas\n                    ? (0, util_1.bigIntStringFromBN)(params.maxPriorityFeePerGas)\n                    : null,\n                gasLimit: params.gasLimit ? (0, util_1.bigIntStringFromBN)(params.gasLimit) : null,\n                chainId: params.chainId,\n                shouldSubmit: true\n            }\n        });\n    }\n    submitEthereumTransaction(signedTransaction, chainId) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.submitEthereumTransaction,\n            params: {\n                signedTransaction: (0, util_1.hexStringFromBuffer)(signedTransaction, true),\n                chainId\n            }\n        });\n    }\n    scanQRCode(regExp) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.scanQRCode,\n            params: { regExp }\n        });\n    }\n    genericRequest(data, action) {\n        return this.sendRequest({\n            method: Web3Method_1.Web3Method.generic,\n            params: {\n                action,\n                data\n            }\n        });\n    }\n    sendGenericMessage(request) {\n        return this.sendRequest(request);\n    }\n    sendRequest(request) {\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            if (!this.ui.isStandalone()) {\n                hideSnackbarItem = this.ui.showConnecting({\n                    isUnlinkedErrorState: this.isUnlinkedErrorState,\n                    onCancel: cancel,\n                    onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n                });\n            }\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            if (this.ui.isStandalone()) {\n                this.sendRequestStandalone(id, request);\n            }\n            else {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    setConnectDisabled(disabled) {\n        this.ui.setConnectDisabled(disabled);\n    }\n    setAccountsCallback(accountsCallback) {\n        this.accountsCallback = accountsCallback;\n    }\n    setChainCallback(chainCallback) {\n        this.chainCallback = chainCallback;\n    }\n    publishWeb3RequestEvent(id, request) {\n        var _a;\n        const message = (0, Web3RequestMessage_1.Web3RequestMessage)({ id, request });\n        const storedSession = Session_1.Session.load(this.storage);\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST, {\n            eventId: message.id,\n            method: `relay::${message.request.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            storedSessionIdHash: storedSession ? Session_1.Session.hash(storedSession.id) : \"\",\n            isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n            origin: location.origin\n        });\n        this.subscriptions.add(this.publishEvent(\"Web3Request\", message, true).subscribe({\n            next: _ => {\n                var _a;\n                (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_REQUEST_PUBLISHED, {\n                    eventId: message.id,\n                    method: `relay::${message.request.method}`,\n                    sessionIdHash: this.getSessionIdHash(),\n                    storedSessionIdHash: storedSession\n                        ? Session_1.Session.hash(storedSession.id)\n                        : \"\",\n                    isSessionMismatched: ((storedSession === null || storedSession === void 0 ? void 0 : storedSession.id) !== this._session.id).toString(),\n                    origin: location.origin\n                });\n            },\n            error: err => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id: message.id,\n                    response: {\n                        method: message.request.method,\n                        errorMessage: err.message\n                    }\n                }));\n            }\n        }));\n    }\n    publishWeb3RequestCanceledEvent(id) {\n        const message = (0, Web3RequestCanceledMessage_1.Web3RequestCanceledMessage)(id);\n        this.subscriptions.add(this.publishEvent(\"Web3RequestCanceled\", message, false).subscribe());\n    }\n    publishEvent(event, message, callWebhook) {\n        const secret = this.session.secret;\n        return new rxjs_1.Observable(subscriber => {\n            void aes256gcm\n                .encrypt(JSON.stringify(Object.assign(Object.assign({}, message), { origin: location.origin })), secret)\n                .then((encrypted) => {\n                subscriber.next(encrypted);\n                subscriber.complete();\n            });\n        }).pipe((0, operators_1.mergeMap)((encrypted) => {\n            return this.connection.publishEvent(event, encrypted, callWebhook);\n        }));\n    }\n    handleIncomingEvent(event) {\n        try {\n            this.subscriptions.add(aes256gcm\n                .decrypt(event.data, this.session.secret)\n                .pipe((0, operators_1.map)(c => JSON.parse(c)))\n                .subscribe({\n                next: json => {\n                    const message = (0, Web3ResponseMessage_1.isWeb3ResponseMessage)(json) ? json : null;\n                    if (!message) {\n                        return;\n                    }\n                    this.handleWeb3ResponseMessage(message);\n                },\n                error: () => {\n                    var _a;\n                    (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.GENERAL_ERROR, {\n                        message: \"Had error decrypting\",\n                        value: \"incomingEvent\"\n                    });\n                }\n            }));\n        }\n        catch (_a) {\n            return;\n        }\n    }\n    handleWeb3ResponseMessage(message) {\n        var _a;\n        const { response } = message;\n        (_a = this.walletLinkAnalytics) === null || _a === void 0 ? void 0 : _a.sendEvent(init_1.EVENTS.WEB3_RESPONSE, {\n            eventId: message.id,\n            method: `relay::${response.method}`,\n            sessionIdHash: this.getSessionIdHash(),\n            origin: location.origin\n        });\n        if ((0, Web3Response_1.isRequestEthereumAccountsResponse)(response)) {\n            Array.from(WalletLinkRelay.accountRequestCallbackIds.values()).forEach(id => this.invokeCallback(Object.assign(Object.assign({}, message), { id })));\n            WalletLinkRelay.accountRequestCallbackIds.clear();\n            return;\n        }\n        this.invokeCallback(message);\n    }\n    invokeCallback(message) {\n        const callback = this.relayEventManager.callbacks.get(message.id);\n        if (callback) {\n            callback(message.response);\n            this.relayEventManager.callbacks.delete(message.id);\n        }\n    }\n    requestEthereumAccounts() {\n        let request = {\n            method: Web3Method_1.Web3Method.requestEthereumAccounts,\n            params: {\n                appName: this.appName,\n                appLogoUrl: this.appLogoUrl || null\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        const promise = new Promise((resolve, reject) => {\n            var _a;\n            this.relayEventManager.callbacks.set(id, response => {\n                this.ui.hideRequestEthereumAccounts();\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const userAgent = ((_a = window === null || window === void 0 ? void 0 : window.navigator) === null || _a === void 0 ? void 0 : _a.userAgent) || null;\n            if (userAgent &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(userAgent)) {\n                window.location.href = `https://go.cb-w.com/xoXnYwQimhb?cb_url=${encodeURIComponent(window.location.href)}`;\n                return;\n            }\n            if (this.ui.inlineAccountsResponse()) {\n                const onAccounts = (accounts) => {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.RequestEthereumAccountsResponse)(accounts)\n                    }));\n                };\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel,\n                    onAccounts\n                });\n            }\n            else {\n                this.ui.requestEthereumAccounts({\n                    onCancel: cancel\n                });\n            }\n            WalletLinkRelay.accountRequestCallbackIds.add(id);\n            if (!this.ui.inlineAccountsResponse() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    watchAsset(type, address, symbol, decimals, image) {\n        const request = {\n            method: Web3Method_1.Web3Method.watchAsset,\n            params: {\n                type,\n                options: {\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                }\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineWatchAsset()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(false)\n                }));\n            };\n            const approve = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.WatchAssetReponse)(true)\n                }));\n            };\n            if (this.ui.inlineWatchAsset()) {\n                this.ui.watchAsset({\n                    onApprove: approve,\n                    onCancel: _cancel,\n                    type,\n                    address,\n                    symbol,\n                    decimals,\n                    image\n                });\n            }\n            if (!this.ui.inlineWatchAsset() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { cancel, promise };\n    }\n    addEthereumChain(chainId, rpcUrls, iconUrls, blockExplorerUrls, chainName, nativeCurrency) {\n        let request = {\n            method: Web3Method_1.Web3Method.addEthereumChain,\n            params: {\n                chainId,\n                rpcUrls,\n                blockExplorerUrls,\n                chainName,\n                iconUrls,\n                nativeCurrency\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineAddEthereumChain(chainId)) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = () => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({\n                        isApproved: false,\n                        rpcUrl: \"\"\n                    })\n                }));\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.AddEthereumChainResponse)({ isApproved: true, rpcUrl })\n                }));\n            };\n            if (this.ui.inlineAddEthereumChain(chainId)) {\n                this.ui.addEthereumChain({\n                    onCancel: _cancel,\n                    onApprove: approve,\n                    chainId: request.params.chainId,\n                    rpcUrls: request.params.rpcUrls,\n                    blockExplorerUrls: request.params\n                        .blockExplorerUrls,\n                    chainName: request.params.chainName,\n                    iconUrls: request.params.iconUrls,\n                    nativeCurrency: request.params\n                        .nativeCurrency\n                });\n            }\n            if (!this.ui.inlineAddEthereumChain(chainId) && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    switchEthereumChain(chainId) {\n        let request = {\n            method: Web3Method_1.Web3Method.switchEthereumChain,\n            params: {\n                chainId\n            }\n        };\n        let hideSnackbarItem = null;\n        const id = (0, util_1.randomBytesHex)(8);\n        const cancel = () => {\n            this.publishWeb3RequestCanceledEvent(id);\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n            hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n        };\n        if (!this.ui.inlineSwitchEthereumChain()) {\n            hideSnackbarItem = this.ui.showConnecting({\n                isUnlinkedErrorState: this.isUnlinkedErrorState,\n                onCancel: cancel,\n                onResetConnection: this.resetAndReload // eslint-disable-line @typescript-eslint/unbound-method\n            });\n        }\n        const promise = new Promise((resolve, reject) => {\n            this.relayEventManager.callbacks.set(id, response => {\n                hideSnackbarItem === null || hideSnackbarItem === void 0 ? void 0 : hideSnackbarItem();\n                if (response.errorMessage && response.errorCode) {\n                    return reject(eth_rpc_errors_1.ethErrors.provider.custom({\n                        code: response.errorCode,\n                        message: `Unrecognized chain ID. Try adding the chain using addEthereumChain first.`\n                    }));\n                }\n                else if (response.errorMessage) {\n                    return reject(new Error(response.errorMessage));\n                }\n                resolve(response);\n            });\n            const _cancel = (errorCode) => {\n                if (errorCode) {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.ErrorResponse)(Web3Method_1.Web3Method.switchEthereumChain, \"unsupported chainId\", errorCode)\n                    }));\n                }\n                else {\n                    this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                        id,\n                        response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                            isApproved: false,\n                            rpcUrl: \"\"\n                        })\n                    }));\n                }\n            };\n            const approve = (rpcUrl) => {\n                this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                    id,\n                    response: (0, Web3Response_1.SwitchEthereumChainResponse)({\n                        isApproved: true,\n                        rpcUrl\n                    })\n                }));\n            };\n            this.ui.switchEthereumChain({\n                onCancel: _cancel,\n                onApprove: approve,\n                chainId: request.params.chainId\n            });\n            if (!this.ui.inlineSwitchEthereumChain() && !this.ui.isStandalone()) {\n                this.publishWeb3RequestEvent(id, request);\n            }\n        });\n        return { promise, cancel };\n    }\n    getSessionIdHash() {\n        return Session_1.Session.hash(this._session.id);\n    }\n    sendRequestStandalone(id, request) {\n        const _cancel = () => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response: (0, Web3Response_1.ErrorResponse)(request.method, \"User rejected request\")\n            }));\n        };\n        const onSuccess = (response) => {\n            this.handleWeb3ResponseMessage((0, Web3ResponseMessage_1.Web3ResponseMessage)({\n                id,\n                response\n            }));\n        };\n        switch (request.method) {\n            case Web3Method_1.Web3Method.signEthereumMessage:\n                this.ui.signEthereumMessage({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.signEthereumTransaction:\n                this.ui.signEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.submitEthereumTransaction:\n                this.ui.submitEthereumTransaction({\n                    request,\n                    onSuccess,\n                    onCancel: _cancel\n                });\n                break;\n            case Web3Method_1.Web3Method.ethereumAddressFromSignedMessage:\n                this.ui.ethereumAddressFromSignedMessage({\n                    request,\n                    onSuccess\n                });\n                break;\n            default:\n                _cancel();\n                break;\n        }\n    }\n}\nWalletLinkRelay.accountRequestCallbackIds = new Set();\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"resetAndReload\", null);\n__decorate([\n    bind_decorator_1.default\n], WalletLinkRelay.prototype, \"handleIncomingEvent\", null);\nexports.WalletLinkRelay = WalletLinkRelay;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar constants;\n(function (constants) {\n    constants.typeOfFunction = 'function';\n    constants.boolTrue = true;\n})(constants || (constants = {}));\nfunction bind(target, propertyKey, descriptor) {\n    if (!descriptor || (typeof descriptor.value !== constants.typeOfFunction)) {\n        throw new TypeError(\"Only methods can be decorated with @bind. <\" + propertyKey + \"> is not a method!\");\n    }\n    return {\n        configurable: constants.boolTrue,\n        get: function () {\n            var bound = descriptor.value.bind(this);\n            // Credits to https://github.com/andreypopp/autobind-decorator for memoizing the result of bind against a symbol on the instance.\n            Object.defineProperty(this, propertyKey, {\n                value: bound,\n                configurable: constants.boolTrue,\n                writable: constants.boolTrue\n            });\n            return bound;\n        }\n    };\n}\nexports.bind = bind;\nexports.default = bind;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkConnection = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nconst init_1 = require(\"../init\");\nconst Session_1 = require(\"../relay/Session\");\nconst types_1 = require(\"../types\");\nconst ClientMessage_1 = require(\"./ClientMessage\");\nconst RxWebSocket_1 = require(\"./RxWebSocket\");\nconst ServerMessage_1 = require(\"./ServerMessage\");\nconst HEARTBEAT_INTERVAL = 10000;\nconst REQUEST_TIMEOUT = 60000;\n/**\n * WalletLink Connection\n */\nclass WalletLinkConnection {\n    /**\n     * Constructor\n     * @param sessionId Session ID\n     * @param sessionKey Session Key\n     * @param serverUrl Walletlinkd RPC URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(sessionId, sessionKey, serverUrl, walletLinkAnalytics, WebSocketClass = WebSocket) {\n        this.sessionId = sessionId;\n        this.sessionKey = sessionKey;\n        this.subscriptions = new rxjs_1.Subscription();\n        this.destroyed = false;\n        this.lastHeartbeatResponse = 0;\n        this.nextReqId = (0, types_1.IntNumber)(1);\n        this.connectedSubject = new rxjs_1.BehaviorSubject(false);\n        this.linkedSubject = new rxjs_1.BehaviorSubject(false);\n        this.sessionConfigSubject = new rxjs_1.ReplaySubject(1);\n        const ws = new RxWebSocket_1.RxWebSocket(serverUrl + \"/rpc\", WebSocketClass);\n        this.ws = ws;\n        this.walletLinkAnalytics = walletLinkAnalytics;\n        // attempt to reconnect every 5 seconds when disconnected\n        this.subscriptions.add(ws.connectionState$\n            .pipe((0, operators_1.tap)(state => this.walletLinkAnalytics.sendEvent(init_1.EVENTS.CONNECTED_STATE_CHANGE, {\n            state,\n            sessionIdHash: Session_1.Session.hash(sessionId)\n        })), \n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), \n        // if DISCONNECTED and not destroyed\n        (0, operators_1.filter)(cs => cs === RxWebSocket_1.ConnectionState.DISCONNECTED && !this.destroyed), \n        // wait 5 seconds\n        (0, operators_1.delay)(5000), \n        // check whether it's destroyed again\n        (0, operators_1.filter)(_ => !this.destroyed), \n        // reconnect\n        (0, operators_1.flatMap)(_ => ws.connect()), (0, operators_1.retry)())\n            .subscribe());\n        // perform authentication upon connection\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED and CONNECTING states\n        (0, operators_1.skip)(2), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, authenticate, and then check link status\n        this.authenticate().pipe((0, operators_1.tap)(_ => this.sendIsLinked()), (0, operators_1.tap)(_ => this.sendGetSessionConfig()), (0, operators_1.map)(_ => true)), \n        // if not CONNECTED, emit false immediately\n        (0, rxjs_1.of)(false))), (0, operators_1.distinctUntilChanged)(), (0, operators_1.catchError)(_ => (0, rxjs_1.of)(false)))\n            .subscribe(connected => this.connectedSubject.next(connected)));\n        // send heartbeat every n seconds while connected\n        this.subscriptions.add(ws.connectionState$\n            .pipe(\n        // ignore initial DISCONNECTED state\n        (0, operators_1.skip)(1), (0, operators_1.switchMap)(cs => (0, rxjs_1.iif)(() => cs === RxWebSocket_1.ConnectionState.CONNECTED, \n        // if CONNECTED, start the heartbeat timer\n        (0, rxjs_1.timer)(0, HEARTBEAT_INTERVAL))))\n            .subscribe(i => \n        // first timer event updates lastHeartbeat timestamp\n        // subsequent calls send heartbeat message\n        i === 0 ? this.updateLastHeartbeat() : this.heartbeat()));\n        // handle server's heartbeat responses\n        this.subscriptions.add(ws.incomingData$\n            .pipe((0, operators_1.filter)(m => m === \"h\"))\n            .subscribe(_ => this.updateLastHeartbeat()));\n        // handle link status updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"IsLinkedOK\", \"Linked\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.LINKED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                linked: msg.linked,\n                type: m.type,\n                onlineGuests: msg.onlineGuests\n            });\n            this.linkedSubject.next(msg.linked || msg.onlineGuests > 0);\n        }));\n        // handle session config updates\n        this.subscriptions.add(ws.incomingJSONData$\n            .pipe((0, operators_1.filter)(m => [\"GetSessionConfigOK\", \"SessionConfigUpdated\"].includes(m.type)))\n            .subscribe(m => {\n            const msg = m;\n            this.walletLinkAnalytics.sendEvent(init_1.EVENTS.SESSION_CONFIG_RECEIVED, {\n                sessionIdHash: Session_1.Session.hash(sessionId),\n                metadata_keys: msg && msg.metadata ? Object.keys(msg.metadata) : undefined\n            });\n            this.sessionConfigSubject.next({\n                webhookId: msg.webhookId,\n                webhookUrl: msg.webhookUrl,\n                metadata: msg.metadata\n            });\n        }));\n    }\n    /**\n     * Make a connection to the server\n     */\n    connect() {\n        if (this.destroyed) {\n            throw new Error(\"instance is destroyed\");\n        }\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.STARTED_CONNECTING, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.ws.connect().subscribe();\n    }\n    /**\n     * Terminate connection, and mark as destroyed. To reconnect, create a new\n     * instance of WalletLinkConnection\n     */\n    destroy() {\n        this.subscriptions.unsubscribe();\n        this.ws.disconnect();\n        this.walletLinkAnalytics.sendEvent(init_1.EVENTS.DISCONNECTED, {\n            sessionIdHash: Session_1.Session.hash(this.sessionId)\n        });\n        this.destroyed = true;\n    }\n    get isDestroyed() {\n        return this.destroyed;\n    }\n    /**\n     * Emit true if connected and authenticated, else false\n     * @returns an Observable\n     */\n    get connected$() {\n        return this.connectedSubject.asObservable();\n    }\n    /**\n     * Emit once connected\n     * @returns an Observable\n     */\n    get onceConnected$() {\n        return this.connected$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit true if linked (a guest has joined before)\n     * @returns an Observable\n     */\n    get linked$() {\n        return this.linkedSubject.asObservable();\n    }\n    /**\n     * Emit once when linked\n     * @returns an Observable\n     */\n    get onceLinked$() {\n        return this.linked$.pipe((0, operators_1.filter)(v => v), (0, operators_1.take)(1), (0, operators_1.map)(() => void 0));\n    }\n    /**\n     * Emit current session config if available, and subsequent updates\n     * @returns an Observable for the session config\n     */\n    get sessionConfig$() {\n        return this.sessionConfigSubject.asObservable();\n    }\n    /**\n     * Emit incoming Event messages\n     * @returns an Observable for the messages\n     */\n    get incomingEvent$() {\n        return this.ws.incomingJSONData$.pipe((0, operators_1.filter)(m => {\n            if (m.type !== \"Event\") {\n                return false;\n            }\n            const sme = m;\n            return (typeof sme.sessionId === \"string\" &&\n                typeof sme.eventId === \"string\" &&\n                typeof sme.event === \"string\" &&\n                typeof sme.data === \"string\");\n        }), (0, operators_1.map)(m => m));\n    }\n    /**\n     * Set session metadata in SessionConfig object\n     * @param key\n     * @param value\n     * @returns an Observable that completes when successful\n     */\n    setSessionMetadata(key, value) {\n        const message = (0, ClientMessage_1.ClientMessageSetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            metadata: { [key]: value }\n        });\n        return this.onceConnected$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to set session metadata\");\n            }\n        }));\n    }\n    /**\n     * Publish an event and emit event ID when successful\n     * @param event event name\n     * @param data event data\n     * @param callWebhook whether the webhook should be invoked\n     * @returns an Observable that emits event ID when successful\n     */\n    publishEvent(event, data, callWebhook = false) {\n        const message = (0, ClientMessage_1.ClientMessagePublishEvent)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            event,\n            data,\n            callWebhook\n        });\n        return this.onceLinked$.pipe((0, operators_1.flatMap)(_ => this.makeRequest(message)), (0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to publish event\");\n            }\n            return res.eventId;\n        }));\n    }\n    sendData(message) {\n        this.ws.sendData(JSON.stringify(message));\n    }\n    updateLastHeartbeat() {\n        this.lastHeartbeatResponse = Date.now();\n    }\n    heartbeat() {\n        if (Date.now() - this.lastHeartbeatResponse > HEARTBEAT_INTERVAL * 2) {\n            this.ws.disconnect();\n            return;\n        }\n        try {\n            this.ws.sendData(\"h\");\n        }\n        catch (_a) { }\n    }\n    makeRequest(message, timeout = REQUEST_TIMEOUT) {\n        const reqId = message.id;\n        try {\n            this.sendData(message);\n        }\n        catch (err) {\n            return (0, rxjs_1.throwError)(err);\n        }\n        // await server message with corresponding id\n        return this.ws.incomingJSONData$.pipe((0, operators_1.timeoutWith)(timeout, (0, rxjs_1.throwError)(new Error(`request ${reqId} timed out`))), (0, operators_1.filter)(m => m.id === reqId), (0, operators_1.take)(1));\n    }\n    authenticate() {\n        const msg = (0, ClientMessage_1.ClientMessageHostSession)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId,\n            sessionKey: this.sessionKey\n        });\n        return this.makeRequest(msg).pipe((0, operators_1.map)(res => {\n            if ((0, ServerMessage_1.isServerMessageFail)(res)) {\n                throw new Error(res.error || \"failed to authentcate\");\n            }\n        }));\n    }\n    sendIsLinked() {\n        const msg = (0, ClientMessage_1.ClientMessageIsLinked)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n    sendGetSessionConfig() {\n        const msg = (0, ClientMessage_1.ClientMessageGetSessionConfig)({\n            id: (0, types_1.IntNumber)(this.nextReqId++),\n            sessionId: this.sessionId\n        });\n        this.sendData(msg);\n    }\n}\nexports.WalletLinkConnection = WalletLinkConnection;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ClientMessagePublishEvent = exports.ClientMessageSetSessionConfig = exports.ClientMessageGetSessionConfig = exports.ClientMessageIsLinked = exports.ClientMessageHostSession = void 0;\nfunction ClientMessageHostSession(params) {\n    return Object.assign({ type: \"HostSession\" }, params);\n}\nexports.ClientMessageHostSession = ClientMessageHostSession;\nfunction ClientMessageIsLinked(params) {\n    return Object.assign({ type: \"IsLinked\" }, params);\n}\nexports.ClientMessageIsLinked = ClientMessageIsLinked;\nfunction ClientMessageGetSessionConfig(params) {\n    return Object.assign({ type: \"GetSessionConfig\" }, params);\n}\nexports.ClientMessageGetSessionConfig = ClientMessageGetSessionConfig;\nfunction ClientMessageSetSessionConfig(params) {\n    return Object.assign({ type: \"SetSessionConfig\" }, params);\n}\nexports.ClientMessageSetSessionConfig = ClientMessageSetSessionConfig;\nfunction ClientMessagePublishEvent(params) {\n    return Object.assign({ type: \"PublishEvent\" }, params);\n}\nexports.ClientMessagePublishEvent = ClientMessagePublishEvent;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RxWebSocket = exports.ConnectionState = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst operators_1 = require(\"rxjs/operators\");\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"DISCONNECTED\"] = 0] = \"DISCONNECTED\";\n    ConnectionState[ConnectionState[\"CONNECTING\"] = 1] = \"CONNECTING\";\n    ConnectionState[ConnectionState[\"CONNECTED\"] = 2] = \"CONNECTED\";\n})(ConnectionState = exports.ConnectionState || (exports.ConnectionState = {}));\n/**\n * Rx-ified WebSocket\n */\nclass RxWebSocket {\n    /**\n     * Constructor\n     * @param url WebSocket server URL\n     * @param [WebSocketClass] Custom WebSocket implementation\n     */\n    constructor(url, WebSocketClass = WebSocket) {\n        this.WebSocketClass = WebSocketClass;\n        this.webSocket = null;\n        this.connectionStateSubject = new rxjs_1.BehaviorSubject(ConnectionState.DISCONNECTED);\n        this.incomingDataSubject = new rxjs_1.Subject();\n        this.url = url.replace(/^http/, \"ws\");\n    }\n    /**\n     * Make a websocket connection\n     * @returns an Observable that completes when connected\n     */\n    connect() {\n        if (this.webSocket) {\n            return (0, rxjs_1.throwError)(new Error(\"webSocket object is not null\"));\n        }\n        return new rxjs_1.Observable(obs => {\n            let webSocket;\n            try {\n                this.webSocket = webSocket = new this.WebSocketClass(this.url);\n            }\n            catch (err) {\n                obs.error(err);\n                return;\n            }\n            this.connectionStateSubject.next(ConnectionState.CONNECTING);\n            webSocket.onclose = evt => {\n                this.clearWebSocket();\n                obs.error(new Error(`websocket error ${evt.code}: ${evt.reason}`));\n                this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n            };\n            webSocket.onopen = _ => {\n                obs.next();\n                obs.complete();\n                this.connectionStateSubject.next(ConnectionState.CONNECTED);\n            };\n            webSocket.onmessage = evt => {\n                this.incomingDataSubject.next(evt.data);\n            };\n        }).pipe((0, operators_1.take)(1));\n    }\n    /**\n     * Disconnect from server\n     */\n    disconnect() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.clearWebSocket();\n        this.connectionStateSubject.next(ConnectionState.DISCONNECTED);\n        try {\n            webSocket.close();\n        }\n        catch (_a) { }\n    }\n    /**\n     * Emit current connection state and subsequent changes\n     * @returns an Observable for the connection state\n     */\n    get connectionState$() {\n        return this.connectionStateSubject.asObservable();\n    }\n    /**\n     * Emit incoming data from server\n     * @returns an Observable for the data received\n     */\n    get incomingData$() {\n        return this.incomingDataSubject.asObservable();\n    }\n    /**\n     * Emit incoming JSON data from server. non-JSON data are ignored\n     * @returns an Observable for parsed JSON data\n     */\n    get incomingJSONData$() {\n        return this.incomingData$.pipe((0, operators_1.flatMap)(m => {\n            let j;\n            try {\n                j = JSON.parse(m);\n            }\n            catch (err) {\n                return (0, rxjs_1.empty)();\n            }\n            return (0, rxjs_1.of)(j);\n        }));\n    }\n    /**\n     * Send data to server\n     * @param data text to send\n     */\n    sendData(data) {\n        const { webSocket } = this;\n        if (!webSocket) {\n            throw new Error(\"websocket is not connected\");\n        }\n        webSocket.send(data);\n    }\n    clearWebSocket() {\n        const { webSocket } = this;\n        if (!webSocket) {\n            return;\n        }\n        this.webSocket = null;\n        webSocket.onclose = null;\n        webSocket.onerror = null;\n        webSocket.onmessage = null;\n        webSocket.onopen = null;\n    }\n}\nexports.RxWebSocket = RxWebSocket;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isServerMessageFail = void 0;\nfunction isServerMessageFail(msg) {\n    return (msg &&\n        msg.type === \"Fail\" &&\n        typeof msg.id === \"number\" &&\n        typeof msg.sessionId === \"string\" &&\n        typeof msg.error === \"string\");\n}\nexports.isServerMessageFail = isServerMessageFail;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = void 0;\nconst rxjs_1 = require(\"rxjs\");\nconst util_1 = require(\"../util\");\n/**\n *\n * @param plainText string to be encrypted\n * @param secret hex representation of 32-byte secret\n * returns hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes. Remaining bytes are the\n * encrypted plainText.\n */\nasync function encrypt(plainText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    const ivBytes = crypto.getRandomValues(new Uint8Array(12));\n    const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n    const enc = new TextEncoder();\n    // Will return encrypted plainText with auth tag (ie MAC or checksum) appended at the end\n    const encryptedResult = await window.crypto.subtle.encrypt({\n        name: \"AES-GCM\",\n        iv: ivBytes\n    }, secretKey, enc.encode(plainText));\n    const tagLength = 16;\n    const authTag = encryptedResult.slice(encryptedResult.byteLength - tagLength);\n    const encryptedPlaintext = encryptedResult.slice(0, encryptedResult.byteLength - tagLength);\n    const authTagBytes = new Uint8Array(authTag);\n    const encryptedPlaintextBytes = new Uint8Array(encryptedPlaintext);\n    const concatted = new Uint8Array([...ivBytes, ...authTagBytes, ...encryptedPlaintextBytes]);\n    return (0, util_1.uint8ArrayToHex)(concatted);\n}\nexports.encrypt = encrypt;\n/**\n *\n * @param cipherText hex string representation of bytes in the order: initialization vector (iv),\n * auth tag, encrypted plaintext. IV is 12 bytes. Auth tag is 16 bytes.\n * @param secret hex string representation of 32-byte secret\n */\nfunction decrypt(cipherText, secret) {\n    if (secret.length !== 64)\n        throw Error(`secret must be 256 bits`);\n    return new rxjs_1.Observable((subscriber) => {\n        void (async function () {\n            const secretKey = await crypto.subtle.importKey(\"raw\", (0, util_1.hexStringToUint8Array)(secret), { \"name\": \"aes-gcm\" }, false, [\"encrypt\", \"decrypt\"]);\n            const encrypted = (0, util_1.hexStringToUint8Array)(cipherText);\n            const ivBytes = encrypted.slice(0, 12);\n            const authTagBytes = encrypted.slice(12, 28);\n            const encryptedPlaintextBytes = encrypted.slice(28);\n            const concattedBytes = new Uint8Array([...encryptedPlaintextBytes, ...authTagBytes]);\n            const algo = {\n                name: \"AES-GCM\",\n                iv: new Uint8Array(ivBytes)\n            };\n            try {\n                const decrypted = await window.crypto.subtle.decrypt(algo, secretKey, concattedBytes);\n                const decoder = new TextDecoder();\n                subscriber.next(decoder.decode(decrypted));\n                subscriber.complete();\n            }\n            catch (err) {\n                subscriber.error(err);\n            }\n        })();\n    });\n}\nexports.decrypt = decrypt;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestCanceledMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestCanceledMessage(id) {\n    return { type: RelayMessage_1.RelayMessageType.WEB3_REQUEST_CANCELED, id };\n}\nexports.Web3RequestCanceledMessage = Web3RequestCanceledMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Web3RequestMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3RequestMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_REQUEST }, params);\n}\nexports.Web3RequestMessage = Web3RequestMessage;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EthereumAddressFromSignedMessageResponse = exports.SubmitEthereumTransactionResponse = exports.SignEthereumTransactionResponse = exports.SignEthereumMessageResponse = exports.isRequestEthereumAccountsResponse = exports.WatchAssetReponse = exports.RequestEthereumAccountsResponse = exports.SwitchEthereumChainResponse = exports.AddEthereumChainResponse = exports.ErrorResponse = void 0;\nconst Web3Method_1 = require(\"./Web3Method\");\nfunction ErrorResponse(method, errorMessage, errorCode) {\n    return { method, errorMessage, errorCode };\n}\nexports.ErrorResponse = ErrorResponse;\nfunction AddEthereumChainResponse(addResponse) {\n    return {\n        method: Web3Method_1.Web3Method.addEthereumChain,\n        result: addResponse\n    };\n}\nexports.AddEthereumChainResponse = AddEthereumChainResponse;\nfunction SwitchEthereumChainResponse(switchResponse) {\n    return {\n        method: Web3Method_1.Web3Method.switchEthereumChain,\n        result: switchResponse\n    };\n}\nexports.SwitchEthereumChainResponse = SwitchEthereumChainResponse;\nfunction RequestEthereumAccountsResponse(addresses) {\n    return { method: Web3Method_1.Web3Method.requestEthereumAccounts, result: addresses };\n}\nexports.RequestEthereumAccountsResponse = RequestEthereumAccountsResponse;\nfunction WatchAssetReponse(success) {\n    return { method: Web3Method_1.Web3Method.watchAsset, result: success };\n}\nexports.WatchAssetReponse = WatchAssetReponse;\nfunction isRequestEthereumAccountsResponse(res) {\n    return res && res.method === Web3Method_1.Web3Method.requestEthereumAccounts;\n}\nexports.isRequestEthereumAccountsResponse = isRequestEthereumAccountsResponse;\nfunction SignEthereumMessageResponse(signature) {\n    return { method: Web3Method_1.Web3Method.signEthereumMessage, result: signature };\n}\nexports.SignEthereumMessageResponse = SignEthereumMessageResponse;\nfunction SignEthereumTransactionResponse(signedData) {\n    return { method: Web3Method_1.Web3Method.signEthereumTransaction, result: signedData };\n}\nexports.SignEthereumTransactionResponse = SignEthereumTransactionResponse;\nfunction SubmitEthereumTransactionResponse(txHash) {\n    return { method: Web3Method_1.Web3Method.submitEthereumTransaction, result: txHash };\n}\nexports.SubmitEthereumTransactionResponse = SubmitEthereumTransactionResponse;\nfunction EthereumAddressFromSignedMessageResponse(address) {\n    return {\n        method: Web3Method_1.Web3Method.ethereumAddressFromSignedMessage,\n        result: address\n    };\n}\nexports.EthereumAddressFromSignedMessageResponse = EthereumAddressFromSignedMessageResponse;\n","\"use strict\";\n// Copyright (c) 2018-2020 WalletLink.org <https://www.walletlink.org/>\n// Copyright (c) 2018-2020 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isWeb3ResponseMessage = exports.Web3ResponseMessage = void 0;\nconst RelayMessage_1 = require(\"./RelayMessage\");\nfunction Web3ResponseMessage(params) {\n    return Object.assign({ type: RelayMessage_1.RelayMessageType.WEB3_RESPONSE }, params);\n}\nexports.Web3ResponseMessage = Web3ResponseMessage;\nfunction isWeb3ResponseMessage(msg) {\n    return msg && msg.type === RelayMessage_1.RelayMessageType.WEB3_RESPONSE;\n}\nexports.isWeb3ResponseMessage = isWeb3ResponseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletLinkRelayEventManager = void 0;\nconst util_1 = require(\"../util\");\nclass WalletLinkRelayEventManager {\n    constructor() {\n        this._nextRequestId = 0;\n        this.callbacks = new Map();\n    }\n    makeRequestId() {\n        // max nextId == max int32 for compatibility with mobile\n        this._nextRequestId = (this._nextRequestId + 1) % 0x7fffffff;\n        const id = this._nextRequestId;\n        const idStr = (0, util_1.prepend0x)(id.toString(16));\n        // unlikely that this will ever be an issue, but just to be safe\n        const callback = this.callbacks.get(idStr);\n        if (callback) {\n            this.callbacks.delete(idStr);\n        }\n        return id;\n    }\n}\nexports.WalletLinkRelayEventManager = WalletLinkRelayEventManager;\n"],"sourceRoot":""}